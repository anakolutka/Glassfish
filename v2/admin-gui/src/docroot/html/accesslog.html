<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>

  <meta http-equiv="Content-type" content="text/html; charset=UTF-8">
  <!-- ident      "%Z%%M% %I%     %E% SMI" -->

  <title>To configure the HTTP Service Access Log
  </title>
  <script language="JavaScript1.2">
    linktag = window.parent.frames[0].document.getElementsByTagName('link');
    for (var i = 0; i < linktag.length; i++) {
        if (linktag[i].rel == "stylesheet") {
            var s = "<link rel=" + linktag[i].rel + " type='text/css' href=" + linktag[i].href + " />";
            document.write(s);
        }
    }
  </script>
  <meta name="Copyright" content="Copyright &copy; 2007 by Sun Microsystems, Inc. All Rights Reserved." />
</head>

<body class="HlpBdy">

<a name="accesslog"></a><h4>To configure the HTTP Service Access Log</h4><p>Use this page to enable and configure rotation for the access logs for
the virtual servers. These logs are in the <tt>domain_root_dir/domain_dir/logs/access</tt> directory and are
named as follows: <tt>virtual_server_name_access_log.yyyy-mm-dd.txt</tt></p><ol>
<li><b>Expand the Configuration node to select the HTTP Service node.</b></li>
<li><b>In the Clusters and Enterprise profile, select the configuration you want to configure.</b></li>
<li><b>Click the Access Log tab.</b></li>
<li><b>Define the Access Log settings as follows:</b>
<ul><li><p>Rotation: Check the File Rotation box to enable file rotation. </p></li>
<li><p>Rotation Policy: Choose a policy from the Rotation Policy drop-down list. (The only policy available is <tt>time</tt>).</p></li>
<li><p>Rotation Interval: Enter a numeric value to specify the number of minutes between rotations of the access log. This field is valid only if the Rotation Policy is time. The default is 1440 minutes.</p><p>When you specify a rotation-interval, and the rotation interval has elapsed, the access log file will be rotated only if the resulting rotation suffix of the new access log file is different from the rotation suffix of the existing access log file. So, the rotation interval must coincide with the rotation suffix in order to see your access log file rotated within the expected time-frame interval.</p></li>
<li><p>Rotation Suffix: Enter a string value to specify the suffix to be added to the log file name after rotation. The default is <tt>YYYY-MM-DD</tt>.</p></li>
<li><p>Format: Enter a string value to specify the format of the access log. Use the formats shown in the following table. The default format is <tt>%client.name% %auth-user-name% %datetime% %request% %status% %response.length%</tt>.</p><table><tr><th><p>Data</p></th>
<th><p>Token</p></th>
</tr>
<tr><td><p>Client Host Name</p></td>
<td><p><tt>%client.name%</tt></p></td>
</tr>
<tr><td><p>Client DNS</p></td>
<td><p><tt>%client.dns%</tt></p></td>
</tr>
<tr><td><p>System Date</p></td>
<td><p><tt>%datetime%</tt></p></td>
</tr>
<tr><td><p>Full HTTP Request line</p></td>
<td><p><tt>%request%</tt></p></td>
</tr>
<tr><td><p>Status</p></td>
<td><p><tt>%status%</tt></p></td>
</tr>
<tr><td><p>Response Content Length</p></td>
<td><p><tt>%response.length%</tt></p></td>
</tr>
<tr><td><p>Referer Header</p></td>
<td><p><tt>%header.referer%</tt></p></td>
</tr>
<tr><td><p>User-agent</p></td>
<td><p><tt>%header.user-agent%</tt></p></td>
</tr>
<tr><td><p>HTTP Method</p></td>
<td><p><tt>%http-method%</tt></p></td>
</tr>
<tr><td><p>HTTP URI</p></td>
<td><p><tt>%http-uri%</tt></p></td>
</tr>
<tr><td><p>HTTP Query String</p></td>
<td><p><tt>%query-str%</tt></p></td>
</tr>
<tr><td><p>HTTP Protocol Version</p></td>
<td><p><tt>%http-version%</tt></p></td>
</tr>
<tr><td><p>Accept Header</p></td>
<td><p><tt>%header.accept%</tt></p></td>
</tr>
<tr><td><p>Date Header</p></td>
<td><p><tt>%header.date%</tt></p></td>
</tr>
<tr><td><p>If-Modified-Since Header</p></td>
<td><p><tt>%header.if-mod-since%</tt></p></td>
</tr>
<tr><td><p>Authorization Header</p></td>
<td><p><tt>%header.auth%</tt></p></td>
</tr>
<tr><td><p>Any valid HTTP header value defined in RFC 2616 (any is also a valid header value; it is specified as a variable here)</p></td>
<td><p><tt>%header</tt>.<i>any</i><tt>%</tt></p></td>
</tr>
<tr><td><p>Name of Authorized User</p></td>
<td><p><tt>%auth-user-name%</tt></p></td>
</tr>
<tr><td><p>Value of a Cookie</p></td>
<td><p><tt>%cookie.value%</tt></p></td>
</tr>
<tr><td><p>Virtual Server ID</p></td>
<td><p><tt>%vs.id%</tt></p></td>
</tr>
</table></li></ul>
</li>
<li><b>Click Save to save the changes, or Load Defaults to return to the
default settings.</b></li></ol>
<br/>

</body>
</html>
