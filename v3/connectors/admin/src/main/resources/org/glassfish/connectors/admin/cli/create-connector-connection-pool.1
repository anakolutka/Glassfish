
Administration Commands       create-connector-connection-pool(1)

NAME
     create-connector-connection-pool -  adds a  connection  pool
     with the specified connection pool name

SYNOPSIS
     create-connector-connection-pool
     [--terse={true|false}][ --echo={true|false} ]
     [ --interactive={true|false} ] [ --host  host]
     [--port port] [--secure| -s ] [ --user  admin_user]
     [--passwordfile filename] [--help]
     --raname resource_adapter_name --connectiondefinition connection_definition_name
      [--steadypoolsize steadypoolsize] [--maxpoolsize maxpoolsize]
     [--maxwait maxwait] [--poolresize poolresize]
     [--idletimeout idletimeout] [--failconnection={false|true}]
     [--leaktimeout=timeout] [--leakreclaim={false|true}]
     [ --creationretryattempts =attempts]
     [--creationretryinterval=interval]
     [--lazyconnectionenlistment={false|true}]
     [ --lazyconnectionassociation ={false|true}]
     [ --associatewiththread ={false|true}] [ --matchconnections ={false|true}]
     [ --maxconnectionusagecount =count]
     [--validateatmostonceperiod=interval]
      [--transactionsupport transaction_support] [--isconnectvalidatereq={false|true}]
      [--description text]
     [--property (name=value)[:name=value]*]
     [--target=target]
     connector_connection_pool_name

DESCRIPTION
     The create-connector-connection-pool adds  a  new  connector
     connection pool with the specified connection pool name.

OPTIONS
     -t --terse

         Indicates that any output data  must  be  very  concise,
         typically avoiding human-friendly sentences and favoring
         well-formatted data for consumption by a script. Default
         is false.

     -e --echo
         If set to true, the command-line statement is echoed  on
         the standard output. Default is false.

     -I --interactive

         If set to true (default),  only  the  required  password
         options are prompted.

Java EE 6           Last change: 20 Apr 2009                    1

Administration Commands       create-connector-connection-pool(1)

     -H --host

         The machine name where the domain administration  server
         is running. The default value is localhost.

     -p --port
         The HTTP port or HTTPS  port  for  administration.  This
         port is the port in the URL that you specify in your web
         browser   to   manage   the   domain,    for    example,
         http://localhost:4848.

         The default port number for administration is 4848.

     -s --secure

         If set to true, uses SSL/TLS  to  communicate  with  the
         domain administration server.

         The default is false.

     -u --user
         The user name of the authorized administrative  user  of
         the domain administration server.

         If you have authenticated to a domain by using the asad-
         min  login  command,  you  need  not  specify the --user
         option for subsequent operations on the domain.

     --passwordfile

         Specifies the name, including the full path, of  a  file
         that contains the password entries in a specific format.

         The entry for a password must have the AS_ADMIN_  prefix
         followed  by the password name in uppercase letters. For
         example, to specify the password for the domain adminis-
         tration server, use an entry with the following format:

           AS_ADMIN_PASSWORD=password

         In this example, password is  the  actual  administrator
         password.

         The following other passwords can also be specified:

             o    AS_ADMIN_MAPPEDPASSWORD

             o    AS_ADMIN_USERPASSWORD

Java EE 6           Last change: 20 Apr 2009                    2

Administration Commands       create-connector-connection-pool(1)

             o    AS_ADMIN_ALIASPASSWORD
         All remote  commands  must  specify  the  administration
         password  to  authenticate  to the domain administration
         server. The password can be specified by one of the fol-
         lowing means:

             o    Through the --passwordfile option

             o    Through the asadmin login command

             o    Interactively at the command prompt
         The asadmin login command can be used  only  to  specify
         the  administration  password.  For other passwords that
         remote commands require, use the  --passwordfile  option
         or specify them at the command prompt.

         After authenticating to a domain by  using  the  asadmin
         login  command,  you need not specify the administration
         password through the --passwordfile  option  for  subse-
         quent  operations  on  the  domain.  However,  only  the
         AS_ADMIN_PASSWORD option is not required. You still must
         provide    the    other    passwords,    for    example,
         AS_ADMIN_USERPASSWORD, when required by individual  com-
         mands, such as update-file-user.

         For security reasons, a password that is specified as an
         environment variable is not read by the asadmin command.

         The  default  value   for   AS_ADMIN_MASTERPASSWORD   is
         changeit.

     --help

         Displays the help text for the command.

     --target
         The target option is deprecated.

     --raname

         The name of the resource adapter.

     --connectiondefinition
         The name of the connection definition.

     --steadypoolsize

         The minimum and initial number of connections maintained

Java EE 6           Last change: 20 Apr 2009                    3

Administration Commands       create-connector-connection-pool(1)

         in the pool. The default value is 8.

     --maxpoolsize

         The maximum number of connections that can be created to
         satisfy client requests. The default value is 32.

     --maxwait
         The amount of time, in milliseconds, that a caller  must
         wait  before a connection is created, if a connection is
         not available. If set to 0, the caller is blocked  inde-
         finitely until a resource is available or until an error
         occurs. The default value is 60000.

     --poolresize

         Quantity by which the pool will scale-up  or  scale-down
         the  number  of connections. Scale-up: When the pool has
         no free connections, pool will scale-up  by  this  quan-
         tity.  Scale-down:  All the invalid and idle connections
         are removed, sometimes resulting in removing connections
         of  quantity greater than this value. The number of con-
         nections that is specified by --steadypoolsize  will  be
         ensured.  Possible values are from 0 to MAX_INTEGER. The
         default value is 2.

     --idletimeout
         The maximum time that a connection can  remain  idle  in
         the  pool. After this amount of time, the pool can close
         this connection. The default value is 300.

     --failconnection

         If set to true, all connections in the pool  are  closed
         if  a  single  validation check fails. This parameter is
         mandatory  if  the   --is-connection-validation-required
         option  is  set  to true. Legal values are on, off, yes,
         no, 1,0, true or false. The default value is false.

     --leaktimeout
         Specifies the amount of time, in seconds, for which con-
         nection leaks in a connection pool are to be traced.

         If connection leak tracing is enabled, you can  use  the
         Admin  Console  to enable monitoring of the JDBC connec-
         tion pool to get statistics on the number  of connection

Java EE 6           Last change: 20 Apr 2009                    4

Administration Commands       create-connector-connection-pool(1)

         leaks.

         The default value is 0, which disables  connection  leak
         tracing.

     --leakreclaim

         Specifies whether leaked connections are restored to the
         connection  pool  after  leak connection tracing is com-
         plete. Possible values are as follows:

         false
             Leaked connections are not restored to  the  connec-
             tion pool (default).

         true

             Leaked connections are restored to   the  connection
             pool.

     --creationretryattempts
         Specifies the maximum number of times  that  the  server
         retries  to  create  a connection if the initial attempt
         fails.

         The default value is 0, which specifies that the  server
         does not retry to create the connection.

     --creationretryinterval

         Specifies the interval, in seconds,  between  successive
         attempts to create a connection.

         If    --creationretryattempts    is    0,     the     --
         creationretryinterval option is ignored.

         The default value is 10.

     --lazyconnectionenlistment
         Specifies  whether  a  resource  to  a  transaction   is
         enlisted  only when a method actually uses the resource.
         Possible values are as follows:

         false

             Resources to a transaction are always  enlisted  and
             not  only  when  a method actually uses the resource

Java EE 6           Last change: 20 Apr 2009                    5

Administration Commands       create-connector-connection-pool(1)

             (default).

         true

             Resources to a transaction are enlisted only when  a
             method actually uses the resource.

     --lazyconnectionassociation
         Specifies whether a physical connection should be  asso-
         ciated  with the logical connection only when the physi-
         cal connection is used, and disassociated when the tran-
         saction  is completed. Such association and dissociation
         enable  the  reuse  of  physical  connections.  Possible
         values are as follows:

         false

             A physical connection is associated with the logical
             connection  even  before  the physical connection is
             used, and is not disassociated when the  transaction
             is completed (default).

         true
             A physical connection is associated with the logical
             connection  only  when  the  physical  connection is
             used, and disassociated when the transaction is com-
             pleted.   The --lazyconnectionenlistment option must
             also be set to true.

     --associatewiththread

         Specifies whether a connection is  associated  with  the
         thread  to enable the thread to reuse the connection. If
         a connection is not  associated  with  the  thread,  the
         thread  must obtain a connection from the pool each time
         that the thread requires a connection.  Possible  values
         are as follows:

         false
             A connection  is  not  associated  with  the  thread
             (default).

         true

             A connection is associated with the thread.

Java EE 6           Last change: 20 Apr 2009                    6

Administration Commands       create-connector-connection-pool(1)

     --matchconnections

         Specifies whether a connection that is selected from the
         pool should be matched with the resource adaptor. If all
         connections in the pool are identical, matching  between
         connections  and resource adapters is not required. Pos-
         sible values are as follows:

         false
             A connection should not be matched with the resource
             adaptor (default).

         true

             A connection should be  matched  with  the  resource
             adaptor.

     --maxconnectionusagecount
         Specifies the maximum number of times that a  connection
         can be reused.

         When this limit is reached, the connection is closed. By
         limiting  the  maximum number of times that a connection
         can be reused, you can avoid statement leaks.

         The default value is 0, which specifies no limit on  the
         number of times that a connection can be reused.

     --validateatmostonceperiod

         Specifies the time interval in seconds  between  succes-
         sive request to validate a connection at most once. Set-
         ting this attribute to an  appropriate  value  minimizes
         the number of validation requests by a connection.

         The default value is 0, which specifies that the connec-
         tion is never validated.

     --transactionsupport
         Indicates the level of  transaction  support  that  this
         pool  will  have.  Possible  values  are  XATransaction,
         LocalTransaction and NoTransaction. This  attribute  can
         have  a value lower than or equal to but not higher than
         the resource adapter's  transaction  support  attribute.
         The resource adapter's transaction support attribute has
         an order of values, where XATransaction is the  highest,
         and NoTransaction the lowest.

Java EE 6           Last change: 20 Apr 2009                    7

Administration Commands       create-connector-connection-pool(1)

     --isconnectvalidatereq

         If the value is set to true,  the  connections  will  be
         checked to see if they are usable, before they are given
         out to the application. The default value is false.

     --description
         Text providing descriptive details about  the  connector
         connection pool.

     --property

         Optional attribute name value pairs for configuring  the
         resource.

OPERANDS
     connector_connection_pool_name
          The name of the connection pool to be created.

EXAMPLES
     Example 1 Using the create-connector-connection-pool command

       asadmin> create-connector-connection-pool
       --passwordfile passwords.txt --steadypoolsize 20
       --maxpoolsize 100 --poolresize 2 --maxwait 60000 --raname jmsra
       --connectiondefinition javax.jms.QueueConnectionFactory jms/qConnPool
       Command create-connector-connection-pool executed successfully

     Where jms/qConnPool is the name of the new connector connec-
     tion pool.

EXIT STATUS
     0                           command executed successfully

     1                           error in executing the command

SEE ALSO
     delete-connector-connection-pool(1),         list-connector-
     connection-pools(1)

Java EE 6           Last change: 20 Apr 2009                    8

