<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>

  <meta http-equiv="Content-type" content="text/html; charset=UTF-8">
  <!-- ident      "%Z%%M% %I%     %E% SMI" -->

  <title>To create a JMS connection factory resource
  </title>
  <script language="JavaScript1.2">
    linktag = window.parent.frames[0].document.getElementsByTagName('link');
    for (var i = 0; i < linktag.length; i++) {
        if (linktag[i].rel == "stylesheet") {
            var s = "<link rel=" + linktag[i].rel + " type='text/css' href=" + linktag[i].href + " />";
            document.write(s);
        }
    }
  </script>
  <meta name="Copyright" content="Copyright &copy; 2007 by Sun Microsystems, Inc. All Rights Reserved." />
</head>

<body class="HlpBdy">

<a name="jmsconnectionnew"></a><h4>To create a JMS connection factory resource</h4><a name="indexterm-144"></a><a name="indexterm-145"></a><ol>
<li><b>In the tree component, expand the Resources node, then expand the JMS Resources
node.</b></li>
<li><b>Select the Connection Factories node.</b></li>
<li><b>On the JMS Connection Factories page, click New. </b><p>The Create JMS Connection Factory page appears.</p></li>
<li><b>In the JNDI Name field, type the name of the connection factory. </b><p>It is a recommended practice to use the naming subcontext prefix <tt>jms/</tt> for
JMS resources. For example: <tt>jms/ConnectionFactory1</tt>.</p></li>
<li><b>From the Type drop-down list, choose either <tt>javax.jms.ConnectionFactory</tt>, <tt>javax.jms.QueueConnectionFactory</tt>, or <tt>javax.jms.TopicConnectionFactory</tt>.</b></li>
<li><b>Select the Enabled checkbox to enable the resource at run time.</b></li>
<li><b>In the Advanced area, change values as needed for the connection factory attributes.
</b><p>For details about these attributes, see <a href="jmsconnectionedit.html">To edit a JMS connection factory resource</a>. The Application Server applies these attributes to
the connector connection pool created for the connection factory.</p></li>
<li><b><a name="indexterm-146"></a><a name="indexterm-147"></a>For a JMS connection factory resource, specify the Transaction Support value as follows:</b><ul>
<li><b>Specify <tt>XATransaction</tt> (the default value) for a resource that can be used for
transactions that involve the use of more than one resource within a transaction
scope.</b><p>For example, this resource plus a JDBC resource, a connector resource, or another
JMS connection factory resource. This value offers the most flexibility. A resource that
is configured as <tt>XATransaction</tt> will participate in two-phase commit operations.</p></li>
<li><b>Specify <tt>LocalTransaction</tt> for a resource that can be used either for transactions that
involve only one resource within the transaction scope or as the last agent
in a distributed transaction that involves more than one XA resource. </b><p>This value offers significantly better performance. A resource that is configured as <tt>LocalTransaction</tt> will
not be used in two-phase commit operations.</p></li>
<li><b>Specify <tt>NoTransaction</tt> for a resource that can never participate in transactions. </b><p>This setting is of limited use in JMS applications.</p></li></ul></li>
<li><b>In the Additional Properties area, provide values for properties required by applications. </b><p>The following table lists the available properties.</p><table><tr><th><p>Property Name     
           
           
    </p></th>
<th><p>Description       
           
           
  </p></th>
</tr>
<tr><td><p><tt>ClientId</tt><a name="indexterm-148"></a><a name="indexterm-149"></a></p></td>
<td><p>Specifies a client ID for a connection factory that will
be used by a durable subscriber.</p></td>
</tr>
<tr><td><p><tt>AddressList</tt><a name="indexterm-150"></a><a name="indexterm-151"></a></p></td>
<td><p>Specifies the names (and, optionally, port numbers) of a
message broker instance or instances with which applications will communicate. Each address in the
list specifies the host name (and, optionally, host port and connection service) for
the connection. For example, the value might be <tt>earth</tt> or <tt>earth:7677</tt>. Specify the port
number if the message broker is running on a port other than the
default (7676). If the property setting specifies multiple hosts and ports in a
clustered environment, the first available host on the list is used unless the
<tt>AddressListBehavior</tt> property is set to <tt>RANDOM</tt>.</p><p>For details, see the <b>Message Queue Developer&rsquo;s Guide for Java Clients</b>.</p><p>Default: The local host
and default port number (7676). The client will attempt a connection to a
broker on port 7676 of the local host.</p></td>
</tr>
<tr><td><p><tt>MessageServiceAddressList</tt><a name="indexterm-152"></a><a name="indexterm-153"></a></p></td>
<td><p>Same as <tt>AddressList</tt>. This property name
is deprecated. Use <tt>AddressList</tt> instead.</p></td>
</tr>
<tr><td><p><tt>UserName</tt><a name="indexterm-154"></a><a name="indexterm-155"></a></p></td>
<td><p>The user name for the connection factory.</p><p>Default: <tt>guest</tt></p></td>
</tr>
<tr><td><p><tt>Password</tt><a name="indexterm-156"></a><a name="indexterm-157"></a></p></td>
<td><p>The password
for the connection factory.</p><p>Default: <tt>guest</tt></p></td>
</tr>
<tr><td><p><tt>ReconnectEnabled</tt><a name="indexterm-158"></a><a name="indexterm-159"></a></p></td>
<td><p>If enabled (value = true), specifies that the
client runtime attempts to reconnect to a message server (or the list of
addresses in the <tt>AddressList</tt>) when a connection is lost.</p><p>Default: true</p></td>
</tr>
<tr><td><p><tt>ReconnectAttempts</tt><a name="indexterm-160"></a><a name="indexterm-161"></a></p></td>
<td><p>Specifies the number of
attempts to connect (or reconnect) for each address in the <tt>AddressList</tt> before the
client runtime tries the next address in the list. A value of -1
indicates that the number of reconnect attempts is unlimited (the client runtime attempts to
connect to the first address until it succeeds).</p><p>Default: 3</p></td>
</tr>
<tr><td><p><tt>ReconnectInterval</tt><a name="indexterm-162"></a><a name="indexterm-163"></a></p></td>
<td><p>Specifies the interval in
milliseconds between reconnect attempts. This applies for attempts on each address in the
<tt>AddressList</tt> and for successive addresses in the list. If the interval is too
short, the broker does not have time to recover. If it is too
long, the reconnect might represent an unacceptable delay.</p><p>Default: 30000</p></td>
</tr>
<tr><td><p><tt>AddressListBehavior</tt><a name="indexterm-164"></a><a name="indexterm-165"></a></p></td>
<td><p>Specifies whether connection attempts are
in the order of addresses in the <tt>AddressList</tt> attribute (<tt>PRIORITY</tt>) or in a random
order (<tt>RANDOM</tt>).</p><p><tt>RANDOM</tt> means that the reconnect chooses a random address from the <tt>AddressList</tt>.
If many clients are likely to attempt a connection using the same connection
factory, this value prevents them from all being connected to the same address.</p><p><tt>PRIORITY</tt>
means that the reconnect always tries to connect to the first server address
in the <tt>AddressList</tt> and uses another address only if the first broker is
not available.</p><p>Default: <tt>RANDOM</tt></p></td>
</tr>
<tr><td><p><tt>AddressListIterations</tt><a name="indexterm-166"></a><a name="indexterm-167"></a></p></td>
<td><p>Specifies the number of times the client runtime iterates through the
<tt>AddressList</tt> in an effort to establish (or reestablish) a connection). A value of
-1 indicates that the number of attempts is unlimited.</p><p>Default: 3</p></td>
</tr>
</table></li>
<li><b>In the Targets area, do the following:</b><ol style="list-style-type: lower-alpha">
				 
<li><b>From the Available column, select the target or targets to which applications that
use the resource will be deployed. </b><p>The available targets include the available clusters and server instances as well as
the default server instance,        
            
       <tt>server</tt>.</p></li>
<li><b>Click Add to move the target to the Selected column.</b></li></ol></li>
<li><b>Click OK to save the connection factory.</b></li></ol><h6><h6>More Information</h6>Equivalent asadmin command<p><tt>create-jms-resource</tt></p></h6><h6>See Also</h6>
<ul><li><p><a href="">To create a JMS connection factory resource</a></p></li>
<li><p><a href="jmsconnectionedit.html">To edit a JMS connection factory resource</a></p></li>
<li><p><a href="ablke.html">To delete a JMS connection factory resource</a></p></li></ul>

<br/>

</body>
</html>
