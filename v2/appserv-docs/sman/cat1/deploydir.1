User Commands                                        deploydir(1)

NAME
     deploydir  -  deploys  an  exploded  format  of  application
     archive

SYNOPSIS
     deploydir       [--terse=false]      [--echo=false]      [--
     interactive=true]   [--host  localhost]  [--port  4848]  [--
     secure|-s] [--user admin_user] [--passwordfile filename]  [-
     -help]   [--virtualservers  virtual_servers]  [--contextroot
     context_root]    [--force=true]     [--verify=false]     [--
     precompilejsp=false]     [--name     component_name]     [--
     uniquetablenames=true|false]  [--dbvendorname  dbvendorname]
     [--createtables=false   |  --dropandcreatetables=false]  [--
     generatermistubs=false]  [--availabilityenabled=false]   [--
     libraries   jar_file[(path_separator)jar_file*]]   [--target
     target] dirpath

DESCRIPTION
     Use this command to deploy an application  directly  from  a
     development  directory.  The appropriate directory hierarchy
     and deployment descriptors conforming to the Java EE specif-
     ication must exist in the deployment directory.

     Directory deployment is for advanced developers only. Do not
     use  it  in  production environments. In production environ-
     ments, use the deploy command.  Directory deployment is only
     supported  on localhost, that is, the client and server must
     reside on the same machine. For this reason, the only values
     for the --host option are:

       o  localhost

       o  The value of the $HOSTNAME environment variable

       o  The IP address of the machine

     If   the   --uniquetablenames,   --createtables,   and    --
     dropandcreatetables  options  are not specified, the entries
     in the deployment descriptors are used.

     The --force option makes sure the  component  is  forcefully
     (re)deployed  even  if  the  specified component has already
     been deployed or already exists. Set --force to false for  a
     first  deployment. If the application with that name is run-
     ning and force is set to false, the command fails.

     This command is supported in remote mode only.

OPTIONS
     -t --terse                      Indicates  that  any  output
                                     data  must  be very concise,

                                     typically  avoiding   human-
                                     friendly    sentences    and
                                     favoring well-formatted data
                                     for consumption by a script.
                                     Default is false.

     -e --echo                       Setting to  true  will  echo
                                     the  command  line statement
                                     on  the   standard   output.
                                     Default is false.

     -I --interactive                If set  to  true  (default),
                                     only  the  required password
                                     options are prompted.

     -H --host                       The machine name  where  the
                                     domain administration server
                                     is  running.   The   default
                                     value is localhost.

     -p --port                       The HTTP/S port for adminis-
                                     tration. This is the port to
                                     which you should point  your
                                     browser  in  order to manage
                                     the  domain.   For  example,
                                     http://localhost:4848.

                                     The default port  number  is
                                     4848.

     -s --secure                     If set to true, uses SSL/TLS
                                     to   communicate   with  the
                                     domain        administration
                                     server.

     -u --user                       The    authorized     domain
                                     administration server admin-
                                     istrative username.

                                     If you have authenticated to

                                     a  domain  using the asadmin
                                     login command, then you need
                                     not   specify   the   --user
                                     option on subsequent  opera-
                                     tions   to  this  particular
                                     domain.

     --passwordfile                  The  --passwordfile   option
                                     specifies the name of a file
                                     containing   the    password
                                     entries  in  a specific for-
                                     mat. The entry for the pass-
                                     word must have the AS_ADMIN_
                                     prefix followed by the pass-
                                     word   name   in   uppercase
                                     letters.

                                     For example, to specify  the
                                     domain administration server
                                     password, use an entry  with
                                     the     following    format:
                                     AS_ADMIN_PASSWORD=password,
                                     where password is the actual
                                     administrator      password.
                                     Other  passwords that can be
                                     specified            include
                                     AS_ADMIN_MAPPEDPASSWORD,
                                     AS_ADMIN_USERPASSWORD,   and
                                     AS_ADMIN_ALIASPASSWORD.

                                     All  remote  commands   must
                                     specify  the  admin password
                                     to   authenticate   to   the
                                     domain        administration
                                     server,  either  through  --
                                     passwordfile    or   asadmin
                                     login, or  interactively  on
                                     the   command   prompt.  The
                                     asadmin login command can be
                                     used  only  to  specify  the
                                     admin  password.  For  other
                                     passwords,   that   must  be
                                     specified  for  remote  com-
                                     mands,     use     the    --
                                     passwordfile or  enter  them
                                     at the command prompt.

                                     If you have authenticated to
                                     a  domain  using the asadmin
                                     login command, then you need

                                     not  specify the admin pass-
                                     word    through    the    --
                                     passwordfile  option on sub-
                                     sequent operations  to  this
                                     particular  domain. However,
                                     this is applicable  only  to
                                     AS_ADMIN_PASSWORD    option.
                                     You will still need to  pro-
                                     vide  the  other  passwords,
                                     for                 example,
                                     AS_ADMIN_USERPASSWORD,    as
                                     and when required by indivi-
                                     dual   commands,   such   as
                                     update-file-user.

                                     For security reasons,  pass-
                                     words    specified   as   an
                                     environment  variable   will
                                     not be read by asadmin.

                                     The   default   value    for
                                     AS_ADMIN_MASTERPASSWORD   is
                                     changeit.

     --help                          Displays the help  text  for
                                     the command.

     --virtualservers                Comma-separated list of vir-
                                     tual server IDs.

     --contextroot                   Valid only if the archive is
                                     a  web module. It is ignored
                                     for  other  archive   types;
                                     defaults to filename without
                                     extension.

     --force                         Makes sure the component  is
                                     forcefully (re)deployed even
                                     if the  specified  component
                                     has already been deployed or
                                     already exists.

     --verify                        If set to true,  the  syntax
                                     and semantics of the deploy-
                                     ment descriptor is verified.

     --precompilejsp                 By default, this  option  is
                                     set to false, which does not
                                     allow the JSP to pre-compile
                                     during  deployment. Instead,
                                     JSPs  are  compiled   during
                                     runtime.

     --name                          Name of the deployable  com-
                                     ponent.

     --uniquetablenames              Guarantees   unique    table
                                     names  for all the beans and
                                     results in a hashcode  added
                                     to  the table names. This is
                                     useful if you have an appli-
                                     cation  with  case-sensitive
                                     bean names.

     --dbvendorname                  Specifies the  name  of  the
                                     database  vendor  for  which
                                     tables  are  created.   Sup-
                                     ported  values  include db2,
                                     mssql,    oracle,     derby,
                                     javadb,          postgresql,
                                     pointbase and sybase,  case-
                                     insensitive.  If  not speci-
                                     fied,  the  value   of   the
                                     database-vendor-name  attri-
                                     bute in  sun-ejb-jar.xml  is
                                     used.  If no value is speci-
                                     fied, a connection  is  made
                                     to  the resource specifie by
                                     the jndi-name subelement  of
                                     the  cmp-resource element in
                                     the  sun-ejb-jar.xml   file,
                                     and the database vendor name
                                     is read. If  the  connection
                                     cannot be established, or if
                                     the value is not recognized,
                                     SQL-92     compliance     is

                                     presumed.

     --createtables                  Creates tables at deployment
                                     of   an   application   with
                                     unmapped CMP beans.  Default
                                     is   the   create-tables-at-
                                     deploy  entry  in  the  cmp-
                                     resource   element   of  the
                                     sun-ejb-jar.xml file.

     --dropandcreatetables           Drops  existing  tables  and
                                     creates     tables    during
                                     deployment  for  application
                                     using unmapped CMP beans. If
                                     not  specified,  the  tables
                                     are  dropped  if  the  drop-
                                     tables-at-undeploy entry  in
                                     the  cmp-resource element of
                                     the sun-ejb-jar.xml file  is
                                     set  to true. The new tables
                                     are created if  the  create-
                                     tables-at-deploy   entry  in
                                     the cmp-resource element  of
                                     the  sun-ejb-jar.xml  is set
                                     to true. When the  component
                                     is  redeployed,  the  tables
                                     created  by   the   previous
                                     deployment    are    dropped
                                     before  creating   the   new
                                     tables.

     --generatermistubs              if set to true, static  RMI-
                                     IIOP stubs are generated and
                                     put into the client.jar.  If
                                     set  to  false (default) the
                                     stubs are not generated.

     --availabilityenabled           This  option  is   available
                                     only  in the Sun Java System
                                     Application Server  Standard
                                     and   Enterprise   Editions.
                                     This option controls whether
                                     high-availability is enabled
                                     for SFSB  checkpointing  and

                                     potentially passivation.  If
                                     set to false  (default)  all
                                     SFSB  checkpointing  is dis-
                                     abled  for   the   specified
                                     application  or  EJB module.
                                     If set to true,  the  speci-
                                     fied  application  or module
                                     is   enabled    for    high-
                                     availability.    Set    this
                                     option to true only if  high
                                     availability  is  configured
                                     and enabled at  higher  lev-
                                     els,  such as the server and
                                     container levels.

     --libraries                     Specify  the   library   JAR
                                     files  by  their relative or
                                     absolute   paths.    Specify
                                     relative  paths  relative to
                                     instance-root/lib/applibs.
                                     The  JAR files are separated
                                     by a colon on Unix and Linux
                                     systems  and  by a semicolon
                                     on  Windows   systems.   The
                                     libraries are made available
                                     to the  application  in  the
                                     order  specified.  Place the
                                     dependent JAR files  in  the
                                     domain-dir/lib directory.

     --target                        This  option  is   available
                                     only  in the Sun Java System
                                     Application Server  Standard
                                     and               Enterprise
                                     Editions.Specifies the  tar-
                                     get to which you are deploy-
                                     ing.  Valid values are:

                                       o  server,  which  deploys
                                          the  component  to  the
                                          default server instance
                                          server   and   is   the
                                          default value.

                                       o  domain,  which  deploys
                                          the  component  to  the
                                          domain.

OPERANDS
     dirpath                         path to the  directory  con-
                                     taining  the exploded format
                                     of the deployable archive.

EXAMPLES
     Example 1: Using the deploydir command

     The  exploded  application  to  be  deployed   is   in   the
     /home/temp/sampleApp  directory.  Since  the force option is
     set to true, if an application of that name already  exists,
     the application is redeployed.

     asadmin> deploydir --user admin --passwordfile passwords.txt
     --host localhost --port 4848 --force=true --precompilejsp=true /home/temp/sampleApp
     Command deploydir executed successfully

EXIT STATUS
     0                       command executed successfully

     1                       error in executing the command

SEE ALSO
     deploy(1),   undeploy(1),   enable(1),   disable(1),   list-
     components(1)
