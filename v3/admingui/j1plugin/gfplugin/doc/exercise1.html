<html>
    <head>
	<!-- Change this to change the name of this tab -->
        <meta name="j1holtabname" content="Exercise 1">
	<style type="text/css">
.j1hollist img { border: 3px ridge #888; }
.j1hollist li p { padding-top: 5px; padding-bottom: 5px;}
.figure { padding: 0px 0px 12px 20px; font-weight: bold; font-size: 0.9em; }
	</style>
    </head>
    <body>
        <div class="j1holcontents">

            <h1>Exercise 1: Plugging into GlassFish</h1>

            <div class="j1holduration xbig">Approximate duration: 45 minutes</div>

            <p class="j1holheader">Introduction:</p>

<p>
  The goal of this exercise is to develop a GlassFish plugin module. You
  will be adding a page and tree node to the GlassFish Administration
  Console. We have pre-configured your build environment
  leaving you with more time to to get "hands-on" with the code. In this
  exercise, you will do the following:
</p>

<ul class="j1hollist">
  <li>
    Build a plugin using the Maven plugin in NetBeans 6.0 (or command line)<br>
  </li>
  <li>
    Integrate a module into GlassFish v3 which extends the Admin Console<br>
  </li>
  <li>
    Access the GlassFish v3 Administration Console and see your plugin
  </li>
</ul>

<p class=j1holheader>
    <p class="j1holheader">Background information:</p>
</p>

<p>
  This section provides more detail about the GlassFish v3 build environment and
  architecture. This information is non-essential for completing this lab,
  however, it will give you better insight into the design of GlassFish
  v3. <span class="j1holnote">To proceed with the lab, conintue to the "<a href="#ex1steps">Step-by-Step Instructions</a>"
  section.</span><br>
</p>

<a name="hk2background">
<p class="j1holsubheader">GlassFish (HK2) Modules</p>
</a>

<p>
  GlassFish uses the HK2 project (https://hk2.dev.java.net) to provide "modules"
  which can be plugged together to build an application server with unique
  capabilities. These GlassFish (or HK2) modules need only be placed in
  the &lt;install-root&gt;/modules directory to be found by the
  environment. The modules describe themselves to GlassFish so that
  GlassFish knows how to interact with them. This is done by using the HK2
  @Contract and @Service annotations.
</p>
<p>
  The @Contract annotation is typically placed on a Java Interface. Doing
  this makes the interface known to HK2. Here is an example Java Interface
  annotated with the @Contract annotation:
</p>
<div class="codebox"><pre>
@Contract
public interface ConsoleProvider {
    /**
     *  &lt;p&gt; Returns a &lt;code&gt;URL&lt;/code&gt; to the &lt;code&gt;console-config.xml&lt;/code&gt;
     *      file, or &lt;code&gt;null&lt;/code&gt;.  If &lt;code&gt;null&lt;/code&gt; is returned, the
     *      default (@{link #DEFAULT_CONFIG_FILENAME}) will be used.&lt;/p&gt;
     */
    public URL getConfiguration();

    /**
     *  &lt;p&gt; The default location of the &lt;code&gt;console-config.xml&lt;/code&gt;.&lt;/p&gt;
     */
     public String DEFAULT_CONFIG_FILENAME   =
	     "META-INF/admingui/console-config.xml";
}
</pre></div>
<div class="figure">Figure 1-1: </div>

<p>
  The @Service annotation is placed on a Java Class which typically implements a
  Java Interface which is annotated by the @Contract annotation. When
  @Service annotations are processed by the Annotation Processor Tool at
  compile-time, the HK2 processor creates an entry in the
  META-INF/inhabitants/default file, such as:
</p>

<div class="codebox"><pre>
  class=org.example.glassfish.admingui.MyPlugin,index=org.glassfish.api.admingui.ConsoleProvider</pre></div>
<div class="figure">Figure 1-1: </div>

<p> This is used to efficiently locate all implementations of a @Contract in the system.</p>

<p>
  Lets consider an example of how this is used. The GlassFish
  Administration Console needs to find GlassFish Modules that wish to integrate
  content. To do this, each of these GlassFish Modules must provide an
  implementation of the ConsoleProvider "@Contract" Interface which is annotated
  with the @Service annotation. The GlassFish Admin Console is then able
  to easily find these implementations and access the configuration file they
  specify via their interface (see fig TBD). Once the configuration
  information is obtained, the task of integrating the new content is easily
  performed.
</p>

<p> You can find more information about this architecture at the GlassFish or HK2 web sites: </p>

    <ul class="j1hollist">
	<li><a href="https://glassfish.dev.java.net">https://glassfish.dev.java.net</a></li>
	<li><a href="https://hk2.dev.java.net">https://hk2.dev.java.net</a></li>
    </ul>

<p>
The exercises in this lab aim to describe in detail the specific steps required
to create a module and to integrate with the GlassFish Administration Console.
Complete this lab to gain a better understanding of these steps.
</p>

<p class=j1holsubheader>Source code system layout</p>

<p>
  This section of the document describes the file layout found in the lab
  exercises, as well as the layout of all GlassFish Modules. A snapshot of
  the GlassFish v3 source code can be found under the
  <code>gfplugin/glassfish-src</code>
  directory. This is for your reference only and is <span class="j1holnote">NOT</span> needed for
  any exercises in this lab. To obtain the latest GlassFish source code,
  you can follow the instructions found on the GlassFish v3 build instructions
  web site:
  <a href="http://wiki.glassfish.java.net/Wiki.jsp?page=V3FullBuildInstructions">http://wiki.glassfish.java.net/Wiki.jsp?page=V3FullBuildInstructions</a>.
</p>

<p>
  When viewing the top-level directory of the GlassFish source, you should note
  all the sub-directories are Maven Modules, which follow a standard maven 2
  project layout. The java source files are under
  <code>&lt;maven-module&gt;/src/main/java</code>. Additional resources are under
  <code>&lt;maven-module&gt;/src/main/resources</code>. Unit tests are under
  <code>&lt;maven-module&gt;/src/test/java</code>. There is a pom.xml file for each
  maven module that specifies information such as: parent Maven Module, groupId,
  artifactId, version number, build dependencies, and build and packaging
  instructions. Configuration information from a parent Maven Module is
  inherited.
</p>

<p>
  The source code for the GlassFish Administration Console is located in the
  directory named "admingui". This lab does not touch any of the files in
  the GlassFish Administration Console, it instead provides a plugin which is
  integrated seamlessly with the GlassFish Administration Console. If you
  want to know more details about the GlassFish Administration Console, below is
  an explanation of all the admingui sub-modules. The specifics of the
  Adminstration Console itself are, however, outside the scope of this
  lab. You may become involved the the GlassFish Administration Console
  team or find out more information by going to https://glassfish.dev.java.net
  or emailing admin@glassfish.dev.java.net.
</p>

<p> <b>Plugin Service Module</b></p>

<p>
  This module detects all GlassFish Modules that provide
  <code>IntegrationPoint</code>s to the console. It also contains code
  to discover and serve all additional resources provided by other plugin
  modules (JSFTemplating JavaServer Faces Pages, Images, Java code, etc.).
</p>
<div class="codebox"><pre>
v3/admingui/plugin-service/pom.xml
v3/admingui/plugin-service/src/main/java/org/glassfish/admingui/plugin/ConsoleClassLoader.java
v3/admingui/plugin-service/src/main/java/org/glassfish/admingui/plugin/ConsoleConfig.java
v3/admingui/plugin-service/src/main/java/org/glassfish/admingui/plugin/ConsolePluginService.java
v3/admingui/plugin-service/src/main/java/org/glassfish/admingui/plugin/IntegrationPoint.java</pre>
</div>
<div class="figure">Figure 1-1: </div>

<b>Core Module for Admin Console</b>

<p>
This module provides infrastructure for the GlassFish Administration Console.
It contains code for initialization, setting up the home page, building the
navigation tree, common utilities, etc.  This includes the JavaServer Faces
pages such as the common task page, header, version window, top-level tree
nodes and their corresponding pages.</p>

<div class="codebox"><pre>
v3/admingui/pom.xml
v3/admingui/core/src/main/java/com/sun/enterprise/tools/admingui/handlers
v3/admingui/core/src/main/resources/home.jsf</pre>
</div>
<div class="figure">Figure 1-1: </div>

  <b> Admin Console Web Application </b>

<p>
  This is the war packaging module which contains the deployment descriptor and
  includes the <code>console-core-1.2-SNAPSHOT.jar</code> which is built from the core
  module. After the build cycle, a war file is created ready for
  deployment.</p>

<div class="codebox"><pre>
v3/admingui/war/
v3/admingui/war/src/main/webApp
  </pre>
  </div>
<div class="figure">Figure 1-1: </div>


<a name="ex1steps">
    <p class="j1holheader">Step-by-Step Instructions:</p>
</a>

    <p class="j1holsubheader">Overview:</p>

<p> In this excercise, you will complete the following:</p>

<a name="ex1contents">
    <ol class="j1hollist" style="list-style-type: upper-alpha;">
	<li><b><a href="#ex1stepA">Implement the ConsoleProvider @Contract</a></b>
	    <p>
In this step, you will create a Java Class which implements the
<code>ConsoleProvider @Contract</code>.  This is done so your plugin can be
discovered by the GlassFish v3 Administration Console. Implementing the
<code>ConsoleProvider</code> interface is simply a matter of annotating your
class with the <code>@Service</code> annotation and implementing its single
method.
	    </p></li>
	<li><b><a href="#ex1stepB">Provide a console-config.xml file</a></b>
	    <p>
This file is necessary to declare your "<code>IntegrationPoints</code>."
In this step, you will learn what an <code>IntegrationPoint</code> is and how
to define them.<br>
	    </p></li>
	<li><b><a href="#ex1stepC">Create a couple JavaServer Faces pages</a></b>
	    <p>
JavaServer Faces pages are needed to produce the content you are
providing. You will create 2 very simple JSFTemplating JavaServer
Faces pages.
	    </p></li>
	<li><b><a href="#ex1stepD">Build and Install your first GlassFish v3 plugin</a></b>
	    <p>
In this step you will install and test your plugin.
	    </p></li>
    </ol>
</a>

<br>
<p class="j1holsubheader">Steps:</p>

<a name="ex1stepA">
<p><b>A. Implement the ConsoleProvider @Contract</b></p>
</a>
<p>
In this step, you will create a Java Class which implements the
<code>ConsoleProvider @Contract</code>.  This is done so your plugin can be
discovered by the GlassFish v3 Administration Console. Implementing the
<code>ConsoleProvider</code> interface is simply a matter of annotating your
class with the <code>@Service</code> annotation and implementing its single
method.
</p>
<p>
For more background information, please see the <a href="#hk2background">GlassFish
(HK2) Modules</a> section above.  Or the
<a href="https://hk2.dev.java.net/components.html">HK2 Component Model web
page</a>.
</p>

<p class="j1holnote">If you are not using NetBeans, skip to step A-2
    "<a href="#ex1stepA2">Create your plugin Java @Service Class</a>".</p>

<ol class="j1hollist">  <!-- Start Step 1 Ordered List -->
  <li><b>Open the plugin module in NetBeans</b>
    <ol class="j1hollist">
	<li>Launch NetBeans IDE 6.0.</li>
	<li>Open plugin module.
	    <ol class="j1hollist">
		<li>Choose <code>Open Project</code> from the <code>File</code> menu.</li>
		<li>Browse to <code>gfplugin</code> and select <code>myplugin</code>.</li>
		<li>Press the <code>Open Project</code> button.
		    <p>&nbsp;</p>
		    <p><img src="images/ex1-project-open.jpg" /></p>
<div class="figure">Figure 1-1: Open Project myplugin</div>
		</li>
	    </ol>
	</li>

	<li>You should see the following directory layout under the Projects tab:
	    <p>&nbsp;</p>
	    <p><img src="images/ex1-project-layout.jpg"></p>
<div class="figure">Figure 1-2: Project myplugin layout</div>
	</li>
    </ol>
  </li>

  <li><a name="ex1stepA2"><b>Create your plugin Java @Service Class</b>
	<p> We need a Java Class annotated with the <code>@Service</code>
	    annotation which implements <code>ConsoleProvider</code>.
	    <code>ConsoleProvider</code> is an interface that specifies the
	    method <code>getConfiguration()</code>.  This method returns a
	    <code>java.net.URL</code> pointing to your
	    <code>config-console.xml</code> file (you have not yet created this
	    file). If the method returns <code>null</code>, the plugin
	    framework will use a default configuration file name:
	    <code>META-INF/admingui/console-config.xml</code>.</p>

	<p> For more background information, please see the
	    <a href="#hk2background">GlassFish (HK2) Modules</a> section
	    above.  Or the
	    <a href="https://hk2.dev.java.net/components.html">HK2 Component
	    Model web page</a>.</p>

<!-- FIXME: TBD: Fix broken links below -->
	<p> <span class="j1holnote">If you are not using NetBeans</span>:
	    create a file similar to that found in <a href="#ex1fig13">Figure
	    1-13</a> with any filename or package you like.  The lab
	    material, however, will refer to this file as
	    <code>MyPlugin.java</code> and the package will by named
	    <code>org.example.glassfish.admingui</code>.  Skip to step A-3
	    "<a href="#ex1stepA3">Compiling your plugin</a>".</p>

	<p> NetBeans users, follow these steps:</p>

	<ol class="j1hollist">
	    <li>
		Locate the package "<code>org.example.glassfish.admingui</code>" under "<code>Source Packages</code>".
	    </li>
	    <li>
		Right click on it and select "<code>New</code>" <code>--&gt;</code> "<code>Java Class</code>". A pop up window will display.
	    </li>
	    <li>
		Enter the class name "<code>MyPlugin</code>"  (Note: Do not enter the ".java" extension.)
	    </li>
	    <li>
		Select Finish

		<p> <img src="images/ex1-createMyPlugin.jpg"></p>
<div class="figure">Figure 1-3: Create MyPlugin.java</div>
	    </li>
	    <li>
		<p> Now open this newly created Java File and add the necessary
		    implementation for the plugin.  (Note: The path to this file
		    is <code>gfplugin/myplugin/src/main/java/org/example/glassfish/admingui/MyPlugin.java</code>.)</p>

                <p> The important elements of any <code>ConsoleProvider</code>
		    implementation are:</p>

		    <ol class="j1hollist">
			<li>Add @Service Annotation</li>
			<li>Implements ConsoleProvider</li>
			<li>A Public method getConfiguration() that returns a
			    URL. If this returns Null, the system will get the
			    configuration from a default location.</li>
		    </ol>

		<p> Your implementation may look something like this:</p>

        <div class="codebox">
            <pre>
package org.example.glassfish.admingui;

import org.glassfish.api.admingui.ConsoleProvider;
import org.jvnet.hk2.annotations.Service;
import java.net.URL;

/**
 *  &lt;p&gt; Returns the URL of the Integration Point configuration file console-config.xml &lt;/p&gt;
 *
 *  @return URL of configration file.
 */
@Service
public class MyPlugin implements ConsoleProvider {
    public URL getConfiguration() { return null; }
}</pre>
  </div>
<div class="figure">Figure 1-4: Edit MyPlugin.java</div>
    
    <p> &nbsp;</p>

    <p>	As seen in NetBeans:</p>

    <p>	<img src="images/ex1-editMyPlugin.jpg"></p>
    <div class="figure">Figure 1-4: Edit MyPlugin.java</div>
  </li>
    </ol>
</a></li>

<li><a name="#ex1stepA3"><b>Compiling your plugin</b></a>
    <!-- FIXME: Add description of how we're going to build. -->
    <ol><li><p>	Go to your <code>gfplugin/myplugin</code> directory:</p>
	    <p><code>cd gfplugin/myplugin</code></p>
	</li>
	<li><p>	Compile your code.</p>
	    <p><code>mvn install</code></p>
	    <div class="console"><pre>
FIXME: Add partial console output.</pre>
	    </div>
	</li>
	<li><p>	Fix any errors in your code that may be reported.</p></li>
    </ol>
</li>
</ol> <!-- End Steps Ordered List -->

<div class="j1holwarn" style="text-align: center">Congratulations!  You've completed your <code>ConsoleProvider</code> class!</div>

<p><a href="#ex1contents">Back to step overview</a></p>

      <hr style="WIDTH:100%; HEIGHT:2px"><br>

<a name="ex1stepB">
      <p><b>B. Provide a console-config.xml file.</b></p>
</a>
        <p>
          Next, you need to add the <code>console-config.xml</code> file which
          specifies the <code>IntegrationPoint</code>s for your module.
	   The default location of this file is
          <code>META-INF/admingui/console-config.xml</code> inside your plugin
	  jar file.  To place your file in this location, you should create
	  the file under the following directory in your workspace:
	  <code>myplugin/src/main/resources/META-INF/admingui</code>.
	  In your <code>console-config.xml</code> file, you will be adding the
	  following two xml entries:<br>
        </p>

	<code><pre>
	  console-config: {id: javaone}
          Integration Point: {id: JavaOneNode, type: tree, priority: 210, parentId: tree, content: treenode-ex1.jsf}
	</pre></code>

	<p class="j1holnote">
	    If you are not using NetBeans, simply create the
	    <code>console-config.xml</code> file in the location described
	    above.  Look at <a href="#ex1figCC">figure TBD</a> for an
	    example.
	</p>

	<ol class="j1hollist">
            <li>
              Right click on "admingui" under "Other
              Resources-&gt;Resources-&gt;META-INF-&gt;admingui"
            </li>
            <li>
		Select "New" and "Other..."
            </li>
            <li>
		Select "<code>Other</code>" in the Categories column on the right, and
		"<code>Empty File</code>" in File Types categories on the left. Select <code>Next</code>.
		<p><img src="images/ex1-createConsoleConfig1.jpg"></p>
    <div class="figure">Figure 1-5: Creating console-config.xml</div>
            </li>
            <li>
		Enter "<code>console-config.xml</code>" as the file name.
		Select <code>Finish</code>.
		<p><img src="images/ex1-createConsoleConfig2.jpg"></p>
    <div class="figure">Figure 1-6: Creating console-config.xml (step 2)</div>
            </li>
            <li>
		Edit the file to specify the <code>IntegrationPoint</code>
		(note: the path to this file is:
		<code>myplugin/src/main/resources/META-INF/admingui/console-config.xml</code>).

		<p><img src="images/ex1-editConsoleConfig.jpg"></p>
    <div class="figure">Figure 1-7: Edit console-config.xml</div>

<a name="ex1figCC">
        <div class="codebox">
            <pre>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;console-config id="javaone"&gt;
    &lt;integration-point
	id="JavaOneNode"
	type="tree"
	priority="210"
	parentId="tree"
	content="treenode-ex1.jsf"
	/&gt;
&lt;/console-config&gt;</pre>
	</div>
<!-- FIXME: Update figure # -->
    <div class="figure">Figure 1-5: console-config.xml</div>
</a>

            </li>
	</ol>

<p><a href="#ex1contents">Back to step overview</a></p>

      <hr style="WIDTH:100%; HEIGHT:2px"><br>

<a name="ex1stepC">
	<p><b>C. Create a couple JavaServer Faces pages</b></p>
</a>

	<p> In this step you will be creating JSF pages to display your tree
	    node, and to provide some content when your tree node is clicked.
	    In the first JSF file you will specify a tree node to represent
	    a folder containing your lab pages.  You will also specify a
	    second tree node in this file to represent the content for this
	    first lab. This content will be using Facelets syntax to create
	    a simple "hello world" page that is displayed when it is clicked.
	    To learn more about JSF or Facelets you can visit the
	    JSFTemplating web site:
	    <a href="https://jsftemplating.dev.java.net">https://jsftemplating.dev.java.net</a>,
	    or the Facelets web site:
	    <a href="https://facelets.dev.java.net">https://facelets.dev.java.net</a>.</p>

	<p> FIXME: Provide instructions for (command line) users</p>

	<ol class="j1hollist">
            <li>
              Right click on Resources. Select "New" and "Other..."
            </li>
            <li>
              Select "Other" in the Categories column on the right and "Empty
              File" in File Types categories on the left. Select Next.
            </li>
            <li>
		Fill in "<code>treenode-ex1.jsf</code>" as the file name.
		This is referenced from the "content" specified in one of the
		<code>integration-point<code>'s in the
		<code>console-config.xml</code>.
		<p><img src="images/ex1-createTreenode.jpg"></p>
    <div class="figure">Figure 1-8: Create treenode-ex1.jsf</div>
            </li>
            <li>
		Edit the file to specify the tree nodes layout
		(Note: the full path of this file is
		<code>myplugin/src/main/resources/treenode-ex1.jsf</code>)
		<p><img src="images/ex1-editTreenode.jpg"></p>
    <div class="figure">Figure 1-9: Edit treenode-ex1.jsf</div>

        <div class="codebox">
            <pre>
&lt;sun:treeNode id="j1root"
	text="J1 TreeNode"
	imageURL="theme/com/sun/webui/jsf/suntheme/images/tree/tree_folder.gif"
	target="main"&gt;

	&lt;sun:treeNode id="first"
	    text="First Node"
	    url="javaone/hello.jsf"
	    imageURL="resource/images/instance.gif"
	    target="main" /&gt;
	&lt;/sun:treeNode&gt;
&lt;/sun:treeNode&gt;</pre>
  </div>
            </li>

	    <li>
		<p> Next you will create the <code>hello.jsf</code> page which will
		    be displayed on the right frame of the Administration
		    Console when the "<code>Exercise #1</code>" tree node is clicked. The
		    file will be created in the same directory where you
		    created "<code>treenode-1.jsf</code>".<br> The full path to
		    this file is
		    "<code>myplugin/src/main/resources/hello.jsf</code>".</p>

		<p>Right click on Resources. Select "<code>New</code>" and "<code>Other...</code>"</p>
            </li>
            <li>
		Select "<code>Other</code>" in the left Categories column and "<code>Empty File</code>"
		on the File Type column.
            </li>
            <li>
		Enter "<code>hello.jsf</code>" as the file name. This
		corresponds to the "<code>content</code>" specified in the
		"treenode-ex1.jsf" file you created.<br>
            </li>
            <li>
		Open the file. Add the following code. (Note: the full path
		to this file is <code>myplugin/src/main/resources/hello.jsf</code>)
		<p> <img src="images/ex1-editHello.jpg"></p>
    <div class="figure">Figure 1-10: Edit hello.jsf</div>

        <div class="codebox">
            <pre>
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"
&nbsp;&nbsp;&nbsp; xmlns:ui="http://java.sun.com/jsf/facelets"
&nbsp;&nbsp;&nbsp; xmlns:h="http://java.sun.com/jsf/html"
&nbsp;&nbsp;&nbsp; xmlns:f="http://java.sun.com/jsf/core"&gt;

    &lt;head&gt;
    &nbsp;&nbsp;&nbsp; &lt;title&gt; Hello World &lt;/title&gt;
    &lt;/head&gt;

    &lt;body&gt;
    &nbsp;&nbsp;&nbsp; &lt;h:outputText value="Your plugin is working, Congratulation !!!" /&gt;
    &lt;/body&gt;

&lt;/html&gt;</pre>
  </div>

            </li>
          </ol>


<p><a href="#ex1contents">Back to step overview</a></p>

  <hr style="WIDTH:100%; HEIGHT:2px"><br>

<a name="ex1stepD">
    <p><b>D. Build and Install your first GlassFish v3 plugin</b></p>
</a>
	<p> The last step of this implementation is to build the project.</p>

	<p> Note: If you are using a command line and have "maven 2" installed
	    on your system you can build the project by typing the following
	    command:</p>
	<div class="console"><pre>
cd gfplugin/plugin
mvn install</pre>
	</div>

	<p> NetBeans users can build the module jar file by following these steps.</p>

	<ol class="j1hollist">
            <li>
              Right click on the project "Java One 2008 Admin Console Plugin"
            </li>
            <li>
              Select Build.
            </li>
	</ol>

	<p> After the above steps are finished, you will have the jar file named
	    <code>gfplugin/myplugin/target/console-myplugin-1.0-SNAPSHOT.jar</code>.
	    This jar file is ready to install into GlassFish v3.</span></p>

	<p> You now need a Terminal to enter some commands, please bring up a terminal window.
	    For your convenience, GlassFish v3 has been installed as <code>gfplugin/glassfish</code>.
<!-- FIXME: I don't think we should have it already running... no magic -->
	    It is already running.

	    The following steps show you how to integrate and test your plugin module.</p>


	<ol class="j1hollist">
	<li>In the browser enter the following URL to bring up the Admin Console:

	    <div class="codebox"><pre>http://localhost:8080/admingui/index.jsf</pre></div>

	    <p>	Note that the navigation tree on the left does not have the
		JavaOne tree node yet since you have not integrated your
		plugin.</p>
	    <p>	<img src="images/ex1-before.jpg"></p>
    <div class="figure">Figure 1-11: Before Integration</div>
	</li>
	<li>Go to your <code>gfplugin</code> directory:
	    <p>	<code>cd gfplugin</code></p>
	</li>
	<li>Stop the server:
	    <p>	<code>glassfish/bin/stop-domain</code></p>
	</li>
	<li>Integrate the jar to GlassFish by copying it to the glassfish modules directory.
	    <code>
cp myplugin/target/console-myplugin-1.0-SNAPSHOT.jar glassfish/modules/console-myplugin-1.0-SNAPSHOT.jar<br><br>
	    </code>
	</li>
	<li>Start the server again:
	    <p>	<code>glassfish/bin/asadmin start-domain</code></p>
	</li>
	<li>In the browser enter the following URL to bring up the Admin
		Console:
	    <p>	<code>http://localhost:8080/admingui/index.jsf</code></p>

	    <p> Note that the JavaOne tree node is now displayed in the
                navigation tree. Note that clicking on the tree node displays
		your "Hello World" page.</p>
	    <p>	<img src="images/ex1-result.jpg"></p>
    <div class="figure">Figure 1-12: Browser showing the plugin page.</div>
	</li>
    </ol>

    <div class="j1holwarn" style="text-align: center">
	You have just customized the Administration Console!  You plugged in
	your own tree node, and added a new page to the application.
	Congratulations!</div>

</div>

<hr style="WIDTH:100%; HEIGHT:2px"><br>

<p class="j1holheader">Summary:</p>

<p> In this exercise, you have learned about GlassFish plugin module and
    developed a plugin modue to the Admin Console where you added a tree node
    to the navigation tree.  Clicking this tree node shows you the plugin
    page.</p>

            <p><a href="#Solution_1">Go to solution</a></p>
            <p><a href="#Exercise_2">Go on to next exercise</a></p>
        </div>
    </body>
</html>
