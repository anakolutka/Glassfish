<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<!--

-->

<head>

  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <!-- ident      "%Z%%M% %I%     %E% SMI" -->

  <title>建立 JDBC 連線池 - Sun GlassFish Enterprise Server v3 Prelude 管理主控台線上說明
  </title>
  <script language="JavaScript1.2">
    linktag = window.parent.frames[0].document.getElementsByTagName('link');
    for (var i = 0; i < linktag.length; i++) {
        if (linktag[i].rel == "stylesheet") {
            var s = "<link rel=" + linktag[i].rel + " type='text/css' href=" + linktag[i].href + " />";
            document.write(s);
        }
    }
  </script>

</head>

<body class="HlpBdy">



<a name="task-jdbcconnectionpoolnew"></a><h4>建立 JDBC 連線池</h4><p>使用管理主控台建立連線池時，即表示您在定義特定資料庫連線的各項設定。</p><h6>開始之前</h6><p>您必須先安裝並整合支援 JDBC API 的驅動程式 (JDBC 驅動程式)，才可建立連線池。請參閱<a href="task-integratejdbcdriver.html">整合 JDBC 驅動程式</a>。</p><p>建立 JDBC 連線池需要下列資訊。再繼續進行之前，請先收集此資訊：</p>
<ul><li><p>資料庫供應商名稱</p></li>
<li><p>資源類型，例如 <tt>javax.sql.DataSource</tt> (僅限於本機作業事件) <tt>java.sql.ConnectionPoolDataSource</tt> (本機作業事件，可能可提昇效能) 和 <tt>javax.sql.XADataSource</tt> (全域作業事件)</p></li>
<li><p>資料來源類別名稱</p></li>
<li><p>必需的特性，例如資料庫名稱 (URL)、使用者名稱和密碼</p></li></ul>
<ol>
<li><b>在瀏覽樹狀結構中，選取 [常用工作] 節點。</b></li>
<li><b>從 [常用工作] 頁面中，按一下 [建立新 JDBC 連線池] 按鈕。</b><p>[新 JDBC 連線池 (步驟 1，共 2 步)] 頁面會隨即開啟。</p>
<hr><p><b>備註 &#8211; </b>還可以透過展開 [資源] 節點和 [JDBC] 節點並選取 [連線池] 節點，來存取 [JDBC 連線池] 頁面。然後在 [新建連線池] 頁面中，選取
[新建] 以建立新的連線池。</p>
<hr>
</li>
<li><b>在 [名稱] 欄位中，鍵入新連線池的名稱。</b><p>此為必要欄位。</p></li>
<li><b>從 [資源類型] 下拉式清單中，選取一種資源類型。</b><p>選項包括 <tt>javax.sql.XADataSource</tt> (全域作業事件)、<tt>java.sql.ConnectionPoolDataSource</tt> (本機作業事件，可能會提昇效能) 和 <tt>javax.sql.DataSource</tt> (僅限於本機作業事件)。</p></li>
<li><b>從 [資料庫供應商] 下拉式清單中，選取一個資料庫供應商。</b></li>
<li><b>按 [下一步]。</b><p>[新 JDBC 連線池 (步驟 2，共 2 步)] 頁面會隨即開啟。</p></li>
<li><b>在 [資料來源類別名稱] 欄位中，鍵入實作 DataSource 和/或 XADataSource API 的供應商專屬類別名稱。</b></li>
<li><b>在 [說明] 欄位中，鍵入連線池的簡短說明。</b></li>
<li><b>在 [池的初始大小和最小大小] 欄位中，鍵入此池的最小連線數目。</b><p>該值還確定了首次建立池或應用程式伺服器啟動時置於池中的連線的數目。預設值為 8。</p></li>
<li><b>在 [池的最大大小] 欄位中，鍵入此池的最大連線數目。</b><p>預設值為 32。</p></li>
<li><b>在 [池設定大小數量] 欄位中，鍵入每個池設定大小批次的連線數目。</b><p>當池分別向最大池大小擴充以及向最小池大小收縮時，將成批調整大小。此值確定批次中的連線數目。將該值設置過大會延遲連線建立與回收；而將該值設置過小則會導致效率降低。預設值為 2。</p></li>
<li><b>在 [閒置逾時] 欄位中，鍵入連線可以在池中閒置的最長時間 (以秒為單位)。</b><p>一旦超過此時間，即從池中移除該連線。預設值為 30。</p></li>
<li><b>在 [最大等待時間] 欄位中，鍵入連線逾時前，請求連線的應用程式需等待的最長時間 (以毫秒為單位)。</b><p>預設值為 60,000。</p></li>
<li><b>選取 [需要連線驗證] 核取方塊以啟用連線驗證。</b><p>連線驗證可讓伺服器在失敗時重新連線。</p></li>
<li><b>從 [驗證方法] 下拉式清單中，選取一種驗證方法。</b><p>應用程式伺服器可以使用三種方法來驗證資料庫連線：自動確定、中介資料和表格。</p><dl><dt>自動確定和中介資料</dt>
<dd><p>應用程式伺服器會呼叫 <tt>con.getAutoCommit</tt> 和 <tt>con.getMetaData</tt> 方法，以驗證連線。</p>
<hr><p><b>備註 &#8211; </b>許多 JDBC 驅動程式會快取這些呼叫的結果。因此，使用這些呼叫不一定能提供可靠的驗證。請與驅動程式供應商進行核實，以確定這些呼叫是否被快取。</p>
<hr>
</dd>
<dt>表格</dt>
<dd><p>應用程式會查詢指定的資料庫表格。此表格必須存在且可供存取，但不需要任何列。請勿使用包含許多列的現有表格或經常存取的表格。</p></dd>
</dl>
</li>
<li><b>如果在 [驗證方法] 下拉式清單中選取 [表格]，請在 [表格名稱] 欄位中鍵入資料庫表格的名稱。</b><p>表格名稱僅能包含字母數字、底線、破折號或點字元。</p></li>
<li><b>選取 [一旦失敗便關閉所有連線] 核取方塊，可在任何連線失敗時，由伺服器關閉池中的所有連線並重新建立連線。</b><p>若取消選取此核取方塊，則僅會在使用連線時重新建立個別連線。</p></li>
<li><b>選取 [啟用允許非元件呼叫者] 核取方塊，可允許非元件呼叫者使用池。</b><p>非元件呼叫者的範例包含 Servlet 篩選和生命週期模組。</p></li>
<li><b>選取 [啟用非作業事件連線] 核取方塊，可傳回非作業事件連線。</b></li>
<li><b>從 [作業事件隔離層級] 下拉式清單中，選取此連線池的作業事件隔離層級。</b><p>若不指定此選項，連線將使用 JDBC 驅動程式所提供的預設隔離層級進行作業。</p></li>
<li><b>只有在步驟 20 中指定作業事件隔離層級時，才可使用 [保證隔離層級] 核取方塊。</b><p>若選取了 [受保證] 核取方塊，則從池中獲取的所有連線都具有相同的隔離層級。例如，若上次使用連線時以程式設計方式 (使用 <tt>con.setTransactionIsolation</tt>) 變更了連線的隔離層級，則此機制會將狀態變更回指定的隔離層級。</p></li>
<li>(可選擇) <b>在 [其他特性] 區段中，指定其他特性。</b><p>必要特性的範例包括資料庫名稱 (URL)、使用者名稱和密碼。由於隨資料庫供應商的不同，特性也會有所不同，因此請參閱供應商文件以取得詳細資訊。</p></li>
<li><b>按一下 [完成]。</b></li></ol><h6>另請參閱</h6>
<ul><li><p><a href="task-setdbaccess.html">設定資料庫存取</a></p></li>
<li><p><a href="task-integratejdbcdriver.html">整合 JDBC 驅動程式</a></p></li>
<li><p><a href="task-jdbcresourcenew.html">建立 JDBC 資源</a></p></li>
<li><p><a href="task-jdbcresourcesedit.html">編輯 JDBC 資源</a></p></li>
<li><p><a href="task-jdbcresourcesdelete.html">刪除 JDBC 資源</a></p></li>
<li><p><a href="task-jdbcconnectionpooledit.html">編輯 JDBC 連線池一般設定</a></p></li>
<li><p><a href="task-jdbcconnectionpooladvance.html">編輯 JDBC 連線池進階屬性</a></p></li>
<li><p><a href="task-verifyconnpoolsettings.html">驗證連線池設定</a></p></li>
<li><p><a href="task-jdbcconnectionpoolproperty.html">編輯 JDBC 連線池特性</a></p></li>
<li><p><a href="task-jdbcconnectionpooldelete.html">刪除 JDBC 連線池</a></p></li></ul>

<br/>

</body>
</html>
