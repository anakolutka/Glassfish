
asadmin Utility Subcommands                           redeploy(1)

NAME
     redeploy - redeploys the specified component

SYNOPSIS
     redeploy
     [--help]
      --name  component-name [--upload={true|false}]
     [ --retrieve  local-dirpath] [--dbvendorname dbvendorname]
     [--createtables={true|false} |  --dropandcreatetables ={true|false}]
     [ --uniquetablenames ={true|false}] [ --deploymentplan  deployment-plan]
     [--enabled={true|false}]
     [ --contextroot  context-root]
     [--precompilejsp={true|false}]
     [ --virtualservers  virtual-servers]
     [--libraries jar-file[,jar-file]*]
     [--type pkg-type]
     [--properties(name=value)[:name=value]*][archive-path]

DESCRIPTION
     The  redeploy command redeploys an  enterprise  application,
     web  application, module based on the Enterprise JavaBeansTM
     (EJB)  specification  (EJB  module),  connector  module,  or
     application  client  module  that  is  already  deployed  or
     already exists. The redeploy command preserves the  settings
     and  other options with which the application was originally
     deployed. The application must already be  deployed.  Other-
     wise, an error occurs.

     This command is supported in remote mode only.

OPTIONS
     --help

         Displays the help text for the subcommand.

     --name
         The name of the  application that is  being  redeployed.
         This  option must specify an application that has previ-
         ously been deployed. If the application does not  exist,
         an error occurs.

     --upload

         When set to true (the default), uploads  the  deployable
         file  to  the administration server. The deployable file
         must be accessible from  the  client.  If  the  file  is
         accessible  to  both server and client, set the --upload
         option to false.

Java EE 6           Last change: 27 Jul 2009                    1

asadmin Utility Subcommands                           redeploy(1)

     --retrieve

         Retrieves the client  stub  JAR  file  from  the  server
         machine to the local directory.

     --dbvendorname
         Specifies the name of  the  database  vendor  for  which
         tables are created. Supported values include db2, mssql,
         oracle,  derby,  javadb,  postgresql,   pointbase,   and
         sybase, case-insensitive. If not specified, the value of
         the database-vendor-name attribute in sun-ejb-jar.xml is
         used.  If no value is specified, a connection is made to
         the resource specified by the  jndi-name  subelement  of
         the  cmp-resource  element  in the sun-ejb-jar.xml file,
         and the database vendor name is read. If the  connection
         cannot  be  established,  or  if the value is not recog-
         nized, SQL-92 compliance is presumed.

     --createtables

         Creates tables at  deployment  of  an  application  with
         unmapped   container-managed  persistence  (CMP)  beans.
         Default is  the  create-tables-at-deploy  entry  in  the
         cmp-resource element of the sun-ejb-jar.xml file.

     --dropandcreatetables
         If set to true, when the component  is  redeployed,  the
         tables  created  by  the previous deployment are dropped
         before creating  the  new  tables.  Applies  to  already
         deployed  applications  with  unmapped CMP beans. If not
         set to true, the tables are dropped if the  drop-tables-
         at-undeploy  entry  in  the  cmp-resource element of the
         sun-ejb-jar.xml file is set to true. The new tables  are
         created  if  the  create-tables-at-deploy  entry  in the
         cmp-resource element of the sun-ejb-jar.xml file is  set
         to true.

     --uniquetablenames

         Guarantees unique table names  for  all  the  beans  and
         results  in a hashcode added to the table names. This is
         useful if you have an  application  with  case-sensitive
         bean names.

     --deploymentplan
         Takes the deployment plan, which  is  a  JAR  containing
         Sun-specific descriptors, and deploys it. This should be

Java EE 6           Last change: 27 Jul 2009                    2

asadmin Utility Subcommands                           redeploy(1)

         passed along when deploying a pure EAR file. A pure  EAR
         file is an EAR without Sun-specific descriptors.

     --enabled

         If set to true (default), allows  users  to  access  the
         application.  If set to false, users will not be able to
         access the application.

     --contextroot
         Valid only if the archive is a web module. It is ignored
         for  other  archive  types; defaults to filename without
         extension. The context root of the application  that  is
         being redeployed. The context root identifies the appli-
         cation in the server. The default is the  name,  without
         the  extension,  of  the  archive file that contains the
         application.

     --precompilejsp

         Specifies  whetherTMpages  that  are  crTMted  with  the
         JavaServer   Pages     technology  ("JSP    pages")  are
         precomplied  during deployment. Possible values  are  as
         follows:

         false
             JSP pages are not precompiled during deployment, but
             are complied at runtime (default).

         true

             JSP pages are precompiled during deployment.

     --virtualservers
         One  or  more  virtual  server  IDs.  Multiple  IDs  are
         separated by commas.

     --libraries

         A comma-separated list of library JAR files. Specify the
         library  JAR  files by their relative or absolute paths.
         Specify   relative   paths   relative    to    instance-
         root/lib/applibs.  The  libraries  are made available to
         the application in the order specified.

Java EE 6           Last change: 27 Jul 2009                    3

asadmin Utility Subcommands                           redeploy(1)

     --type

         The packaging archive type  of  the  component  that  is
         being deployed. Possible values are as follows:

         osgi
             The component is packaged as an OSGi  Alliance  bun-
             dle.

         The --type option is optional. If the component is pack-
         aged as a regular archive, omit this option.

     --properties  --property

         Optional keyword-value  pairs  that  specify  additional
         properties  for  the redeployment. The following proper-
         ties are available:

         keepSessions={false|true}
             Specifies whether active sessions of the application
             that  is  being  redeployed  are  preserved and then
             restored when the redeployment is complete. Possible
             values are as follows:

             false

                 Active  sessions  of  the  application  are  not
                 preserved and restored (default).

             true
                 Active sessions of the application are preserved
                 and restored.

                 If any active session of the  application  fails
                 to  be  preserved  or restored, none of the ses-
                 sions will be available when the redeployment is
                 complete.  However,  the  redeployment continues
                 and a warning is logged.

                 To  preserve  active  sessions,  the  Enterprise
                 Server serializes the sessions and saves them in
                 memory.  To  restore  the  sessions,  the  class
                 loader   of  the  newly  redeployed  application
                 deserializes any sessions that  were  previously
                 saved.

             Other available properties  are  determined  by  the
             implementation  of the component that is being rede-
             ployed.

Java EE 6           Last change: 27 Jul 2009                    4

asadmin Utility Subcommands                           redeploy(1)

             Note -

               The --properties option and the --property  option
               are  equivalent. You can use either option regard-
               less of the number of properties that you specify.

OPERANDS
     archive-path

         The path to the archive that  contains  the  application
         that  is  being  redeployed. This path can be a relative
         path or an absolute path.

         The archive can be in either of the following formats:

             o    An     archive     file,      for      example,
                  /export/JEE_apps/hello.war

             o    A directory that contains the  exploded  format
                  of the deployable archive
         Whether this operand is  required  depends  on  how  the
         application was originally deployed:

             o    If the application was originally deployed from
                  a  file,  the archive-path operand is required.
                  The operand must specify an archive file.

             o    If the application was originally deployed from
                  a   directory,   the  archive-path  operand  is
                  optional.

                  If  this  operand  is  omitted,  the  path   is
                  retrieved  from the domain.xml file. Otherwise,
                  the operand  can  specify  a  directory  or  an
                  archive file.

EXAMPLES
     Example 1 Redeploying a Web Application From a File

     This example redeploys the web application  hello  from  the
     hello.war  file in the current working directory. The appli-
     cation was originally deployed from a file. Active  sessions
     of  the  application  are  to be preserved and then restored
     when the redeployment is complete.

       asadmin> redeploy --name hello --properties keepSessions=true hello.war
       Command redeploy executed successfully

Java EE 6           Last change: 27 Jul 2009                    5

asadmin Utility Subcommands                           redeploy(1)

     Example 2 Redeploying a Web Application From a Directory

     This example redeploys the  web  application  hellodir.  The
     application  was  originally  deployed from a directory. The
     path is retrieved from the domain.xml file.

       asadmin> redeploy --user admin --passwordfile myfile --name hellodir
       Command redeploy executed successfully

EXIT STATUS
     0                           command executed successfully

     1                           error in executing the command

SEE ALSO
     deploy(1), undeploy(1), list-components(1)

Java EE 6           Last change: 27 Jul 2009                    6

