<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>One Pager for:</title>
  <meta http-equiv="Content-Type"
 content="text/html; charset=iso-8859-1">
</head>
<body style="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255);">
<h2>One Pager: Web Services Management.NEXT<br>
</h2>
<table border="1" cellpadding="2" width="756">
  <tbody>
    <tr>
      <td>
      <p><b>Table of Contents</b><br>
      <a href="#1">1. Introduction</a><br>
      </p>
      <blockquote> <a href="#11">1.1 </a><a
 href="http://www.glassfishplanet.org/wiki/attach/OnePagersOrFunctionalSpecs/one-pager.html#11">Project/Component
Working Name</a><br>
        <a href="#12">1.2&nbsp; Name(s) and e-mail address of
Document
Author(s)/Supplier</a><br>
        <a href="#13">1.3. Date of This Document</a> </blockquote>
      <a href="#2">2. Project Summary</a><br>
      <blockquote> <a href="#21">2.1 Project Description</a><br>
        <a href="#22">2.2 Risks and Assumptions</a><br>
      </blockquote>
      <a href="#3">3. Problem Summary</a><br>
      <blockquote> <a href="#31">3.1 Problem Area</a><br>
        <a href="#32">3.2 Justification</a><br>
      </blockquote>
      <a href="#4">4. Technical Description</a><br>
      <blockquote>
        <p><a href="#41">4.1 Details</a><br>
        <a href="#42">4.2 Bugs/RFE's</a><br>
        <a href="#43">4.3 Scope</a><br>
        <a href="#44">4.4 Out-of-scope</a><br>
        <a href="#45">4.5 Interfaces</a><br>
        <a href="#46">4.6 Documentation Impact</a><br>
        <a href="#47">4.7 Configuration/administration Impact</a><br>
        <a href="#48">4.8 High Availability Impact</a><br>
        <a href="#49">4.9 Internationalization</a><br>
        <a href="#410">4.10 Packaging</a><br>
        <a href="#411">4.11 Security Impact</a><br>
        <a href="#412">4.12 Compatibility</a><br>
        <a href="#413">4.12 Dependencies</a></p>
      </blockquote>
      <p><a href="#5">5. References</a><br>
      <a href="#6">6. Schedule </a> <br>
      </p>
      <p><br>
      </p>
      <h3><a name="1"></a>1. Introduction</h3>
      <font style="font-family: serif;">In
GlassFish v1,&nbsp; we added&nbsp; support for Web Services automatic
discovery and monitoring.</font><font
 style="font-family: times new roman,times,serif;"> </font>We also
integrated with Web Services
registry. GlassFish v1 supports message level security and XSLT
transformation.&nbsp; Using these features one can secure Web Services
on the wire and also do performance monitoring, track usage, analyze
failures
and do debugging during development. Please refer to <a
 href="https://glassfish.dev.java.net/javaee5/ws-mgmt/wsmgmthome.html">Web
Services Management Homepage</a> for details on
the existing features.<br>
      <p><a name="11"></a><b>1.1.&nbsp; Policy Features<br>
      </b></p>
      <p>Security policy management features provide a
solution to intrusion and Denial of Service (DOS) attacks.
Interoperability policy
management features provide a way to accept only inter-operable web
service requests and reject non-confirming requests. During development
time WSDLs can be tested for conformance to WS-I interoperability
standards. These features are very important for a successful web
service operation. In the
following sections these features are explained in detail.<br>
      </p>
      <p><a name="11"></a><b>1.2.&nbsp; Activity Monitoring<br>
      </b></p>
      <p>GlassFish V1 provides a variety of web services monitoring
statistics. It would be nice, in addition to these operational
statistics, uses can choose to only monitor and record only certain web
services activities. For example monitor all web services activity
with in east coast or monitor all web services activity from certain
organization (or security role).&nbsp; This way user can view and
analyze data that he/she is interested in. User does not have to dig
through the data to sort out only interesting information. Please see
more details in the later sections.<br>
      </p>
      <p><a name="11"></a><b>1.3.&nbsp; Service Level Monitoring<br>
      </b></p>
      <p>There is no out-of-box support for monitoring service levels
of&nbsp; Web Services in GlassFish. Service level agreements include
monitoring operational statistics over a period of time and if a
boundary condition is reached in that time period. It must be notified
to the administrator and needs to be corrected. Examples of service
level agreements -&nbsp; 90% of web service executions should at most
take 2 seconds in any 30 minute time period, 98% uptime translating web
service can not be down for more than&nbsp; 36 seconds etc.<br>
      </p>
      <p><a name="11"></a><b>1.4.&nbsp; Service Testing and Validation<br>
      </b></p>
      <p>For web services environment, testing and validation is very
important, as web services&nbsp; execute transactions and work flows
in-conjunction with partner organization's web services or other
service provider web services. One of the basic service testing that is
required is being able to look at the existing messages for web
services and modify them on the fly and re-submit as a new web service.
This enables easy testing of web service with various inputs and
formats. Ideally (if time permits) we would provide a capability to
test with simulated(mock) partner services, so that a service can be
tested on its own with the simulated(mock) partner services. This way
live connection to partner web services is not required.<br>
      </p>
      <p> </p>
      <p> </p>
      <p><a name="12"></a><b>1.5. Name(s) and e-mail address of
Document
Author(s)/Supplier</b></p>
      <p>Satish Viswanatham<br>
satish.viswanatham@sun.com<br>
      </p>
      <p>Nazrul Islam<br>
nazrul.islam@sun.com<br>
      </p>
      <p><a name="13"></a><b>1.6. Date of This Document</b></p>
      <p>07/25/06</p>
      <h3><a name="2"></a>2. Project Summary</h3>
      <p><br>
      <a name="21"></a><b>2.1. Project Description<br>
      </b></p>
      <p><font><font face="Georgia, Times New Roman, Times, serif"><br>
      <br>
      </font></font> <a name="21"></a><b>2.1.1. Policy Management<br>
      </b></p>
      <font><font face="Georgia, Times New Roman, Times, serif"> </font></font>Policy
can&nbsp; be added to accept only inter-operable web
service requests and reject any non-confirming requests. This is very
useful to guarantee that services receive only valid inter-operable
messages. <font>GlassFish
v1 is vulnerable to&nbsp; security attacks. The server can be
vulnerable to&nbsp; denial of service attacks. Policy based management
capabilities in GlassFish can be very useful in these contexts. </font><br>
      <font><font face="Georgia, Times New Roman, Times, serif"><br>
      </font></font><font face="Georgia, Times New Roman, Times, serif"><font><font
 face="Georgia, Times New Roman, Times, serif"><br>
      </font></font></font><a name="21"></a><b>2.1.1.1.
Interoperability Policy Management</b><br>
      <span style="font-family: georgia,times new roman,times,serif;"><span
 style="font-weight: bold;"><br>
      </span></span><font>An
enterprise can design its web service interfaces according to WS-I
Rules. However client may not be exactly invoking these interfaces in
the
prescribed manner.&nbsp; Check for inter-operable profiles conformance
can be
done&nbsp; at runtime, in addition to design time. Messages are
checked for compliance regarding data type, structure and content.<br>
      <br>
      </font><font>Analyze
WSDL,
XML schema for standards (WS-I) compliance and
potential issues.&nbsp; Developers can used this feature to verify the
WSDLs
against the WS-I standards and catch non-conformance issues.</font><font>
Please refer to the
WS-I specifications for the
prescribed constraints (rules). <br>
      </font><font><font face="Georgia, Times New Roman, Times, serif"><br>
      </font></font><a name="21"></a><b>2.1.1.2 Large Payload Policy</b><br>
      <font><font face="Georgia, Times New Roman, Times, serif"><br>
      </font></font><font>This policy allows the user to ignore
extremely large payloads that can
used as a malicious attack strategy. User can select the the largest
size of the payload that is allowed.&nbsp; Any request with a bigger
payload size is automatically ignored.<br>
      </font><font><font face="Georgia, Times New Roman, Times, serif"><br>
      </font></font><a name="21"></a><b>2.1.1.3 Large Attachment Policy</b><br>
      <font><font face="Georgia, Times New Roman, Times, serif"> <br>
      </font></font><font>Malicious attacks can also be carried out by
sending web service
request with very large attachments.&nbsp; User can place
requirement on the size of the attachment.&nbsp; <br>
      <br>
For example an user sets a restriction that attachments can not be
greater than 5 MB. </font><font>Web Service request with
5.5 MB attachment will denied since</font><font> </font><font>it
violates attachment
size requirement. Response message will indicate that the attachment
size is above the accepted size.</font><br>
      <font><font face="Georgia, Times New Roman, Times, serif"><br>
      </font></font><a name="21"></a><b>2.1.1.4 Max Transaction Policy<br>
      <br>
      </b><font>One
of the types of DOS attacks is sending too many requests and overload
the server.&nbsp; That makes server unavailable for other valid
requests. In this policy user can set a maximum number of requests to
be accepted per client per minute.&nbsp; If the maximum limit is
reached the extra requests will not be processed.&nbsp; A standard
error
message will be sent as a response.<br>
      </font><font><font face="Georgia, Times New Roman, Times, serif"><br>
      </font></font><font face="Georgia, Times New Roman, Times, serif"><font><font
 face="Georgia, Times New Roman, Times, serif"><br>
      </font></font></font><a name="21"></a><b>2.1.1.5 Max Auth
Failures Policy<br>
      <br>
      </b><font>Even
if the auth credentials are unknown DOS attacks can be done by sending
too many requests with bad credentials. Server will be overload with
verifying credentials for this high volume of requests. This policy
will allow user to set a maximum number of auth failure per client per
minute.<br>
      </font><br>
      <a name="21"></a><b>2.1.1.6 Sensitive Data Protection Policy<br>
      <br>
      </b><font>There is a need to mask
and protect sensitive data such as</font><font> credit
card numbers,&nbsp; social security numbers, bank account numbers
etc.&nbsp; Exposing this data can lead to identity theft or intrusion
of individual privacy. In this policy user will provide the XPath
(select check box in GUI)&nbsp; to sensitive data items in WSDL. User
will also provide the number of fields that needs to be masked.&nbsp;
For example in case of SSNs, user can specify to mask the first 5
digits - XXX-XX-1234.</font><font><br>
      </font><font face="Georgia, Times New Roman, Times, serif"><font><font
 face="Georgia, Times New Roman, Times, serif"><br>
      </font></font></font><a name="21"></a><b>2.1.1.7 Known Origin
Policy<br>
      </b><font><br>
Certain web services may need to be exposed only to partners and not be
exposed to the whole Internet. Using this policy an user can select the
IP addresses or sub nets that are allowed to access the web service.
This policy can also restrict web services to the only certain
permitted authenticated Principals. Any other IP addresses or client
that is authenticated as any other principal will be allowed to access
the web service.<br>
      </font><font> </font><font></font><font
 face="Georgia, Times New Roman, Times, serif"><font><font
 face="Georgia, Times New Roman, Times, serif"><br>
      </font></font></font><br>
      <a name="212"></a><b>2.1.2. Activity Monitoring<br>
      <br>
      </b> <font><font face="Georgia, Times New Roman, Times, serif"> </font></font>Activity
must be created before it can be monitored. Activity is defined in
terms
of activity parameters (criteria) like web service name, endpoint
name, application name, role name etc. These parameters act as filters
while server is collecting the data for the activities. Activity
matching these criteria will be collected and saved in the database for
user reference. User can delete these activity records once he reviewed
them. <font><font face="Georgia, Times New Roman, Times, serif"><br>
      </font></font><font face="Georgia, Times New Roman, Times, serif"><font><font
 face="Georgia, Times New Roman, Times, serif"><br>
      </font></font></font><a name="21"></a><b>2.1.2.1. Defining an
Activity</b><span
 style="font-family: georgia,times new roman,times,serif;"><span
 style="font-weight: bold;"><br>
      <br>
      </span></span>To define an activity requires at least 2
parameters
- target for which activity is being collected and at least one search
criteria like role name or ip address that need to matched. The target
attribute could Application Name or Endpoint Name.&nbsp; If any&nbsp;
Application Name is selected, all activities for all endpoints in that
application are collected. If a endpoint is selected, only the activity
for that endpoint is collected.<br>
      <br>
      <a name="21"></a><b>2.1.2.2. Types of Activities</b><span
 style="font-family: georgia,times new roman,times,serif;"><span
 style="font-weight: bold;"><br>
      <br>
      </span></span>Activity parameters decide the type of activity. <br>
      <ul>
        <li><span style="text-decoration: underline;">Role name,
Principal name</span> - log the activity if user name matches or role
name matches to the specified parameter value<br>
        </li>
        <li><span style="text-decoration: underline;">Client IP
address, Client IP network</span> - log the activity if client's IP
address or network matches the specified the parameter value<br>
        </li>
        <li><span style="text-decoration: underline;">Message size or
Message type</span> - log the activity if message size or type matches
the user specified<br>
        </li>
        <li><span style="text-decoration: underline;">Time of the day</span>
- log the activity if the messages came during the time period
specified by the user.</li>
      </ul>
      <a name="213"></a><b>2.1.3. Service Level Monitoring<br>
      <br>
      </b> There are 2 types of service level monitoring. Availability
monitoring and Performance monitoring. <br>
      <ul>
        <li><span style="text-decoration: underline;">Availability
Monitoring</span> - percentage of uptime and the interval time are the
parameters for this type of monitoring.</li>
      </ul>
      <ul>
        <li><span style="text-decoration: underline;">Performance
Monitoring </span>- performance should be less than maximum specified
value, percentage for which the above boundary condition must be
satisfied and interval time.<br>
        </li>
      </ul>
      <font face="Georgia, Times New Roman, Times, serif"><font><font
 face="Georgia, Times New Roman, Times, serif"> </font></font></font><b></b><span
 style="font-family: georgia,times new roman,times,serif;"><span
 style="font-weight: bold;"> </span></span> <br>
      <a name="21"></a><b>2.1.3.1. Defining a Service Level - Action</b><span
 style="font-family: georgia,times new roman,times,serif;"><span
 style="font-weight: bold;"><br>
      </span></span><br>
Service Level Monitor is configured using Target, Boundary and Interval
criteria.<br>
      <ul>
        <li>Target could be either an endpoint or an application.
Availability Monitoring could be configured either for an endpoint or
for entire application. Performance monitoring can only be configured
per
endpoint. It does not make sense to support a single performance
service level for an entire application. performance characteristics of
different endpoints will be different.</li>
        <li>Boundary could be either time measurement or percentage
measurement. Time measurement is valid for performance monitoring.
Percentage measurement is valid for Availability Monitoring. <br>
        </li>
        <li>Interval&nbsp; over which the service is monitored. <br>
        </li>
      </ul>
      <p></p>
      <p><a name="22"></a><b>2.2. Risks and Assumptions</b></p>
      <p>Assumption is that all the WS-I constraints (rules) can be
verified programmatically. We want to support complete WS-I rule set.<br>
      </p>
      <h3><a name="3"></a>3. Problem Summary</h3>
      <p><a name="31"></a><b>3.1. Problem Area</b></p>
      <p>Please see the project description for the problem areas and
motivation for supporting these features.<br>
      </p>
      <p><a name="32"></a><b>3.2. Justification</b></p>
      <p>Improves the security of a Web Services (SOA) architecture and
interoperability of the web service with other web service (deployed on
other vendors like Microsoft, IBM, etc). These feature provide better
visibility and control on security and interoperability.<br>
      </p>
      <h3><a name="4"></a>4. Technical Description</h3>
      <p><a name="41"></a><b>4.1. Details</b></p>
      <p>In case of Interoperability policy enforcement, we calculate
which WS-I standards assertion (rule) like R1031, R1005, R1006, R1008
and&nbsp; R1009 and apply for the current web service message. For
example if a web service message does not contain an attachment, all
assertions about attachments can be skipped and need to be applied.
Some assertions only apply for SOAP message request etc. Some
assertions only apply for SOAP Fault Response message. Each binding
(e.g. rpc-literal, rpc-document etc) has its own rules. We calculate
the rules that are relevant and applicable to the SOAP message and only
check against those WS-I rules.<br>
      </p>
      <p>Large Payload and Large Attachment policies need to be
enforced before the web service runtime unmarshalls the message on the
wire and constructs the runtime (in-memory) representation for the SOAP
message.<br>
      </p>
      <p> <a name="42"></a><b>4.2. Bug/RFE Number(s)</b></p>
      <p>None.</p>
      <p> <a name="43"></a><b>4.3. In Scope</b></p>
      <p>We will support all rules prescribed by WS-I standards.<br>
      </p>
      <p> <a name="44"></a><b>4.4. Out of Scope<br>
      </b></p>
      <p>We do not automatically&nbsp; identify the sensitive data in
the web
services.&nbsp; Users need to identify the sensitive data and they can
choose
protect it.<br>
      </p>
      <p>We will only support BP 1.1. BP 1.0 is out of scope.<br>
      </p>
      <p> <a name="45"></a><b>4.5. Interfaces</b></p>
      <p>CLI changes, GUI changes, configuration changes in domain.xml
and additional APIs in AMX.<br>
      </p>
      <p> <b>4.5.1 Exported Interfaces</b></p>
      <table border="1" width="80%">
        <tbody>
          <tr>
            <td width="16%">Interface</td>
            <td width="15%">Stability</td>
            <td width="28%">Former Stability (if changing)</td>
            <td width="41%">Comments</td>
          </tr>
          <tr>
            <td width="16%">&nbsp;TBD</td>
            <td width="15%">&nbsp;Unstable</td>
            <td width="28%">New<br>
            </td>
          </tr>
        </tbody>
      </table>
      <p><br>
      <b>4.5.2 Imported interfaces</b></p>
      <p>None.<br>
      </p>
      <p> <b>4.5.3 Other interfaces (Optional)</b></p>
      <p>None.<br>
      </p>
      <p> <a name="46"></a><b>4.6. Doc Impact</b></p>
      <p>man pages, manuals that will be impacted by this feature
proposal.</p>
      <p> <a name="47"></a><b>4.7. Admin/Config Impact</b></p>
      <p>CLI and GUI are enhanced to provide management capabilities
for these features.<br>
No changes to node agents or other plugins.<br>
      </p>
      <p> <a name="48"></a><b>4.8. HA Impact</b></p>
      <p>NA.</p>
      <p> <a name="49"></a><b>4.9. I18N/L10N Impacts</b></p>
      <p>NA.</p>
      <p> <a name="410"></a><b>4.10. Packaging &amp; Delivery</b></p>
      <p>No impact on install. These features are packaged as part of
appserv-se.jar.&nbsp; Older versions of the product need to upgrade to
new version to get these features. No specific changes to upgrade code
are required.<br>
      </p>
      <p> <a name="411"></a><b>4.11. Security Impact</b></p>
      <p>How does this proposal interact with security-related APIs or
interfaces? <br>
None.<br>
      </p>
      <p>Does it rely on any Java policy or platform user/permissions
implication?<br>
None.</p>
      <p>If the feature exposes any new ports, Or any similar
communication points which may&nbsp; have security implications, note
these here.<br>
None.<br>
      </p>
      <p> <a name="412"></a><b>4.12. Compatibility Impact</b></p>
      <p> No Incompatible changes to interfaces that others expect to
be stable may cause other parts of application server or other
dependent products to break. </p>
      <p> No changes to the imported or exported interfaces. Some
additional interfaces are added to AMX to deal with Policy Management.<br>
      </p>
      <p>No specific requirements on upgrade tool and migration tool.</p>
      <p> <a name="413"></a><b>4.13. Dependencies</b></p>
      <p>Dependency on Web Services runtime for API to get information
about payload and attachment sizes.<br>
      </p>
      <h3><a name="5"></a>5. Reference Documents</h3>
      <ol>
        <li><a
 href="https://glassfish.dev.java.net/javaee5/ws-mgmt/wsmgmthome.html">Web
Services Management Homepage</a><br>
        </li>
        <li><a href="http://www.clamav.net/">Clam AntiVirus</a><br>
        </li>
        <li><a href="https://wsit.dev.java.net/">WSIT</a><br>
        </li>
        <li><a href="http://www.ws-i.org/Profiles/BasicProfile-1.0.html">Basic
Profile 1.0 (BP 1.0)</a></li>
        <li><a href="http://www.ws-i.org/Profiles/BasicProfile-1.1.html">Basic
Profile 1.1 (BP 1.1)</a></li>
        <li><a
 href="http://www.ws-i.org/Profiles/BasicSecurityProfile-1.0.html">Basic
Security Profile 1.0 (BSP 1.0)</a></li>
        <li><a
 href="http://www.ws-i.org/Profiles/BasicSecurity/SecurityScenarios-1.0.pdf">Basic
Security Profile Scenarios 1.0</a></li>
        <li><a
 href="http://www-128.ibm.com/developerworks/webservices/library/ws-basicprofile11.html">WS-I
profiles explained</a><br>
        </li>
      </ol>
      <p> </p>
      <h3><a name="6"></a>6. Schedule</h3>
      <p><b>6.1. Projected Availability</b></p>
      <p>Post GlassFish v2.<br>
      </p>
      <p>&nbsp;</p>
      </td>
    </tr>
  </tbody>
</table>
</body>
</html>
