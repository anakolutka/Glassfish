<!DOCTYPE REFENTRY PUBLIC "-//Sun Microsystems//DTD DocBook V3.0-Based SolBook Subset V2.0//EN" [
<!--ArborText, Inc., 1988-1999, v.4002-->
<!ENTITY metainfo SYSTEM "metainfo.sgm">
<!ENTITY options-common SYSTEM "options-common.sgm">
<!ENTITY synopsis-common SYSTEM "synopsis-common.sgm">
<!ENTITY % commonents SYSTEM "smancommon.ent">
%commonents;
<!ENTITY % booktitles SYSTEM "booktitles.ent">
%booktitles;
<!ENTITY Dash "&ndash;">
]>
<?Pub UDT _bookmark _target>
<?Pub EntList brvbar bull cross dash diam diams frac12 frac13 frac14 hellip
 laquo lArr loz mdash nabla ndash para pound rArr raquo sect yen ne>
<?Pub Inc>
<refentry id="create-jdbs-connection-pool.1">
<refmeta><refentrytitle>create-jdbc-connection-pool</refentrytitle><manvolnum>
1</manvolnum>&metainfo;
</refmeta>
<refnamediv><indexterm><primary sortas="template">create-jdbc-connection-pool &mdash;
registers the JDBC connection pool</primary></indexterm><indexterm><primary
sortas="template for documenting manpages for the Sun Java System Application Server">
registers the JDBC connection pool &mdash; create-jdbc-connection-pool</primary>
</indexterm><refname>create-jdbc-connection-pool</refname><refpurpose>registers
the JDBC connection pool</refpurpose></refnamediv>
<refsynopsisdiv><title>&synp-tt;</title>
<cmdsynopsis><command>create-jdbc-connection-pool</command>&synopsis-common;
<arg>&Dash;&Dash;target <replaceable>target</replaceable></arg><arg>&Dash;&Dash;datasourceclassname <replaceable>
classname</replaceable></arg><arg>&Dash;&Dash;restype <replaceable>res_type
</replaceable></arg><arg>&Dash;&Dash;steadypoolsize <replaceable>poolsize
</replaceable></arg><arg>&Dash;&Dash;maxpoolsize <replaceable>poolsize</replaceable></arg>
<arg>&Dash;&Dash;maxwait <replaceable>time</replaceable></arg><arg>&Dash;&Dash;poolresize <replaceable>
limit</replaceable></arg><arg>&Dash;&Dash;idletimeout <replaceable>time</replaceable></arg>
<arg>&Dash;&Dash;isolationlevel <replaceable>isolation_level</replaceable></arg>
<arg>&Dash;&Dash;isolationguaranteed=<replaceable>true</replaceable></arg>
<arg>&Dash;&Dash;isconnectvalidatereq=<replaceable>false</replaceable></arg>
<arg>&Dash;&Dash;validationmethod <replaceable>auto-commit</replaceable></arg>
<arg>&Dash;&Dash;validationtable <replaceable>tablename</replaceable></arg>
<arg>&Dash;&Dash;failconnection=<replaceable>false</replaceable></arg><arg>&Dash;&Dash;allownoncomponentcallers=<replaceable>
false</replaceable></arg><arg>&Dash;&Dash;nontransactionalconnections=<replaceable>
false</replaceable></arg><arg>&Dash;&Dash;description <replaceable>text</replaceable></arg>
<arg>&Dash;&Dash;property <replaceable>(name=value)</replaceable><arg>:<replaceable>
name=value</replaceable></arg>*</arg><arg choice="plain"><replaceable>connectionpoolid
</replaceable></arg>
</cmdsynopsis></refsynopsisdiv>
<refsect1><title>&desc-tt;</title>
<para>The <command>create-jdbc-connection-pool</command> command registers
a new JDBC connection pool with the specified JDBC connection pool name.</para>
<para>This command is supported in remote mode only.</para>
</refsect1>
<refsect1><title>&opts-tt;</title>
<variablelist termlength="wide"><?Pub Caret>&options-common;
<varlistentry><term><option role="nodash">&Dash;&Dash;target</option></term>
<listitem><para>This option is deprecated.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;datasourceclassname
</option></term><listitem><para>The name of the vendor&mdash;supplied JDBC
datasource resource manager.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;restype</option></term>
<listitem><para>The interface that the datasource class implements. Must be
one of <classname>javax.sql.DataSource</classname>, <classname>javax.sql.ConnectionPoolDataSource
</classname> or <classname>javax.sql.XADataSource</classname>. It leads to
an error when this option has a legal value and the indicated interface is
not implemented by the datasource class. This option has no default value.
</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;steadypoolsize</option></term>
<listitem><para>The minimum and initial number of connections maintained in
the pool. The default value is 8.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;maxpoolsize</option></term>
<listitem><para>The maximum number of connections that can be created. The
default value is 32.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;maxwait</option></term>
<listitem><para>The amount of time a caller will wait before a connection
timeout is sent. The default is 60 seconds. A value of 0 forces the caller
to wait indefinitely.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;poolresize</option></term>
<listitem><para>The number of connections to be removed when <command>idletimeout
</command> timer expires. Connections that have idled for longer than the
timeout are candidates for removal. When the pool size reaches <command>steadypoolsize
</command>, the connection removal stops. The default value is 2. </para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;idletimeout</option></term>
<listitem><para>The maximum time, in seconds, that a connection can remain
idle in the pool. After this time, the implementation can close this connection.
This timeout value must be kept shorter than the server side timeout value
to prevent the accumulation of unusable connections in the application. The
default value is 300.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;isolationlevel</option></term>
<listitem><para>The transaction-isolation-level on the pooled database connections.
This option does not have a default value. If not specified, the pool operates
with the default isolation level that the JDBC driver provides. </para>
<para>You can set a desired isolation level using one of the standard transaction
isolation levels: <literal>read-uncommitted</literal>, <literal>read-committed
</literal>, <literal>repeatable-read</literal>, <literal>serializable</literal>.
Applications that change the isolation level on a pooled connection programmatically
risk polluting the pool. This could lead to program errors.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;isisolationguaranteed
</option></term><listitem><para>This is applicable only when a particular
isolation level is specified for transaction-isolation-level. The default
value is true.</para>
<para>This option assures that every time a connection is obtained from the
pool, isolation level is set to the desired value. This could have some performance
impact on some JDBC drivers. Administrators can set this to false when the
application does not change <option role="nodash">&Dash;&Dash;isolationlevel
</option> before returning the connection.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;isconnectvalidatereq
</option></term><listitem><para>If set to true, connections are validated
or checked to see if they are usable before giving out to the application.
The default value is false.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;validationmethod</option></term>
<listitem><para>The name of the validation table used to perform a query to
validate a connection. Valid settings are: <literal>auto-commit</literal>, <literal>
meta-data</literal>, or <literal>table</literal>. The default value is <literal>
auto-commit</literal>.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;validationtable</option></term>
<listitem><para>The name of the validation table used to perform a query to
validate a connection.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;failconnection</option></term>
<listitem><para>If set to true, all connections in the pool must be closed
when a single validation check fails. The default value is false. One attempt
is made to re-establish failed connections.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;allownoncomponentcallers
</option></term><listitem><para>A pool with this property set to true, can
be used by non-J2EE components, that is, components other than EJBs or Servlets.
The returned connection is enlisted automatically with the transaction context
obtained from the transaction manager. </para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;nontransactionalconnections
</option></term><listitem><para>A pool with this property set to true returns
non-transactional connections. This connection does not get  automatically
enlisted with the transaction manager.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;description</option></term>
<listitem><para>Text providing details about the specified JDBC connection
pool.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;property</option></term>
<listitem><para>Optional attribute name/value pairs for configuring the connection
pool.</para>
</listitem></varlistentry>
</variablelist></refsect1>
<refsect1><title>&oper-tt;</title>
<variablelist termlength="medium">
<varlistentry><term><replaceable>connectionpoolid</replaceable></term><listitem>
<para>The name of the JDBC connection pool to be created.</para>
</listitem></varlistentry>
</variablelist></refsect1>
<refsect1><title>&exam-tt;</title>
<example>
<title>Using create-jdbc-connection-pool command</title>
<screen>asadmin> <userinput>create-jdbc-connection-pool --user admin 
--passwordfile passwords.txt --host localhost --port 7070 
--datasourceclassname org.apache.derby.jdbc.ClientDataSource --restype javax.sql.XADataSource 
--property portNumber=1527:password=APP:user=APP:serverName=
localhost:databaseName=sun-appserv-samples:connectionAttributes=\\;
create\\\\=true sample_derby_pool</userinput>
Command create-jdbc-connection-pool executed successfully</screen>
<para>Where, the sample_derby_pool is created. The escape character backslash
(\\) is used in the <option role="nodash">--property</option> option to distinguish
the semicolon (;). Two backslashes (\\\\) are used to distinguish the equal
(=) sign.</para>
</example>
</refsect1>
<refsect1><title>EXIT STATUS</title>
<variablelist termlength="medium">
<varlistentry><term>0</term><listitem><para>command executed successfully
</para>
</listitem></varlistentry>
<varlistentry><term>1</term><listitem><para>error in executing the command
</para>
</listitem></varlistentry>
</variablelist></refsect1>
<refsect1><title>&also-tt;</title>
<para><link linkend="delete-jdbc-connection-pool-1"><citerefentry><refentrytitle>
delete-jdbc-connection-pool</refentrytitle><manvolnum>1</manvolnum></citerefentry></link>, <link
linkend="list-jdbc-connection-pools-1"><citerefentry><refentrytitle>list-jdbc-connection-pools
</refentrytitle><manvolnum>1</manvolnum></citerefentry></link></para>
</refsect1>
</refentry>
<?Pub *0000011218>
