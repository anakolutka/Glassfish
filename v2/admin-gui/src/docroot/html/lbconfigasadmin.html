<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>

  <meta http-equiv="Content-type" content="text/html; charset=UTF-8">
  <!-- ident      "%Z%%M% %I%     %E% SMI" -->

  <title>To Set Up Load Balancing
  </title>
  <script language="JavaScript1.2">
    linktag = window.parent.frames[0].document.getElementsByTagName('link');
    for (var i = 0; i < linktag.length; i++) {
        if (linktag[i].rel == "stylesheet") {
            var s = "<link rel=" + linktag[i].rel + " type='text/css' href=" + linktag[i].href + " />";
            document.write(s);
        }
    }
  </script>
  <meta name="Copyright" content="Copyright &copy; 2007 by Sun Microsystems, Inc. All Rights Reserved." />
</head>

<body class="HlpBdy">

<a name="lbconfigasadmin"></a><h4>To Set Up Load Balancing</h4><ol>
<li><b>Create a load balancer configuration using the Admin Console or the <tt>asadmin</tt> command
<tt>create-http-lb-config</tt>. In the Admin Console, on the left frame, click HTTP Load Balancers and
 then click New. In the New HTTP Load Balancer page, provide
the device details and select the target cluster or instances.</b></li>
<li><b>Add a reference to a cluster or a stand-alone server instance for the
load balancer to manage. To do this using the Admin Console, on the
left frame, click the HTTP  Load Balancers node and then select the
desired load balancer listed  under the node.  Open the Targets tab,
click Manage Targets and in the Manage Targets page, select the required target.
You can also do this using <tt>asadmin</tt> <tt>create-http-lb-ref</tt>.</b><p>If you created the load balancer configuration with a target, and that target
is the only cluster or stand-alone server instance that the load balancer references, skip
this step.</p></li>
<li><b>Enable the cluster or stand-alone server instance referenced by the load balancer. To
enable a stand-alone server instance using the Admin Console, on the left frame,
click the HTTP Load Balancers node and then select the desired load balancer
listed under the node. Open the Targets tab and in the Targets table,
select the check box next to the instance that you want to enable
and click Enable. </b><p>To enable a server instance in a cluster, select the load balancer as
explained above and in the Targets tab, click the desired cluster. Now open
the Instances tab, select the desired instance, and from the Load Balancer Actions
drop&ndash;down list, select Enable Load Balancing.</p><p> The equivalent command to enable a cluster or a stand-alone instance is
<tt>asadmin enable-http-lb-server</tt>.</p></li>
<li><b>Enable applications for load balancing. To do this using the Admin Console, open
the Targets tab as mentioned above and click the required cluster. Open the
Applications tab, select the required application, and from the More Actions drop-down list,
select Load Balancer Enable. You can also do this using  <tt>asadmin enable-http-lb-application</tt>.</b><p>These applications must already be deployed and enabled for use on the clusters
or stand-alone instances that the load balancer references. Enabling for load balancing is
a separate step from enabling them for use.</p></li>
<li><b>Create a health checker. To do this using the Admin Console, open the
Targets tab for the load balancer as mentioned in the previous step and
in the Targets table, click Edit Health Checker. You can also create a
health checker by using <tt>asadmin</tt> <tt>create-health-checker</tt>.</b><p>The health checker monitors unhealthy server instances so that when they become healthy
again, the load balancer can send new requests to them.</p></li>
<li><b>Generate the load balancer configuration file. To do this using the Admin Console,
click the load balancer and then open the Export tab. In this tab,
click Export Now. You can also generate a load balancer configuration file using
<tt>asadmin</tt> <tt>export-http-lb-config</tt> .</b><p>This command generates a configuration file to use with the load balancer plug-in
shipped with the Sun Java System Application Server.</p></li>
<li><b>Copy the load balancer configuration file to your web server <tt>config</tt> directory where
the load balancer plug-in configuration files are stored.</b>
<hr><p><b>Note - </b>If you are using Sun Java System Web Server (6.1 or 7.0), and
if it is configured in the SSL mode, instead of doing steps
6 and 7 listed above, you can generate the load balancer configuration file and
send the data 'over the wire' to the Web Server in a
single step. To do this using the Admin Console, click the desired load
balancer and then open the Export tab. In this tab, click Apply Changes
Now. This sends the data to the Web Server configuration directory. </p>
<hr>
</li></ol>
<br/>

</body>
</html>
