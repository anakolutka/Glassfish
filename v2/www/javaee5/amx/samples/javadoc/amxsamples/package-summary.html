<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_04) on Thu Nov 17 17:14:55 PST 2005 -->
<TITLE>
amxsamples
</TITLE>

<META NAME="keywords" CONTENT="amxsamples package">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="amxsamples";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../amxsamples/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV PACKAGE&nbsp;
&nbsp;NEXT PACKAGE</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../index.html?amxsamples/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<H2>
Package amxsamples
</H2>
<div style="text-align: center;">
<div style="text-align: center;"> </div>
<big><big><span style="font-weight: bold;">Appserver MBean API (AMX)
Sample Guide</span></big></big><br>
</div>
<p style="font-weight: bold;"> <font size="-1">Last updated: 25
October 2005</font>
<p style="font-weight: bold;">Introduction<br>

This document gives an overview on using the <span
 style="font-weight: bold;">Appserver Management
Extensions</span> (<span style="font-weight: bold;">AMX</span>)
API.
<P>
<B>See:</B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>Description</B></A>
<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../amxsamples/CmdTemplate.html" title="class in amxsamples">CmdTemplate</A></B></TD>
<TD>Write your own code, then run it in the command line eg:
    
    <code>Enter Command > mystuff.MyCmd [args]</code>

    Implement the runCmd() method any way you like.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../amxsamples/ConfigSetup.html" title="class in amxsamples">ConfigSetup</A></B></TD>
<TD>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../amxsamples/Demo.html" title="class in amxsamples">Demo</A></B></TD>
<TD>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../amxsamples/DeployNotificationListener.html" title="class in amxsamples">DeployNotificationListener</A></B></TD>
<TD>A JMX NotificationListener for deployment.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../amxsamples/LineReaderImpl.html" title="class in amxsamples">LineReaderImpl</A></B></TD>
<TD>Reads a line from the specified input stream, outputs
        the prompt to System.out.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../amxsamples/LoggingListener.html" title="class in amxsamples">LoggingListener</A></B></TD>
<TD>A JMX NotificationListener for deployment.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../amxsamples/SampleHandshakeCompletedListener.html" title="class in amxsamples">SampleHandshakeCompletedListener</A></B></TD>
<TD>Demonstrates how to write a HandshakeCompletedListener.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../amxsamples/SampleListener.html" title="class in amxsamples">SampleListener</A></B></TD>
<TD>Displays any <CODE>Notification</CODE> received.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../amxsamples/SampleMain.html" title="class in amxsamples">SampleMain</A></B></TD>
<TD>Main class demonstrating a variety of MBean API (AMX) usages.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../amxsamples/Samples.html" title="class in amxsamples">Samples</A></B></TD>
<TD>Main class demonstrating a variety of MBean API (AMX) usages.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../amxsamples/SampleUtil.html" title="class in amxsamples">SampleUtil</A></B></TD>
<TD>Utility methods for the samples.</TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
Package amxsamples Description
</H2>

<P>
<div style="text-align: center;">
<div style="text-align: center;"> </div>
<big><big><span style="font-weight: bold;">Appserver MBean API (AMX)
Sample Guide</span></big></big><br>
</div>
<p style="font-weight: bold;"> <font size="-1">Last updated: 25
October 2005</font></p>
<p style="font-weight: bold;">Introduction<br>
</p>
<p>This document gives an overview on using the <span
 style="font-weight: bold;">Appserver Management
Extensions</span> (<span style="font-weight: bold;">AMX</span>)
API.&nbsp;
Sample source code may be viewed directly by clicking on individual
method names within the Javadoc. Nearly all the source code is
contained within <a href="Samples.html" target="_blank">Samples</a>.<br>
</p>
<p><a name="CompileChecklist"></a><span style="font-weight: bold;">Compile
checklist:</span></p>
<ol>
  <li>JDK 1.5.0 or later is required.<br>
  </li>
  <li>Copy <span style="font-family: monospace;">appserv-ext.jar</span>
into this directory before running the '<span
 style="font-family: monospace;">compile-samples</span>' script.&nbsp;
It is found in <span style="font-family: monospace;">${INSTALL_ROOT}/lib</span>.&nbsp;
Alternately, you may modify the compile script to point to this jar in
your
install (or build) directory.</li>
</ol>
<a name="RunChecklist"></a><span style="font-weight: bold;">Run
checklist:</span>
<ol>
  <li>Requirements as in <a href="#CompileChecklist">Compile checklist</a>
above.</li>
  <li>Copy <span style="font-family: monospace;">javaee.jar</span>
into this directory before running the '<span
 style="font-family: monospace;">run-samples</span>' script.&nbsp; It
is found in <span style="font-family: monospace;">${INSTALL_ROOT}/lib/</span>.&nbsp;
Alternately, you may modify the script to point to this jar in your
install (or build) directory.</li>
</ol>
<p><br style="font-weight: bold;">
<big> <span style="font-weight: bold;"><font size="+1">Running the
sample command line</font></span></big><a name="Connecting"
 style="font-weight: bold;"></a><br>
<br>
The samples are demonstrated using a simple command-line interface. You
can run it as follows:<br>
</p>
<p style="font-family: monospace;">sh run-samples.sh&nbsp;&nbsp; (unix)<br>
run.samples.bat&nbsp;&nbsp;&nbsp;&nbsp; (Windows)</p>
<p>See <a
 href="SampleMain.html#connect%28java.lang.String,%20int,%20java.lang.String,%20java.lang.String,%20com.sun.appserv.management.client.TLSParams%29"
 target="_blank">SampleMain.connect()</a>
for an
example of how to connect to the server.&nbsp; If a properties file is
not specified it uses default values for the above items.&nbsp; If
specified, the properties file uses the following format:<br>
<br>
<span style="font-family: monospace;">connect.host=localhost</span><br
 style="font-family: monospace;">
<span style="font-family: monospace;">connect.port=8686</span><br
 style="font-family: monospace;">
<span style="font-family: monospace;">connect.user=admin</span><br
 style="font-family: monospace;">
<span style="font-family: monospace;">connect.password=admin123</span><br
 style="font-family: monospace;">
<span style="font-family: monospace;">connect.truststore=samples-truststore</span><br
 style="font-family: monospace;">
<span style="font-family: monospace;">connect.truststorePassword=changeme</span><br
 style="font-family: monospace;">
<span style="font-family: monospace;"><span
 style="font-family: monospace;">connect.useTLS=false</span><br
 style="font-weight: bold;">
</span> <br>
IMPORTANT:&nbsp; Note that in an Enterprise Edition build, TLS is
generally enabled, so <span style="font-family: monospace;">useTLS </span>must
be true and the
<span style="font-family: monospace;">trustStore </span>and <span
 style="font-family: monospace;">truststorePassword </span>are
required (truststore will be created automatically).&nbsp; Connections
will
fail (or hang)&nbsp; if <span style="font-family: monospace;">useTLS </span>is
not set appropriately.<br>
<br>
Once you have connected to the DAS via an <a
 href="../../../javadoc/com/sun/appserv/management/client/AppserverConnectionSource.html"
 target="_blank">AppserverConnectionSource</a>
call <a
 href="../../../javadoc/com/sun/appserv/management/DomainRoot.html#getDomainRoot%28%29"
 target="_blank">getDomainRoot()</a>
to get an instance of <a
 href="../../../javadoc/com/sun/appserv/management/DomainRoot.html"
 target="_blank">DomainRoot</a>.&nbsp;
All further interfaces may be obtained from <a
 href="../../../javadoc/com/sun/appserv/management/DomainRoot.html"
 target="_blank">DomainRoot</a>,
directly or indirectly.<br>
<br>
<big><span style="font-weight: bold;"><font size="+1">Viewing and
running the sample code</font></span></big><a name="ViewingAndRunning"
 style="font-weight: bold;"></a><span style="font-family: monospace;"><br>
<br>
</span>Javadoc for all samples is found in <a href="Samples.html"
 target="_blank">Samples</a>;&nbsp;
while
viewing the Javadoc
for a particular method (not just the summary of all methods), clicking
on the method name displays the source code for that method.<br>
<br>
You may wish to run the <a href="SampleMain.html" target="_blank">SampleMain</a>
command line interface while viewing
the Javadoc.&nbsp; The available samples are summarized here:<br>
<br>
</p>
<table style="text-align: left; width: 100%;" border="1" cellpadding="2"
 cellspacing="2">
  <tbody>
    <tr>
      <td style="vertical-align: top; font-weight: bold;">SampleMain
command name<br>
      </td>
      <td style="vertical-align: top; font-weight: bold;">Samples.java
method name<br>
      </td>
      <td style="vertical-align: top; font-weight: bold;">Discussion<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">demo-jmx-monitor<br>
      </td>
      <td style="vertical-align: top;"><a
 href="Samples.html#demoJMXMonitor%28%29" target="_blank">demoJMXMonitor()</a><br>
      </td>
      <td style="vertical-align: top;">Demonstrates the use of a <a
 href="http://java.sun.com/j2se/1.5.0/docs/api/javax/management/monitor/package-summary.html"
 target="_blank"><span style="font-family: monospace;">javax.management.monitor</span></a>
MBean
to be notified of changes in the value of an <a
 href="http://java.sun.com/j2se/1.5.0/docs/api/javax/management/Attribute.html"
 target="_blank"><span style="font-family: monospace;">javax.management.Attribute</span></a>.<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">deploy<br>
      </td>
      <td style="vertical-align: top;"><a
 href="Samples.html#deploy%28%29" target="_blank">deploy()</a><br>
      </td>
      <td style="vertical-align: top;">Demonstrates how to deploy an
archive using the low-level API.<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">list-attributes<br>
      </td>
      <td style="vertical-align: top;"><a
 href="Samples.html#displayAllAttributes%28%29" target="_blank">displayAllAttributes()</a><br>
      </td>
      <td style="vertical-align: top;">Demonstrates how to access and
display available Attributes on a <a
 href="../../../javadoc/com/sun/appserv/management/base/AMX.html"
 target="_blank">AMX</a>.<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">list<br>
      </td>
      <td style="vertical-align: top;"><a
 href="Samples.html#handleList%28%29" target="_blank">handleList()</a><br>
      </td>
      <td style="vertical-align: top;">Demonstrates how to access
various types of&nbsp; <a
 href="../../../javadoc/com/sun/appserv/management/base/AMX.html"
 target="_blank">AMX</a>
by obtaining
a Map and then displaying it.<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">list-properties<br>
      </td>
      <td style="vertical-align: top;"><a
 href="Samples.html#displayAllProperties%28%29" target="_blank">displayAllProperties()</a><br>
      </td>
      <td style="vertical-align: top;">Display all properties found on
all <a href="../../../javadoc/com/sun/appserv/management/base/AMX.html">AMX</a>.<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">query<br>
      </td>
      <td style="vertical-align: top;"><a
 href="Samples.html#demoQuery%28%29" target="_blank">demoQuery()</a><br>
      </td>
      <td style="vertical-align: top;">Demonstrate how to use the <a
 href="../../../javadoc/com/sun/appserv/management/base/QueryMgr.html"
 target="_blank">QueryMgr</a>
facilities.<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">quit<br>
      </td>
      <td style="vertical-align: top;">-<br>
      </td>
      <td style="vertical-align: top;"><br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">run-all<br>
      </td>
      <td style="vertical-align: top;">-<br>
      </td>
      <td style="vertical-align: top;">Runs all samples that do not
require additional arguments.<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">start-server<br>
      </td>
      <td style="vertical-align: top;"><a
 href="Samples.html#startServer%28java.lang.String%29" target="_blank">startServer(String
serverName)</a><br>
      </td>
      <td style="vertical-align: top;">Starts a server.<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">stop-server<br>
      </td>
      <td style="vertical-align: top;"><a
 href="Samples.html#stopServer%28java.lang.String%29" target="_blank">stopServer()</a><a
 href="Samples.html#startServer%28%29">String
serverName</a><a
 href="http://fisheye.cenqua.com/java.net/viewrep/%7Eraw,r=1.3/glassfish/www/amx/samples/Samples.html#stopServer%28java.lang.String%29">)</a><br>
      </td>
      <td style="vertical-align: top;">Stops a server.<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">show-hierarchy<br>
      </td>
      <td style="vertical-align: top;"><a
 href="Samples.html#displayHierarchy%28%29" target="_blank">displayHierarchy()</a>
      </td>
      <td style="vertical-align: top;">Displays the hierarchy of all
available <a
 href="../../../javadoc/com/sun/appserv/management/base/AMX.html"
 target="_blank">AMX</a>.<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">set-monitoring<br>
      </td>
      <td style="vertical-align: top;"><a
 href="Samples.html#setMonitoring%28%29" target="_blank">setMonitoring(
configName, level)</a><br>
      </td>
      <td style="vertical-align: top;">Sets the monitoring state for
all available modules.<br>
      </td>
    </tr>
    <tr>
      <td style="vertical-align: top; font-family: monospace;">undeploy<br>
      </td>
      <td style="vertical-align: top;"><a
 href="Samples.html#undeploy%28%29" target="_blank">undeploy(String
moduleName)</a><br>
      </td>
      <td style="vertical-align: top;">Undeploys a deployed module.<br>
      </td>
    </tr>
  </tbody>
</table>
<br>
<span style="font-family: monospace;"><br>
<br>
<br>
</span><br>
<br>
<br>
<br>
<br>
<br>
<P>

<P>
<DL>
</DL>
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../amxsamples/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV PACKAGE&nbsp;
&nbsp;NEXT PACKAGE</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../index.html?amxsamples/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
