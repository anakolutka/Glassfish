<?xml version="1.0" encoding="UTF-8"?>
<!--
  modules for building the final distribution images and base distribution images.
  
  Base distribution images are the files that are needed in running Glassfish, except the jar files.
  These images are created and then published so that the module developers can use them during
  development. There are modules responsible for assembling these images, as this is not a trivial
  process.
  
  The final distribution modules are used to assemble the installable distribution of Glassfish.
  Those are the base installation images plus binaries. These modules are not necessary when
  you are developing Glassfish modules.
-->
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
    <modelVersion>4.0.0</modelVersion>
    <parent>
        <groupId>org.glassfish</groupId>
        <artifactId>glassfish-parent</artifactId>
        <version>10.0-SNAPSHOT</version>
    </parent>

    <packaging>pom</packaging>
    <groupId>org.glassfish.distributions</groupId>
    <artifactId>distributions</artifactId>
    <name>Glassfish distribution images</name>

    <modules>
    	<module>external</module>
    	<module>nucleus-base</module>
    	<module>nucleus</module>
        <module>web</module>
        <module>glassfish</module>
    </modules>

    <build>
        <plugins>
            <plugin>
                <groupId>org.jvnet.maven-antrun-extended-plugin</groupId>
                <artifactId>maven-antrun-extended-plugin</artifactId>
                <version>1.18version>
            </plugin>
            <plugin>
                <groupId>org.jvnet.poormans-installer</groupId>
                <artifactId>installer-builder</artifactId>
                <version>1.1</version>
                <configuration>
                    <licenseFile>pom.xml</licenseFile>
                </configuration>
            </plugin>
            <plugin>
                <groupId>org.glassfish.build</groupId>
                <artifactId>maven-glassfish-plugin</artifactId>
                <executions>
                    <execution>
                        <id>dashboard</id>
                        <phase>site</phase>
                        <goals>
                            <goal>dashboard</goal>
                        </goals>
                        <configuration>
                            <finalName>dashboard-${project.build.finalName}.txt</finalName>
                        </configuration>
                    </execution>
                    <execution>
                        <id>contributors</id>
                        <phase>site</phase>
                        <goals>
                            <goal>dashboard</goal>
                        </goals>
                        <configuration>
                            <generatorName>com.sun.enterprise.build.ContributorsWikiGenerator</generatorName>
                            <finalName>contrib-${project.build.finalName}.txt</finalName>
                        </configuration>
                    </execution>
                </executions>
            </plugin>
            <!--plugin>
                <artifactId>maven-antrun-plugin</artifactId>
                <executions>
                    <execution>
						<id>push-dahsboard</id>
                        <phase>verify</phase>
                        <configuration>
                            <tasks>
                              <scp file="${project.build.directory}/${project.build.finalName}.txt" todir="dochez@wiki.glassfish.java.net:/app/gfwiki/pages" keyfile="${user.home}/.ssh/lowsec" passphrase=""/>
                            </tasks>
                        </configuration>
                        <goals>
                            <goal>run</goal>
                        </goals>
                    </execution>
                </executions>

                <dependencies>
                    <dependency>
                        <groupId>ant</groupId>
                        <artifactId>ant-jsch</artifactId>
                        <version>1.6.5</version>
                    </dependency>
                    <dependency>
                        <groupId>com.jcraft</groupId>
                        <artifactId>jsch</artifactId>
                        <version>0.1.29</version>
                    </dependency>
                </dependencies>
            </plugin-->
        </plugins>
    </build>
</project>

