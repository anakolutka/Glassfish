<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<!--

-->

<head>

  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <!-- ident      "%Z%%M% %I%     %E% SMI" -->

  <title>Para crear un conjunto de conexiones JDBC - Ayuda en línea de la Consola de administración de GlassFish Enterprise Server v3 Prelude de Sun
  </title>
  <script language="JavaScript1.2">
    linktag = window.parent.frames[0].document.getElementsByTagName('link');
    for (var i = 0; i < linktag.length; i++) {
        if (linktag[i].rel == "stylesheet") {
            var s = "<link rel=" + linktag[i].rel + " type='text/css' href=" + linktag[i].href + " />";
            document.write(s);
        }
    }
  </script>

</head>

<body class="HlpBdy">



<a name="task-jdbcconnectionpoolnew"></a><h4>Para crear un conjunto de conexiones JDBC</h4><p>Cuando crea un conjunto de conexiones con la Consola de administración, está
definiendo los aspectos de una conexión a una base de datos específica.</p><h6>Antes de empezar</h6><p>Para crear un conjunto de conexiones, en primer lugar, debe instalar e
integrar un controlador compatible con la API JDBC (controlador JDBC). Consulte <a href="task-integratejdbcdriver.html">Para integrar un controlador JDBC</a>.</p><p>La siguiente información es necesaria a la hora de crear el conjunto
de conexiones JDBC. Recopile esta información antes de continuar:</p>
<ul><li><p>Nombre de proveedor de la base de datos</p></li>
<li><p>Tipos de recursos, como <tt>javax.sql.DataSource</tt> (sólo transacciones locales), <tt>java.sql.ConnectionPoolDataSource</tt> (transacciones locales, posibles mejoras de rendimiento) y <tt>javax.sql.XADataSource </tt> (transacciones globales)</p></li>
<li><p>Nombre de clase de origen de datos</p></li>
<li><p>Propiedades obligatorias, como el nombre de la base de datos (URL), nombre de usuario y la contraseña.</p></li></ul>
<ol>
<li><b>En el árbol de navegación, seleccione el nodo Tareas comunes.</b></li>
<li><b>En la página Tareas comunes, haga clic en el botón Crear nuevo
conjunto de conexiones JDBC.</b><p>Se abrirá la página Nuevo conjunto de conexiones JDBC (paso 1 de
2).</p>
<hr><p><b>Nota – </b>También puede acceder a la página Conjunto de conexiones JDBC si expande
los nodos Recursos y JDBC, y después selecciona el nodo Conjuntos de
conexiones. A continuación, en la página de conjunto de conexiones, seleccione Nuevo
para crear un conjunto de conexiones.</p>
<hr>
</li>
<li><b>En el campo Nombre, introduzca un nombre para el nuevo conjunto de
conexiones.</b><p>Se trata de un campo obligatorio.</p></li>
<li><b>En la lista desplegable Tipo de recurso, seleccione un tipo de recurso.</b><p>Las opciones incluyen <tt>javax.sql.XADataSource</tt> (transacciones globales) y <tt>java.sql.ConnectionPoolDataSource</tt> (transacciones locales, posibles mejoras
de rendimiento), <tt>javax.sql.DataSource </tt> (sólo transacciones locales).</p></li>
<li><b>En la lista desplegable Proveedor de bases de datos, seleccione un proveedor
de bases de datos.</b></li>
<li><b>Haga clic en Siguiente.</b><p>Se abrirá la página Nuevo conjunto de conexiones JDBC (paso 2 de
2).</p></li>
<li><b>En el campo Nombre de clase de fuente de datos, introduzca el
nombre de la clase específica del proveedor que implementa las API DataSource
o XADataSource.</b></li>
<li><b>En el campo Descripción, introduzca una breve descripción del conjunto de conexiones.</b></li>
<li><b>En el campo Tamaño de conjunto inicial y mínimo, introduzca el número
mínimo de conexiones de este conjunto.</b><p>Este valor también determina el número de conexiones incluidas en el conjunto
cuando se crea el conjunto por primera vez o cuando se inicia
el servidor de aplicaciones. El valor predeterminado es 8.</p></li>
<li><b>En el campo Tamaño de conjunto máximo, introduzca el número máximo de
conexiones de este conjunto.</b><p>El valor predeterminado es 32.</p></li>
<li><b>En el campo Cantidad de cambio de tamaño de conjunto, introduzca el
número de conexiones por lote de cambio de tamaño de conjunto.</b><p>Cuando el conjunto aumenta y disminuye hacia el tamaño máximo y mínimo
respectivamente, se cambia el tamaño en lotes. Este valor determina el número
de conexiones en el lote. Si este valor es demasiado grande, se
retrasará la creación y el reciclado de las conexiones y, si es
demasiado pequeño, el proceso perderá eficacia. El valor predeterminado es 2.</p></li>
<li><b>En el campo Tiempo de espera de inactividad, introduzca el tiempo máximo,
en segundos, que una conexión puede permanecer inactiva en el conjunto.</b><p>Cuando expire este tiempo, la conexión quedará eliminada del conjunto. El valor
predeterminado es 30.</p></li>
<li><b>En el campo Tiempo de espera máximo, introduzca el tiempo máximo, en
milésimas de segundo, que la aplicación que solicita una conexión esperará antes
de que se agote el tiempo de espera de la conexión.</b><p>El valor predeterminado es 60.000.</p></li>
<li><b>Marque la casilla de verificación Validación de conexión necesaria para habilitar la
validación de la conexión.</b><p>La validación de la conexión permite al servidor volver a conectarse en
caso de error.</p></li>
<li><b>En la lista desplegable Método de validación, seleccione un método de validación.</b><p>El servidor de aplicaciones puede validar las conexiones de base de datos
de tres formas: confirmación automática, metadatos, tabla.</p><dl><dt>Asignación automática y metadatos</dt>
<dd><p>El servidor de aplicaciones valida una conexión llamando a los métodos <tt> con.getAutoCommit</tt> y <tt>con.getMetaData</tt>. </p>
<hr><p><b>Nota – </b>Muchos controladores JDBC guardan en caché los resultados de estas llamadas. Como resultado, al utilizar estas llamadas es posible que no siempre se obtengan validaciones fiables. Consulte con el proveedor del controlador para determinar si estas llamadas se almacenan en caché o no.</p>
<hr>
</dd>
<dt>Tabla</dt>
<dd><p>La aplicación consulta la tabla de base de datos que se especifica. La tabla debe existir y estar accesible, aunque no requiera ninguna fila. No utilice una tabla existente que tenga un gran número de filas o una tabla a la que se accede con frecuencia.</p></dd>
</dl>
</li>
<li><b>Si ha seleccionado Tabla en la lista desplegable Método de validación, introduzca
el nombre de la tabla de base de datos en el campo
Nombre de tabla.</b><p>El nombre de la tabla debe contener únicamente caracteres alfanuméricos, de subrayado,
guiones y puntos.</p></li>
<li><b>Marque la casilla de verificación Cerrar todas las conexiones ante cualquier fallo
para cerrar todas las conexiones del servidor en el conjunto y restablecerlas
cuando no se realice correctamente alguna conexión.</b><p>Si anula la selección de esta casilla de verificación, las conexiones individuales
se restablecerán sólo cuando se utilicen.</p></li>
<li><b>Seleccione la casilla de verificación Permitir solicitantes que no son componentes habilitado
para habilitar el conjunto que van a utilizar los solicitantes que no
sean componentes.</b><p>Entre los ejemplo de solicitantes que no son componentes se incluyen los
filtros del servlet y los módulos de ciclo de vida.</p></li>
<li><b>Marque la casilla de verificación Conexiones no transaccionales habilitadas para devolver conexiones
que no sean de transacción.</b></li>
<li><b>En la lista desplegable Nivel de aislamiento de transacción, seleccione un nivel
de aislamiento de transacción para este conjunto de conexiones.</b><p>Si no se especifica nada, las conexiones funcionan con los niveles de
aislamiento predeterminados que proporciona el controlador JDBC.</p></li>
<li><b>La casilla de verificación Nivel de aislamiento garantizado sólo es aplicable si
se ha especificado un nivel de aislamiento de transacción en el paso
20.</b><p>Si selecciona la casilla de verificación Garantizado, todas las conexiones tomadas del
conjunto tendrán el mismo nivel de aislamiento. Por ejemplo, si el nivel
de aislamiento para la conexión se cambia de forma programada (con <tt>con.setTransactionIsolation </tt>)
cuando se utiliza por última vez, este mecanismo devuelve el estado al
nivel de aislamiento especificado.</p></li>
<li>(Opcional) <b>En la sección Propiedades adicionales, especifique las propiedades adicionales.</b><p>Entre los ejemplos de propiedades necesarias, se incluyen el nombre de la
base de datos (URL), el nombre de usuario y la contraseña. Puesto
que las propiedades varían según el proveedor de la base de datos,
consulte la documentación del proveedor para obtener información.</p></li>
<li><b>Haga clic en Finalizar (Finish).</b></li></ol><h6>Véase también</h6>
<ul><li><p><a href="task-setdbaccess.html">Para configurar el acceso a una base de datos</a></p></li>
<li><p><a href="task-integratejdbcdriver.html">Para integrar un controlador JDBC</a></p></li>
<li><p><a href="task-jdbcresourcenew.html">Para crear un recurso JDBC</a></p></li>
<li><p><a href="task-jdbcresourcesedit.html">Para editar un recurso JDBC</a></p></li>
<li><p><a href="task-jdbcresourcesdelete.html">Para eliminar un recurso JDBC</a></p></li>
<li><p><a href="task-jdbcconnectionpooledit.html">Para editar la configuración general del conjunto de conexiones JDBC</a></p></li>
<li><p><a href="task-jdbcconnectionpooladvance.html">Para editar atributos avanzados del conjunto de conexiones JDBC</a></p></li>
<li><p><a href="task-verifyconnpoolsettings.html">Para verificar la configuración del conjunto de conexiones</a></p></li>
<li><p><a href="task-jdbcconnectionpoolproperty.html">Para editar las propiedades del conjunto de conexiones JDBC</a></p></li>
<li><p><a href="task-jdbcconnectionpooldelete.html">Para eliminar un conjunto de conexiones JDBC</a></p></li></ul>

<br/>

</body>
</html>
