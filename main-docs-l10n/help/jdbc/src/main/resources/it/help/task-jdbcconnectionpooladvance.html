<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2005, 2013 Oracle and/or its affiliates. All rights reserved.

Use is subject to License Terms  -->
<p><a id="task-jdbcconnectionpooladvance" name="task-jdbcconnectionpooladvance"></a></p>

<h4><a id="sthref19" name="sthref19"></a>Per modificare gli attributi avanzati del connection pool JDBC</h4>
<a name="BEGIN" id="BEGIN"></a>
<ol>
<li>
<p>Espandere il nodo Risorse nell'albero di navigazione.</p>
</li>
<li>
<p>Nel nodo Risorse selezionare il nodo JDBC.</p>
</li>
<li>
<p>Nel nodo JDBC selezionare il nodo Connection pool.</p>
<p>Viene visualizzata la pagina Connection pool.</p>
</li>
<li>
<p>Nella pagina Connection pool fare clic sul nome del pool da modificare.</p>
<p>Viene visualizzata la pagina Modifica connection pool.</p>
</li>
<li>
<p>Nella pagina Modifica connection pool fare clic sulla scheda Avanzate.</p>
<p>Viene visualizzata la pagina Modifica attributi avanzati connection pool JDBC.</p>
</li>
<li>
<p>Nel campo Timeout istruzione digitare il periodo di tempo in secondi trascorso il quale le query di lunghezza eccessiva verranno terminate.</p>
<p>GlassFish Server imposter&agrave; <code>QueryTimeout</code> sulle istruzioni create. Impostare il valore su -1 per disabilitare l'opzione. Il valore predefinito &egrave; -1.</p>
</li>
<li>
<p>Nel campo Dimensione cache istruzioni digitare il numero di istruzioni da inserire nella cache mediante il meccanismo LRU (Least Recently Used).</p>
<p>Per disabilitare l'inserimento delle istruzioni nella cache, specificare il valore 0. Il valore predefinito &egrave; 0.</p>
</li>
<li>
<p>Nel campo SQL iniz. digitare la stringa SQL da eseguire ogni volta che si crea (e non ogni volta che si riutilizza) una connessione nel pool.</p>
<p>L'esecuzione di questa stringa inizializza la condizione della connessione.</p>
</li>
<li>
<p>Nel campo Listener SQL Trace digitare una lista separata da virgole di nomi di classi di implementazione del listener per impostare il trace delle istruzioni SQL eseguite dalle applicazioni.</p>
<p>Le classi di listener devono implementare l'interfaccia <code>org.glassfish.api.jdbc.SQLTraceListener</code>. L'utilizzo di listener semplifica l'operazione di filtraggio dei messaggi del log per le istruzioni SQL e consente agli amministratori di analizzare le istruzioni.</p>
</li>
<li>
<p>Selezionare la casella di controllo Abilitato dell'opzione Wrapping oggetti JDBC per far s&igrave; che le applicazioni ricevano oggetti JDBC sottoposti a wrapping per <code>Statement</code>, <code>PreparedStatement</code>, <code>CallableStatement</code>, <code>ResultSet</code> e <code>DatabaseMetaData</code>.</p>
<p>Questa opzione &egrave; abilitata per impostazione predefinita.</p>
</li>
<li>
<p>Selezionare la casella di controllo Pooling per abilitare il connection pooling per il pool.</p>
<p>Questa opzione &egrave; abilitata per impostazione predefinita.</p>
</li>
<li>
<p>Nel campo Convalida al massimo una volta digitare il periodo di tempo, in secondi, trascorso il quale una connessione viene convalidata al massimo una volta.</p>
<p>Impostando un valore appropriato per questo attributo si riduce al minimo il numero di richieste di convalida di una connessione. Il valore predefinito, 0, indica che l'attributo non &egrave; abilitato.</p>
</li>
<li>
<p>Nel campo Timeout perdite connessione digitare il periodo di tempo, in secondi, necessario per rilevare le perdite di connessione in un connection pool.</p>
<p>Utilizzare il campo per rilevare potenziali perdite di connessione dell'applicazione. Si presume che una connessione non restituita al pool dall'applicazione entro il tempo previsto rappresenti una perdita, pertanto viene registrata uno stack trace del chiamante. Impostare il valore su 0 per disabilitare il rilevamento delle perdite di connessione. Il valore predefinito &egrave; 0.</p>
<p>Utilizzare questo campo insieme all'opzione Recupero perdite connessione per evitare potenziali perdite di connessione dall'applicazione.</p>
</li>
<li>
<p>Selezionare la casella di controllo Recupero perdite connessione per ripristinare le connessioni perse nel pool una volta completato il trace della perdita delle connessioni.</p>
<p>Questa opzione &egrave; disabilitata per impostazione predefinita.</p>
</li>
<li>
<p>Nel campo Timeout perdite istruzioni specificare il periodo di tempo, in secondi, necessario per rilevare le perdite relative alle istruzioni in un connection pool.</p>
<p>Utilizzare il campo per rilevare potenziali perdite di istruzioni dell'applicazione. Si presume che un'istruzione non restituita al pool dall'applicazione entro il tempo previsto rappresenti una perdita, pertanto viene registrata uno stack trace del chiamante. Impostare il valore su 0 per disabilitare il trace delle perdite di istruzioni. Il valore predefinito &egrave; 0.</p>
<p>Utilizzare questo campo insieme all'opzione Recupero perdite istruzioni per evitare potenziali perdite di istruzioni dall'applicazione.</p>
</li>
<li>
<p>Selezionare la casella di controllo Recupero perdite istruzioni per ripristinare le istruzioni perse nel pool una volta completato il trace della perdita di istruzioni.</p>
<p>Questa opzione &egrave; disabilitata per impostazione predefinita.</p>
</li>
<li>
<p>Nel campo Numero di nuovi tentativi di creazione digitare il numero di tentativi che verranno eseguiti in caso di errore durante la creazione di una nuova connessione.</p>
<p>Impostare il valore su 0 per non effettuare alcun nuovo tentativo di creazione della connessione. Il valore predefinito &egrave; 0.</p>
</li>
<li>
<p>Nel campo Intervallo tentativi digitare l'intervallo di tempo, in secondi, tra due tentativi di creazione di una connessione.</p>
<p>Il valore predefinito &egrave; 10. Questo attributo viene utilizzato solo se il valore Numero di nuovi tentativi di creazione &egrave; maggiore di 0.</p>
</li>
<li>
<p>Selezionare la casella di controllo Abilitato dell'opzione Associazione ritardata per associare una connessione fisica a una connessione logica soltanto quando viene utilizzata.</p>
<p>Le connessioni vengono disassociate quando la transazione &egrave; completa e termina un metodo del componente. In tal modo il riutilizzo delle connessioni fisiche risulta pi&ugrave; agevole. Se l'opzione &egrave; disabilitata, una connessione fisica viene associata a una connessione logica anche prima di essere utilizzata. Questa opzione &egrave; disabilitata per impostazione predefinita.</p>
</li>
<li>
<p>Selezionare la casella di controllo Abilitato dell'opzione Partecipazione alla transazione connessioni ritardate per integrare una risorsa nella transazione solo quando viene effettivamente utilizzata in un metodo.</p>
<p>Questa opzione &egrave; disabilitata per impostazione predefinita.</p>
</li>
<li>
<p>Selezionare la casella di controllo Abilitato dell'opzione Associazione a thread per creare associazioni tra le connessioni e i thread.</p>
<p>Quando lo stesso thread necessita di un'altra connessione, pu&ograve; riutilizzare la connessione gi&agrave; associata, senza provocare il sovraccarico dovuto alla necessit&agrave; di ottenere una connessione dal pool. Questa opzione &egrave; disabilitata per impostazione predefinita.</p>
</li>
<li>
<p>Selezionare la casella di controllo Abilitato dell'opzione Corrispondenza connessioni per abilitare la corrispondenza tra connessioni per il pool.</p>
<p>Se l'opzione &egrave; abilitata, la connessione selezionata dal pool dovr&agrave; corrispondere a connessioni provviste di determinate credenziali. L'opzione deve essere abilitata se il connection pool viene utilizzato da applicazioni provviste di pi&ugrave; credenziali utente. Pu&ograve; essere disabilitata se l'amministratore sa che le connessioni del pool saranno sempre omogenee e che quindi non &egrave; necessario che una connessione selezionata dal pool debba essere abbinata dal Resource Adapter. Questa opzione &egrave; disabilitata per impostazione predefinita.</p>
</li>
<li>
<p>Nel campo Utilizzo max connessioni digitare il numero di volte in cui una connessione deve essere riutilizzata dal pool.</p>
<p>Dopo essere stata riutilizzata per il numero di volte specificato, la connessione viene chiusa. Limitando il numero di volte in cui una connessione pu&ograve; essere riutilizzata, &egrave; possibile evitare perdite di istruzioni nel caso in cui un'applicazione non chiuda le istruzioni. Impostare il valore su 0 per disabilitare l'attributo. Il valore predefinito &egrave; 0.</p>
</li>
<li>
<p>Selezionare la casella di controllo Obbligatorio dell'opzione Convalida della connessione per abilitare la convalida della connessione.</p>
<p>La convalida della connessione consente al server di ristabilire la connessione in caso di errore.</p>
</li>
<li>
<p>Nell'elenco a discesa Metodo di convalida selezionare un metodo di convalida.</p>
<p>GlassFish Server &egrave; in grado di convalidare le connessioni al database nei modi riportati di seguito.</p>
<dl>
<dt><code>auto-commit</code> e <code>metadata</code></dt>
<dd>
<p>GlassFish Server convalida una connessione richiamando i metodi <code>con.getAutoCommit</code> e <code>con.getMetaData</code>.</p>

<hr>
<p><b>Nota:</b></p>
Molti driver JDBC memorizzano i risultati di queste chiamate nella cache. Di conseguenza &egrave; possibile che l'utilizzo delle chiamate non fornisca sempre convalide affidabili. Verificare con il fornitore del driver se le chiamate vengono inserite o meno nella cache.
<hr>

</dd>
<dt><code>custom-validation</code></dt>
<dd>
<p>GlassFish Server utilizza un meccanismo di convalida definito dall'utente, specificato dalla classe di implementazione personalizzata nel campo Nome classe di convalida.</p>
</dd>
<dt><code>table</code></dt>
<dd>
<p>L'applicazione esegue le query sulla tabella di database specificata. La tabella deve esistere ed essere accessibile, ma non richiede righe. Non utilizzare una tabella esistente con un numero elevato di righe o una tabella a cui si accede di frequente.</p>
</dd>
</dl>
</li>
<li>
<p>Se nell'elenco a discesa Metodo di convalida &egrave; stata selezionata l'opzione <code>table</code>, digitare il nome della tabella del database o selezionarlo nell'elenco a discesa Nome tabella.</p>
</li>
<li>
<p>Se nell'elenco a discesa Metodo di convalida &egrave; stata selezionata l'opzione <code>custom-validation</code>, digitare il nome della classe di implementazione di convalida personalizzata o selezionarlo nell'elenco a discesa Nome classe di convalida.</p>
<p>Il nome classe fornito deve risultare accessibile per GlassFish Server. La classe specificata deve implementare l'interfaccia <code>org.glassfish.api.jdbc.ConnectionValidation</code>.</p>
</li>
<li>
<p>Selezionare la casella di controllo In caso di qualsiasi errore: Chiudi tutte le connessioni per far s&igrave; che il server chiuda e ripristini tutte le connessioni del pool nel caso di un errore relativo a una singola connessione.</p>
<p>Se l'opzione &egrave; disabilitata, le singole connessioni vengono ristabilite solo quando vengono utilizzate. Questa opzione &egrave; disabilitata per impostazione predefinita.</p>
</li>
<li>
<p>Selezionare la casella di controllo Abilitato dell'opzione Consenti chiamanti non componenti per far s&igrave; che il pool possa essere utilizzato da chiamanti diversi dai componenti, quali filtri servlet e Persistence Manager di terze parti.</p>
<p>Le connessioni ottenute dai chiamanti non componenti non vengono chiuse in modo automatico dal contenitore al termine di una transazione. Devono essere chiuse in modo esplicito dal chiamante. Questa opzione &egrave; disabilitata per impostazione predefinita.</p>
</li>
<li>
<p>Fare clic sul pulsante Flush della scheda Generale per eseguire il flush di tutte le connessioni dal pool.</p>
<p>Quando si fa clic sul pulsante Flush, vengono eliminate le connessioni esistenti, ricreate le connessioni stabilite per il pool e ripristinate le dimensioni iniziale e minima del pool.</p>
</li>
<li>
<p>Fare clic su Salva.</p>

<hr>
<p><b>Suggerimento:</b></p>
Per ripristinare le impostazioni predefinite, fare clic sul pulsante Carica impostazioni predefinite, quindi su Salva.
<hr>

</li>
</ol>
<a id="sthref20" name="sthref20"></a>
<h5>Vedere anche</h5>
<ul>
<li>
<p><a href="task-setdbaccess.html">Per impostare l'accesso al database</a></p>
</li>
<li>
<p><a href="task-integratejdbcdriver.html">Per integrare un driver JDBC</a></p>
</li>
<li>
<p><a href="task-jdbcresourcenew.html">Per creare una risorsa JDBC</a></p>
</li>
<li>
<p><a href="task-jdbcresourcesedit.html">Per modificare una risorsa JDBC</a></p>
</li>
<li>
<p><a href="task-jdbcresourcetargets.html">Per modificare le destinazioni di una risorsa JDBC</a></p>
</li>
<li>
<p><a href="task-jdbcresourcesdelete.html">Per eliminare una risorsa JDBC</a></p>
</li>
<li>
<p><a href="task-jdbcconnectionpoolnew.html">Per creare un connection pool JDBC</a></p>
</li>
<li>
<p><a href="task-jdbcconnectionpooledit.html">Per modificare le impostazioni generali del connection pool JDBC</a></p>
</li>
<li>
<p><a href="task-verifyconnpoolsettings.html">Per verificare le impostazioni del connection pool</a></p>
</li>
<li>
<p><a href="task-jdbcconnectionpoolproperty.html">Per modificare le propriet&agrave; del connection pool JDBC</a></p>
</li>
<li>
<p><a href="task-jdbcconnectionpooldelete.html">Per eliminare un connection pool JDBC</a></p>
</li>
</ul>


<small>Copyright &#169; 2005, 2013, Oracle and/or its affiliates. All rights reserved. <a href="docinfo.html">Legal Notices</a></small>
