
Administration Commands                   create-http-listener(1)

NAME
     create-http-listener - adds a new HTTP listener socket

SYNOPSIS
     create-http-listener
     [--terse={true|false}][ --echo={true|false} ]
     [ --interactive={true|false} ] [ --host  host]
     [--port port] [--secure| -s ] [ --user  admin_user]
     [--passwordfile filename] [--help]
      --listeneraddress  address --listenerport listener_port
     --defaultvs virtual_server [--servername server_name]
     [--acceptorthreads acceptor-threads] [--xpowered={true|false}]
     [ --redirectport  redirect_port] [--securityenabled={true|false}]
     [ --enabled ={true|false}] [ --target  server] listener_id

DESCRIPTION
     The create-http-listener command creates an  HTTP  listener.
     This command is supported in remote mode only.

     Note -

       If  you  edit  the  special  HTTP  listener  named  admin-
       listener,  you  must restart the server for the changes to
       take effect. The Administration Console does not tell  you
       that a restart is required in this case.

OPTIONS
     -t --terse

         Indicates that any output data  must  be  very  concise,
         typically avoiding human-friendly sentences and favoring
         well-formatted data for consumption by a script. Default
         is false.

     -e --echo
         If set to true, the command-line statement is echoed  on
         the standard output. Default is false.

     -I --interactive

         If set to true (default),  only  the  required  password
         options are prompted.

     -H --host
         The machine name where the domain administration  server
         is running. The default value is localhost.

Java EE 6            Last change: 2 Sep 2008                    1

Administration Commands                   create-http-listener(1)

     -p --port

         The HTTP port or HTTPS  port  for  administration.  This
         port is the port in the URL that you specify in your web
         browser   to   manage   the   domain,    for    example,
         http://localhost:4848.

         The default port number for administration is 4848.

     -s --secure
         If set to true, uses SSL/TLS  to  communicate  with  the
         domain administration server.

         The default is false.

     -u --user

         The user name of the authorized administrative  user  of
         the domain administration server.

         If you have authenticated to a domain by using the asad-
         min  login  command,  you  need  not  specify the --user
         option for subsequent operations on the domain.

     --passwordfile
         Specifies the name, including the full path, of  a  file
         that contains the password entries in a specific format.

         The entry for a password must have the AS_ADMIN_  prefix
         followed  by the password name in uppercase letters. For
         example, to specify the password for the domain adminis-
         tration server, use an entry with the following format:

           AS_ADMIN_PASSWORD=password

         In this example, password is  the  actual  administrator
         password.

         The following other passwords can also be specified:

             o    AS_ADMIN_MAPPEDPASSWORD

             o    AS_ADMIN_USERPASSWORD

             o    AS_ADMIN_ALIASPASSWORD
         All remote  commands  must  specify  the  administration
         password  to  authenticate  to the domain administration
         server. The password can be specified by one of the fol-
         lowing means:

Java EE 6            Last change: 2 Sep 2008                    2

Administration Commands                   create-http-listener(1)

             o    Through the --passwordfile option

             o    Through the asadmin login command

             o    Interactively at the command prompt
         The asadmin login command can be used  only  to  specify
         the  administration  password.  For other passwords that
         remote commands require, use the  --passwordfile  option
         or specify them at the command prompt.

         After authenticating to a domain by  using  the  asadmin
         login  command,  you need not specify the administration
         password through the --passwordfile  option  for  subse-
         quent  operations  on  the  domain.  However,  only  the
         AS_ADMIN_PASSWORD option is not required. You still must
         provide    the    other    passwords,    for    example,
         AS_ADMIN_USERPASSWORD, when required by individual  com-
         mands, such as update-file-user.

         For security reasons, a password that is specified as an
         environment variable is not read by the asadmin command.

         The  default  value   for   AS_ADMIN_MASTERPASSWORD   is
         changeit.

     --help

         Displays the help text for the command.

     --listeneraddress
         The IP address or the hostname (resolvable by DNS).

     --listenerport

         The port number to create the listen  socket  on.  Legal
         values  are  1-65535.  On  UNIX,  creating  sockets that
         listen on ports 1-1024  requires  superuser  privileges.
         Configuring  an  SSL listen socket to listen on port 443
         is recommended.

     --defaultvs
         The ID attribute of the default virtual server for  this
         listener.

     --servername

         Tells the server what to put in the host name section of
         any  URLs  it sends to the client. This affects URLs the

Java EE 6            Last change: 2 Sep 2008                    3

Administration Commands                   create-http-listener(1)

         server automatically generates; it  doesn't  affect  the
         URLs  for  directories  and  files stored in the server.
         This name should be the alias name if your  server  uses
         an  alias. If a colon and port number are appended, that
         port will be used in URLs that the server sends  to  the
         client.

     --acceptorthreads

         The number of acceptor threads for the listener  socket.
         The recommended value is the number of processors in the
         machine. The default value is 1.

     --xpowered
         If set to true, adds the X-Powered-By:  Servlet/2.4  and
         X-Powered-By:   JSP/2.0   headers   to  the  appropriate
         responses. The Servlet 2.4 specification defines the  X-
         Powered-By: Servlet/2.4 header, which containers may add
         to servlet-generated responses. Similarly, the  JSP  2.0
         specification  defines the X-Powered-By: JSP/2.0 header,
         which containers may add to responses that use JSP tech-
         nology.   The goal of these headers is to aid in gather-
         ing statistical data  about the use of Servlet  and  JSP
         technology.

     --redirectport

         This option is valid only in domains that are configured
         to  support  clusters,  such as domains that are created
         with the cluster profile or the enterprise profile. Port
         number for redirects. If the HTTP listener is supporting
         non-SSL requests, and a request is received for which  a
         matching security-constraint requires SSL transport, the
         Application  Server  will  automatically  redirect   the
         request to this port number.

     --securityenabled
         If set to true, the HTTP listener runs SSL. You can turn
         SSL2 or SSL3 ON or OFF and set ciphers using an SSL ele-
         ment. The security setting globally enables or  disables
         SSL  by  making  certificates  available  to  the server
         instance. The default value is false.

     --enabled

         If set to true, the listener is enabled at runtime.

Java EE 6            Last change: 2 Sep 2008                    4

Administration Commands                   create-http-listener(1)

     --target

         Do not specify this option. This option is retained  for
         compatibility  with  other releases. If you specify this
         option, a syntax error does not occur. Instead, the com-
         mand  runs  successfully  and  the  option  is  silently
         ignored.

OPERANDS
     listener_id                 The  listener  ID  of  the  HTTP
                                 listener.

EXAMPLES
     Example 1 Using the create-http-listener command

     The following command creates an HTTP  listener  named  sam-
     pleListener  that  uses  a  nondefault  number  of  acceptor
     threads and is not enabled at runtime:

       asadmin> create-http-listener --user admin1
       --passwordfile passwords.txt --host host1 --port 4848
       --listeneraddress 0.0.0.0 --listenerport 7272
       --defaultvs server --servername host1.sun.com
       --acceptorthreads 100 --securityenabled=false
       --enabled=false sampleListener
       Command create-http-listener executed successfully.

EXIT STATUS
     0                           command executed successfully

     1                           error in executing the command

SEE ALSO
     delete-http-listener(1),   list-http-listeners(1),   create-
     virtual-server(1), create-ssl(1)

Java EE 6            Last change: 2 Sep 2008                    5

