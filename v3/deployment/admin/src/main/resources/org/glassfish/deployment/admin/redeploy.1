
Administration Commands                               redeploy(1)

NAME
     redeploy - redeploys the specified application

SYNOPSIS
     redeploy
     [--terse={true|false}][ --echo={true|false} ]
     [ --interactive={true|false} ] [ --host  host]
     [--port port] [--secure| -s ] [ --user  admin_user]
     [--passwordfile filename] [--help]
      --name  component-name
     [--contextroot context-root]
     [--precompilejsp={true|false}]
     [ --virtualservers  virtual-servers]
     [--properties(name=value)[:name=value]*][archive-path]

DESCRIPTION
     The  redeploy  command  redeploys  an  application  that  is
     already  deployed.  The  redeploy command preserves the set-
     tings and other options with which the application was  ori-
     ginally  deployed. The application must already be deployed.
     Otherwise, an error occurs.

     This command is supported in remote mode only.

OPTIONS
     -t --terse

         Indicates that any output data  must  be  very  concise,
         typically avoiding human-friendly sentences and favoring
         well-formatted data for consumption by a script. Default
         is false.

     -e --echo
         If set to true, the command-line statement is echoed  on
         the standard output. Default is false.

     -I --interactive

         If set to true (default),  only  the  required  password
         options are prompted.

     -H --host
         The machine name where the domain administration  server
         is running. The default value is localhost.

Java EE 6           Last change: 30 Sep 2008                    1

Administration Commands                               redeploy(1)

     -p --port

         The HTTP port or HTTPS  port  for  administration.  This
         port is the port in the URL that you specify in your web
         browser   to   manage   the   domain,    for    example,
         http://localhost:4848.

         The default port number for administration is 4848.

     -s --secure
         If set to true, uses SSL/TLS  to  communicate  with  the
         domain administration server.

         The default is false.

     -u --user

         The user name of the authorized administrative  user  of
         the domain administration server.

         If you have authenticated to a domain by using the asad-
         min  login  command,  you  need  not  specify the --user
         option for subsequent operations on the domain.

     --passwordfile
         Specifies the name, including the full path, of  a  file
         that contains the password entries in a specific format.

         The entry for a password must have the AS_ADMIN_  prefix
         followed  by the password name in uppercase letters. For
         example, to specify the password for the domain adminis-
         tration server, use an entry with the following format:

           AS_ADMIN_PASSWORD=password

         In this example, password is  the  actual  administrator
         password.

         The following other passwords can also be specified:

             o    AS_ADMIN_MAPPEDPASSWORD

             o    AS_ADMIN_USERPASSWORD

             o    AS_ADMIN_ALIASPASSWORD
         All remote  commands  must  specify  the  administration
         password  to  authenticate  to the domain administration
         server. The password can be specified by one of the fol-
         lowing means:

Java EE 6           Last change: 30 Sep 2008                    2

Administration Commands                               redeploy(1)

             o    Through the --passwordfile option

             o    Through the asadmin login command

             o    Interactively at the command prompt
         The asadmin login command can be used  only  to  specify
         the  administration  password.  For other passwords that
         remote commands require, use the  --passwordfile  option
         or specify them at the command prompt.

         After authenticating to a domain by  using  the  asadmin
         login  command,  you need not specify the administration
         password through the --passwordfile  option  for  subse-
         quent  operations  on  the  domain.  However,  only  the
         AS_ADMIN_PASSWORD option is not required. You still must
         provide    the    other    passwords,    for    example,
         AS_ADMIN_USERPASSWORD, when required by individual  com-
         mands, such as update-file-user.

         For security reasons, a password that is specified as an
         environment variable is not read by the asadmin command.

         The  default  value   for   AS_ADMIN_MASTERPASSWORD   is
         changeit.

     --help

         Displays the help text for the command.

     --name
         The name of the  application that is  being  redeployed.
         This  option must specify an application that has previ-
         ously been deployed. If the application does not  exist,
         an error occurs.

     --contextroot

         The context root of the application that is being  rede-
         ployed.  The  context root identifies the application in
         the server. The default is the name, without the  exten-
         sion, of the archive file that contains the application.

     --precompilejsp
         Specifies  whether  pages  that  are  created  with  the
         JavaServer   PagesTM   technology  ("JSPTM  pages")  are
         precomplied  during deployment. Possible values  are  as
         follows:

Java EE 6           Last change: 30 Sep 2008                    3

Administration Commands                               redeploy(1)

         false

             JSP pages are not precompiled during deployment, but
             are complied at runtime (default).

         true
             JSP pages are precompiled during deployment.

     --virtualservers

         One  or  more  virtual  server  IDs.  Multiple  IDs  are
         separated by commas.

     --properties
         Optional keyword-value  pairs  that  specify  additional
         properties  for  the redeployment. The following proper-
         ties are available:

         keepSessions={false|true}

             Specifies whether active sessions of the application
             that  is  being  redeployed  are  preserved and then
             restored when the redeployment is complete. Possible
             values are as follows:

             false
                 Active  sessions  of  the  application  are  not
                 preserved and restored (default).

             true

                 Active sessions of the application are preserved
                 and restored.

                 If any active session of the  application  fails
                 to  be  preserved  or restored, none of the ses-
                 sions will be available when the redeployment is
                 complete.  However,  the  redeployment continues
                 and a warning is logged.

                 To  preserve  active  sessions,  the  Enterprise
                 Server serializes the sessions and saves them in
                 memory.  To  restore  the  sessions,  the  class
                 loader   of  the  newly  redeployed  application
                 deserializes any sessions that  were  previously
                 saved.

Java EE 6           Last change: 30 Sep 2008                    4

Administration Commands                               redeploy(1)

OPERANDS
     archive-path

         The path to the archive that  contains  the  application
         that  is  being  redeployed. This path can be a relative
         path or an absolute path.

         The archive can be in either of the following formats:

             o    An     archive     file,      for      example,
                  /export/JEE_apps/hello.war

             o    A directory that contains the  exploded  format
                  of the deployable archive
         Whether this operand is  required  depends  on  how  the
         application was originally deployed:

             o    If the application was originally deployed from
                  a  file,  the archive-path operand is required.
                  The operand must specify an archive file.

             o    If the application was originally deployed from
                  a   directory,   the  archive-path  operand  is
                  optional.

                  If  this  operand  is  omitted,  the  path   is
                  retrieved  from the domain.xml file. Otherwise,
                  the operand  can  specify  a  directory  or  an
                  archive file.

EXAMPLES
     Example 1 Redeploying a Web Application From a File

     This example redeploys the web application  hello  from  the
     hello.war  file in the current working directory. The appli-
     cation was originally deployed from a file. Active  sessions
     of  the  application  are  to be preserved and then restored
     when the redeployment is complete.

       asadmin> redeploy --user admin --passwordfile myfile --name hello
       --properties keepSessions=true hello.war
       Command redeploy executed successfully

     Example 2 Redeploying a Web Application From a Directory

Java EE 6           Last change: 30 Sep 2008                    5

Administration Commands                               redeploy(1)

     This example redeploys the  web  application  hellodir.  The
     application  was  originally  deployed from a directory. The
     path is retrieved from the domain.xml file.

       asadmin> redeploy --user admin --passwordfile myfile --name hellodir
       Command redeploy executed successfully

EXIT STATUS
     0                           command executed successfully

     1                           error in executing the command

SEE ALSO
     deploy(1), undeploy(1), list-components(1)

Java EE 6           Last change: 30 Sep 2008                    6

