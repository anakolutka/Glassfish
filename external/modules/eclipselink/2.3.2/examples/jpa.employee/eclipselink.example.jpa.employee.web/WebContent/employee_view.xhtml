<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core">

<ui:composition template="/templates/header.jsf">
	<ui:define name="title">View Employee</ui:define>

	<ui:define name="body">
		<h:form rendered="#{employeeView.employee != null}">
			<table width="100%" cellpadding="10">
				<tr bgcolor="#CCCCFF" valign="middle">

					<td colspan="3" align="right">
					
						<h:commandButton action="employee_edit" value="Edit" style="pretty">
							<f:param name="employeeId" value="#{employeeView.employee.idString}" />
						</h:commandButton> 
						&nbsp;
						<h:commandButton value="Delete" action="employee_delete" style="pretty">
							<f:param name="employeeId" value="#{employeeView.employee.idString}" />
						</h:commandButton>
					</td>
				</tr>
				<tr>
					<td valign="top" width="33%" align="left"><h:panelGrid
							columns="2" width="100%" class="pretty">
							<f:facet name="header">Basic Info</f:facet>
							<h:outputText value="Company" />
							<h:outputText value="#{employeeView.employee.company}" />
							<h:outputText value="ID" />
							<h:outputText value="#{employeeView.employee.id}" />
							<h:outputText value="First Name" />
							<h:outputText value="#{employeeView.employee.firstName}" />
							<h:outputText value="Last Name" />
							<h:outputText value="#{employeeView.employee.lastName}" />
							<h:outputText value="Gender" />
							<h:outputText value="#{employeeView.employee.gender}" />
							<h:outputText value="Salary" />
							<h:outputText value="#{employeeView.employee.salary}">
								<f:convertNumber type="currency" />
							</h:outputText>
							<h:outputText value="Start Date" />
							<h:outputText value="#{employeeView.employee.period.startDate}">
								<f:convertDateTime type="date" dateStyle="medium" />
							</h:outputText>
							<h:outputText value="End Date" />
							<h:outputText value="#{employeeView.employee.period.endDate}">
								<f:convertDateTime type="date" dateStyle="medium" />
							</h:outputText>
							<h:outputText value="Version" />
							<h:outputText value="#{employeeView.employee.version}" />
						</h:panelGrid>
					</td>
					<td valign="top" width="33%" align="left"><h:panelGrid
							columns="2" width="100%" class="pretty"
							rendered="#{employeeView.employee.address != null}">
							<f:facet name="header">Address</f:facet>
							<h:outputText value="Street" style="blah" />
							<h:outputText value="#{employeeView.employee.address.street}" />
							<h:outputText value="City" />
							<h:outputText value="#{employeeView.employee.address.city}" />
							<h:outputText value="Province/State" />
							<h:outputText value="#{employeeView.employee.address.province}" />
							<h:outputText value="Country" />
							<h:outputText value="#{employeeView.employee.address.country}" />
							<h:outputText value="Postal Code" />
							<h:outputText value="#{employeeView.employee.address.postalCode}" />
						</h:panelGrid>
					</td>
					<td valign="top" width="33%" align="left"><h:dataTable
							var="phone" value="#{employeeView.employee.phoneNumbers}"
							width="100%" class="pretty"
							rendered="#{! empty employeeView.employee.phoneNumbers}">
							<f:facet name="header">Phone Numbers</f:facet>
							<h:column>
								<f:facet name="header">
									<h:outputText value="Type"></h:outputText>
								</f:facet>
								<h:outputText value="#{phone.type}"></h:outputText>
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputText value="Code"></h:outputText>
								</f:facet>
								<h:outputText value="#{phone.areaCode}"></h:outputText>
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputText value="Number"></h:outputText>
								</f:facet>
								<h:outputText value="#{phone.number}"></h:outputText>
							</h:column>
						</h:dataTable> <h:dataTable var="phone"
							value="#{employeeView.employee.phoneNumbers}" width="100%"
							class="pretty"
							rendered="#{empty employeeView.employee.phoneNumbers}">
							<f:facet name="header">No Phone Numbers</f:facet>
						</h:dataTable>
					</td>
				</tr>
				<tr>
					<td valign="top" width="33%" align="left"><h:dataTable
							var="attr" value="#{employeeView.employee.attributes}"
							class="pretty" width="100%"
							rendered="#{empty employeeView.employee.attributes}">
							<f:facet name="header">Attributes: None</f:facet>
						</h:dataTable>
					</td>


					<td valign="top" width="33%" align="left"><h:panelGrid
							columns="1" class="pretty" width="100%"
							rendered="#{employeeView.employee.manager != null}">
							<f:facet name="header">Manager</f:facet>
							<h:commandLink action="employee_view"
								value="#{employeeView.employee.manager.lastName}, #{employeeView.employee.manager.firstName} - (#{employeeView.employee.manager.id})"
								rendered="#{employeeView.employee.manager != null}">
								<f:param name="employeeId"
									value="#{employeeView.employee.manager.id}" />
							</h:commandLink>
						</h:panelGrid> <h:panelGrid columns="1" class="pretty" width="100%"
							rendered="#{employeeView.employee.manager == null}">
							<f:facet name="header">No Manager</f:facet>
						</h:panelGrid> <br /> <h:dataTable var="emp"
							value="#{employeeView.employee.managedEmployees}" class="pretty"
							width="100%"
							rendered="#{! empty employeeView.employee.managedEmployees}">
							<h:column>
								<f:facet name="header">
						Managed Employees
						</f:facet>
								<h:commandLink action="employee_view"
									value="#{emp.lastName}, #{emp.firstName} - (#{emp.id})">
									<f:param name="employeeId" value="#{emp.id}" />
								</h:commandLink>
							</h:column>
						</h:dataTable>
					</td>
					<td valign="top" width="33%" align="left"><h:dataTable
							var="member" value="#{employeeView.employee.projects}"
							class="pretty" width="100%"
							rendered="#{! empty employeeView.employee.projects}">
							<f:facet name="header">Projects</f:facet>
							<h:column>
								<f:facet name="header">
									<h:outputText value="Id" />
								</f:facet>
								<h:outputText value="#{member.project.id}" />
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputText value="Name" />
								</f:facet>
								<h:outputText value="#{member.project.name}" />
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputText value="Type" />
								</f:facet>
								<h:outputText value="#{member.project.type}" />
							</h:column>
							<h:column>
								<f:facet name="header">
									<h:outputText value="Lead" />
								</f:facet>
								<h:outputText value="N" />
							</h:column>
						</h:dataTable> <h:dataTable var="proj" value="#{employeeView.employee.projects}"
							class="pretty" width="100%"
							rendered="#{empty employeeView.employee.projects}">
							<f:facet name="header">Projects: None</f:facet>
						</h:dataTable>
					</td>
				</tr>
			</table>
		</h:form>

		<h:form rendered="#{employeeView.employee == null}">
			<table width="100%">
				<tr>
					<td valign="middle" align="center" height="400">
						<h3>No Employee to view</h3></td>
				</tr>
			</table>
		</h:form>

	</ui:define>

</ui:composition>
</html>