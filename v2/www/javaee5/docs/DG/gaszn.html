<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html><!-- GenHTML@12751-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<!-- ident	"%Z%%M%	%I%	%E% SMI" -->

    <title>6.&nbsp;&nbsp;Developing Web Services
    </title>
</head>
<body>
<font style="color: red; font-family:arial,helvetica,sans-serif; font-size:12pt; font-weight:bold}">Not For Publication</font>&nbsp;&nbsp;&nbsp;<br>Glassfish Review Draft<br> </td>

<A href="toc.html">Sun Java System Application Server Platform Edition 9.0 Developer's Guide</A>&nbsp;<br>
<A HREF="beabg.html">Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="beafs.html">Next</A><br>
            <!--startindex--><A NAME="gaszn"></A><b>Chapter&nbsp;6</b><h1>Developing Web Services</h1>
<A NAME="indexterm-260"></A><p>This chapter describes Application Server support for web services. Java&#153; API
for XML-Based Web Services (JAX-WS) version 2.0 is supported. Java&#153; API
for XML-Based Remote Procedure Calls (JAX-RPC) version 1.1 is supported for
backward compatibility. This chapter contains the following sections:</p>
<ul><li><p><A HREF="gaszn.html#gbizi">Creating Portable Web Service Artifacts</A></p>
</li>
<li><p><A HREF="gaszn.html#gbixz">Deploying a Web Service</A></p>
</li>
<li><p><A HREF="gaszn.html#gbixj">Web Services Registry</A></p>
</li>
<li><p><A HREF="gaszn.html#gbiyw">The Web Service URI, WSDL File, and Test Page</A></p>
</li>
</ul>
<p><A NAME="indexterm-261"></A><A NAME="indexterm-262"></A><A NAME="indexterm-263"></A>The chapter on web services in the <A HREF="http://java.sun.com/j2ee/1.4/docs/tutorial/doc/index.html">Java EE 5 Tutorial</A> shows how to deploy simple web
services to the Application Server. The chapter on registries explains how to set
up a registry and create clients that access the registry.</p>
<p>For additional information about JAX-WS and web services, see <A HREF="http://jcp.org/aboutJava/communityprocess/pfd/jsr224/index.html">Java Specification Request (JSR) 224</A> and <A HREF="http://jcp.org/en/jsr/detail?id=109">JSR 109</A>.</p>
<p>For information about web services security, see <A HREF="beabg.html#beaca">Configuring Message Security</A>.</p>
<p>For information about web services administration, monitoring, logging,
and registries, see the <A HREF="http://docs.sun.com/app/docs/doc/819-3658"><i>Sun Java System Application Server Platform Edition 9.0 Administration Guide</i></A>.</p>
<p>The Fast Infoset standard specifies a binary format based on the XML
Information Set. This format is an efficient alternative to XML. For information
about using Fast Infoset, see the following links:</p>
<ul><li><p><A HREF="http://java.sun.com/webservices/docs/1.6/ReleaseNotes.html">Java Web Services Developer Pack 1.6 Release Notes</A></p>
</li>
<li><p><A HREF="http://java.sun.com/webservices/docs/1.6/jaxrpc/fastinfoset/manual.html">Fast Infoset in Java Web Services Developer Pack, Version
1.6</A></p>
</li>
<li><p><A HREF="http://fi.dev.java.net">Fast Infoset
Project</A></p>
</li>
</ul>
<A NAME="gbizi"></A><h2>Creating Portable Web Service Artifacts</h2>
<A NAME="indexterm-264"></A><p>For a tutorial that shows how to use the <tt>wsimport</tt> and <tt>wsgen</tt> commands, see the chapter on web services in the <A HREF="http://java.sun.com/j2ee/1.4/docs/tutorial/doc/index.html">Java EE 5 Tutorial</A>. For reference information on these
commands, see the <A HREF="http://docs.sun.com/app/docs/doc/819-3662"><i>Sun Java System Application Server Platform Edition 9.0 2006Q1 Reference Manual</i></A>.</p>
<A NAME="gbixz"></A><h2>Deploying a Web Service</h2>
<A NAME="indexterm-265"></A><A NAME="indexterm-266"></A><p>You deploy a web service endpoint to the Application Server just as you would
any servlet, stateless session bean (SLSB), or application. You can use the <tt>--registryjndiname</tt> option of the <tt>asadmin deploy</tt> command
to publish the web service as part of deployment, but this is optional. For
more information about publishing a web service, see <A HREF="gaszn.html#gbixj">Web Services Registry</A>.</p>
<p>To deploy a JSR 181 annotated file, use the autodeployment feature.
You can compile and deploy in one step, as in the following example:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>javac -cp javaee.jar -d <i>domain-dir</i>/autodeploy MyWS.java</pre>
</td></table><br><p>For more information about JSR 181, see <A HREF="http://jcp.org/en/jsr/detail?id=181">http://jcp.org/en/jsr/detail?id=181</A>.</p>
<p>The Sun-specific deployment descriptor files <tt>sun-web.xml</tt> and <tt>sun-ejb-jar.xml</tt> provide optional web service enhancements in their <tt>webservice-endpoint</tt> and <tt>webservice-description</tt> elements,
including a <tt>debugging-enabled</tt> subelement that enables the
creation of a test page. The test page feature is enabled by default and described
in <A HREF="gaszn.html#gbiyw">The Web Service URI, WSDL File, and Test Page</A>.<A NAME="indexterm-267"></A></p>
<p>For more information about deployment, autodeployment, and deployment
descriptors, see the <A HREF="http://docs.sun.com/app/docs/doc/819-3660"><i>Sun Java System Application Server Platform Edition 9.0 Application Deployment Guide</i></A>. For more information about the <tt>asadmin deploy</tt> command, see the <A HREF="http://docs.sun.com/app/docs/doc/819-3662"><i>Sun Java System Application Server Platform Edition 9.0 2006Q1 Reference Manual</i></A>.</p>
<A NAME="gbixj"></A><h2>Web Services Registry</h2>
<A NAME="indexterm-268"></A><p>You can configure a registry in one of the following ways:</p>
<ul><li><p>In the Admin Console, open the Web Services component, and
select the Registry tab. For details, see the <A HREF="http://docs.sun.com/app/docs/doc/819-3658"><i>Sun Java System Application Server Platform Edition 9.0 Administration Guide</i></A>.</p>
</li>
<li><p>A registry is configured in the Application Server as a type of
connector. To configure a registry using the command line, see <A HREF="bealk.html#bealo">Deploying and Configuring a Stand-Alone Connector Module</A>.</p>
</li>
</ul>
<p>After you deploy a web service, you can publish it to a registry in
one of the following ways:</p>
<ul><li><p>In the Admin Console, open the Web Services component, select
the web service in the listing on the General tab, and select the Publish
tab. For details, see the <A HREF="http://docs.sun.com/app/docs/doc/819-3658"><i>Sun Java System Application Server Platform Edition 9.0 Administration Guide</i></A>.</p>
</li>
<li><p><A NAME="indexterm-269"></A>Use the <tt>asadmin publish-to-registry</tt> command.
For details, see the <A HREF="http://docs.sun.com/app/docs/doc/819-3662"><i>Sun Java System Application Server Platform Edition 9.0 2006Q1 Reference Manual</i></A>.</p>
</li>
</ul>
<p>The Sun Java&#153; Enterprise System (Java&nbsp;ES) includes a Sun-specific ebXML
registry. For more information about the Java&nbsp;ES registry and registries
in general, see the chapter on registries in the <A HREF="http://java.sun.com/j2ee/1.4/docs/tutorial/doc/index.html">Java EE 5 Tutorial</A>.</p>
<p>A connector module that accesses UDDI registries is provided with the Application Server in
the <i>install-dir</i><tt>/lib/install/applications/jaxr-ra</tt> directory.</p>
<p>You can also use the JWSDP registry available at <A HREF="http://java.sun.com/webservices/jwsdp/index.jsp">http://java.sun.com/webservices/jwsdp/index.jsp</A>.</p>
<A NAME="gbiyw"></A><h2>The Web Service URI, WSDL File, and Test Page</h2>
<A NAME="indexterm-270"></A><A NAME="indexterm-271"></A><A NAME="indexterm-272"></A><p>Clients can run a deployed web service by accessing its service endpoint
address URI, which has the following format:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>http://<i>host</i>:<i>port</i>/<i>context-root</i>/<i>servlet-mapping-url-pattern</i></pre>
</td></table><br><p>The <i>context-root</i> is defined in the <tt>application.xml</tt> or <tt>web.xml</tt> file, and can be overridden
in the <tt>sun-application.xml</tt> or <tt>sun-web.xml</tt> file.
The <i>servlet-mapping-url-pattern</i> is defined in the <tt>web.xml</tt> file.</p>
<p>In the following example, the <i>context-root</i> is <tt>my-ws</tt> and the <i>servlet-mapping-url-pattern</i> is <tt>/simple</tt>:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>http://localhost:8080/my-ws/simple</pre>
</td></table><br><p>You can view the WSDL file of the deployed service in a browser by adding <tt>?WSDL</tt> to the end of the URI. For example:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>http://localhost:8080/my-ws/simple?WSDL</pre>
</td></table><br><p><A NAME="indexterm-273"></A>For debugging, you can run a test page for the deployed service
in a browser by adding <tt>?Tester</tt> to the end of the URL. For
example:</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre>http://localhost:8080/my-ws/simple?Tester</pre>
</td></table><br><p>You can also test a service using the Admin Console. Open the Web Services
component, select the web service in the listing on the General tab, and select
Test. For details, see the <A HREF="http://docs.sun.com/app/docs/doc/819-3658"><i>Sun Java System Application Server Platform Edition 9.0 Administration Guide</i></A>.</p>
<p><hr size="1" noshade><p><b>Note - </b>The test page works only for WS-I compliant web services. This
means that the tester servlet does not work for services with WSDL files that
use RPC/encoded binding.</p>
<hr size="1" noshade></p><p>Generation of the test page is enabled by default. You can disable the
test page for a web service by setting the value of the <tt>debugging-enabled</tt> element in the <tt>sun-web.xml</tt> and <tt>sun-ejb-jar.xml</tt> deployment descriptor to <tt>false</tt>. For more information,
see the <A HREF="http://docs.sun.com/app/docs/doc/819-3660"><i>Sun Java System Application Server Platform Edition 9.0 Application Deployment Guide</i></A>.</p>

            <!--stopindex-->
<br>
<A HREF="beabg.html">Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="beafs.html">Next</A>
</body>
</html>
