User Commands                             create-http-listener(1)

NAME
     create-http-listener - adds a new HTTP listener socket

SYNOPSIS
     create-http-listener  [--terse=false]   [--echo=false]   [--
     interactive=true]   [--host  localhost]  [--port  4848]  [--
     secure|-s] [--user admin_user] [--passwordfile filename]  [-
     -help]      --listeneraddress     address     --listenerport
     listener_port   --defaultvs   virtual_server   [--servername
     server_name]  [--acceptorthreads  1]  [--xpowered=true]  [--
     redirectport  redirect_port]  [--securityenabled=false]  [--
     enabled=true] [--target server] listener_id

DESCRIPTION
     The create-http-listener command creates an  HTTP  listener.
     This command is supported in remote mode only.

OPTIONS
     -t --terse              Indicates that any output data  must
                             be  very concise, typically avoiding
                             human-friendly sentences and  favor-
                             ing well-formatted data for consump-
                             tion by a script. Default is false.

     -e --echo               Setting to true will echo  the  com-
                             mand  line statement on the standard
                             output. Default is false.

     -I --interactive        If set to true (default),  only  the
                             required    password   options   are
                             prompted.

     -H --host               The machine name  where  the  domain
                             administration  server  is  running.
                             The default value is localhost.

     -p --port               The HTTP/S port for  administration.
                             This is the port to which you should
                             point  your  browser  in  order   to
                             manage  the  domain.   For  example,
                             http://localhost:4848.

                             The default port number is 4848.

     -s --secure             If set to true, uses SSL/TLS to com-
                             municate with the domain administra-
                             tion server.

     -u --user               The authorized domain administration
                             server administrative username.

                             If  you  have  authenticated  to   a
                             domain  using the asadmin login com-
                             mand, then you need not specify  the
                             --user  option  on subsequent opera-
                             tions to this particular domain.

     --passwordfile          The --passwordfile option  specifies
                             the  name  of  a file containing the
                             password entries in a specific  for-
                             mat. The entry for the password must
                             have the AS_ADMIN_  prefix  followed
                             by  the  password  name in uppercase
                             letters.

                             For example, to specify  the  domain
                             administration  server password, use
                             an entry with the following  format:
                             AS_ADMIN_PASSWORD=password,    where
                             password is the actual administrator
                             password.  Other  passwords that can
                             be         specified         include
                             AS_ADMIN_MAPPEDPASSWORD,
                             AS_ADMIN_USERPASSWORD,           and
                             AS_ADMIN_ALIASPASSWORD.

                             All remote commands must specify the
                             admin  password  to  authenticate to
                             the  domain  administration  server,
                             either   through  --passwordfile  or
                             asadmin login, or  interactively  on
                             the   command  prompt.  The  asadmin
                             login command can be  used  only  to
                             specify   the  admin  password.  For
                             other passwords, that must be speci-
                             fied  for  remote  commands, use the
                             --passwordfile or enter them at  the
                             command prompt.

                             If  you  have  authenticated  to   a
                             domain  using the asadmin login com-
                             mand, then you need not specify  the

                             admin   password   through   the  --
                             passwordfile  option  on  subsequent
                             operations    to   this   particular
                             domain. However, this is  applicable
                             only  to  AS_ADMIN_PASSWORD  option.
                             You will still need to  provide  the
                             other    passwords,   for   example,
                             AS_ADMIN_USERPASSWORD, as  and  when
                             required   by  individual  commands,
                             such as update-file-user.

                             For  security   reasons,   passwords
                             specified as an environment variable
                             will not be read by asadmin.

                             The      default      value      for
                             AS_ADMIN_MASTERPASSWORD is changeit.

     --help                  Displays the help text for the  com-
                             mand.

     --listeneraddress       The  IP  address  or  the   hostname
                             (resolvable by DNS).

     --listenerport          The port number to create the listen
                             socket on. Legal values are 1-65535.
                             On  UNIX,  creating   sockets   that
                             listen   on  ports  1-1024  requires
                             superuser privileges. Configuring an
                             SSL  listen socket to listen on port
                             443 is recommended.

     --defaultvs             The ID attribute of the default vir-
                             tual server for this listener.

     --servername            Tells the server what to put in  the
                             host  name  section  of  any URLs it
                             sends to the  client.  This  affects
                             URLs  the  server automatically gen-
                             erates; it doesn't affect  the  URLs
                             for  directories and files stored in
                             the server.  This name should be the

                             alias  name  if  your server uses an
                             alias. If a colon  and  port  number
                             are appended, that port will be used
                             in URLs that the server sends to the
                             client.

     --acceptorthreads       The number of acceptor  threads  for
                             the  listen  socket. The recommended
                             value is the number of processors in
                             the machine. The default value is 1.

     --xpowered              If set to true, adds the  X-Powered-
                             By:   Servlet/2.4  and X-Powered-By:
                             JSP/2.0 headers to  the  appropriate
                             responses.  The Servlet 2.4 specifi-
                             cation  defines  the   X-Powered-By:
                             Servlet/2.4 header, which containers
                             may   add    to    servlet-generated
                             responses.  Similarly,  the  JSP 2.0
                             specification   defines    the    X-
                             Powered-By:   JSP/2.0  header, which
                             containers may add to responses that
                             use  JSP  technology.   The  goal of
                             these headers is to aid in gathering
                             statistical  data   about the use of
                             Servlet and JSP technology.

     --redirectport          Port number for  redirects.  If  the
                             HTTP  listener is supporting non-SSL
                             requests, and a request is  received
                             for   which   a  matching  security-
                             constraint requires  SSL  transport,
                             the Application Server will automat-
                             ically redirect the request to  this
                             port  number.  This  option is valid
                             for Enterprise Edition only.

     --securityenabled       If set to true,  the  HTTP  listener
                             runs  SSL. You can turn SSL2 or SSL3
                             ON or OFF and set ciphers  using  an
                             SSL  element.  The  security setting
                             globally enables or disables SSL  by
                             making certificates available to the
                             server instance. The  default  value

                             is false.

     --enabled               If set  to  true,  the  listener  is
                             enabled at runtime.

     --target                This option is available only in the
                             Sun  Java  System Application Server
                             Standard  and  Enterprise  Editions.
                             Specifies  the  target for which you
                             are  creating  the  HTTP   listener.
                             Valid values are

                               o  server,   which   creates   the
                                  listener for the default server
                                  instance  server  and  is   the
                                  default value

                               o  configuration_name,       which
                                  creates  the  listener  for the
                                  named configuration

                               o  cluster_name, which creates the
                                  listener   for   every   server
                                  instance in the cluster

                               o  stand-alone_instance_name,
                                  which  creates the listener for
                                  a particular stand-alone server
                                  instance

OPERANDS
     listener_id             The  listener   ID   of   the   HTTP
                             listener.

EXAMPLES
     Example 1: Using the create-http-listener command

     The following command creates an HTTP  listener  named  sam-
     pleListener  that  uses  a  nondefault  number  of  acceptor
     threads and is not enabled at runtime:

     asadmin> create-http-listener --user admin1
     --passwordfile passwords.txt --host host1 --port 4848

     --listeneraddress 0.0.0.0 --listenerport 7272
     --defaultvs server --servername host1.sun.com
     --acceptorthreads 100 --securityenabled=false
     --enabled=false sampleListener
     Command create-http-listener executed successfully.

EXIT STATUS
     0                       command executed successfully

     1                       error in executing the command

SEE ALSO
     delete-http-listener(1),   list-http-listeners(1),   create-
     virtual-server(1), create-ssl(1)
