<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<!--

-->

<head>

  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <!-- ident      "%Z%%M% %I%     %E% SMI" -->

  <title>Modifier les paramètres généraux du pool de connexions JDBC - Aide en ligne de la console d'administration de Sun GlassFish Enterprise Server v3 Prelude
  </title>
  <script language="JavaScript1.2">
    linktag = window.parent.frames[0].document.getElementsByTagName('link');
    for (var i = 0; i < linktag.length; i++) {
        if (linktag[i].rel == "stylesheet") {
            var s = "<link rel=" + linktag[i].rel + " type='text/css' href=" + linktag[i].href + " />";
            document.write(s);
        }
    }
  </script>

</head>

<body class="HlpBdy">



<a name="task-jdbcconnectionpooledit"></a><h4>Modifier les paramètres généraux du pool de connexions JDBC</h4><p>Lors de la modification d'un pool de connexions JDBC, tous les paramètres
peuvent être revus à l'exception du nom du pool.</p><ol>
<li><b>Dans l'arborescence de navigation, développez le nœud Ressources.</b></li>
<li><b>Sélectionnez le nœud Pools de connexions.</b><p>La page Pools de connexions s'ouvre.</p></li>
<li><b>Cliquez sur le nom du pool de connexions que vous modifiez.</b><p>La page Modification du pool de connexions s'ouvre.</p>
<hr><p><b>Remarque – </b>Le champ Nom est en lecture seule. Vous pouvez indiquer le nom
du pool de connexions uniquement au moment de sa création.</p>
<hr>
</li>
<li><b>Dans le champ Nom de classe de la source de données, entrez
le nom de la classe spécifique du fournisseur qui implémente les API
<tt>DataSource</tt> et/ou <tt>XADataSource</tt>.</b><p>Cette classe est située dans le pilote JDBC.</p></li>
<li><b>Dans la liste déroulante Type de ressource, sélectionnez un type de ressource.</b><p>Les options incluent : <tt>javax.sql.DataSource</tt> (transactions locales uniquement), <tt>javax.sql.XADataSource</tt> (transactions globales) et
<tt>java.sql.ConnectionPoolDataSource</tt> (transactions locales, améliorations possibles des performances).</p></li>
<li><b>Dans le champ Description, entrez une brève description du pool de connexions.</b></li>
<li><b>Dans le champ Taille initiale et minimale du pool, entrez le nombre
minimal de connexions de ce pool.</b><p>Cette valeur détermine également le nombre de connexions placées dans le pool
lors de sa création initiale ou lors du démarrage de Enterprise Server.
</p></li>
<li><b>Dans le champ Taille maximale du pool, entrez le nombre maximal de
connexions de ce pool.</b></li>
<li><b>Dans le champ Valeur de redimensionnement du pool, entrez le nombre de
connexions par lot de redimensionnement du pool.</b><p>Lorsque le pool augmente ou diminue à la taille maximale et minimale
respectivement, il est redimensionné par lots. Cette valeur détermine le nombre de
connexions dans le lot. Une valeur trop élevée retarde la création et
le recyclage de la connexion, alors qu'une valeur trop basse affecte les
performances.</p></li>
<li><b>Dans le champ Délai d'inactivité, entrez le délai maximal, en secondes, durant
lequel une connexion peut demeurer inactive dans le pool.</b><p>Une fois ce délai expiré, la connexion est supprimée du pool. </p></li>
<li><b>Dans le champ Attente max., entrez le délai maximal, en millisecondes, durant
lequel l'application demandant une connexion attend avant que la connexion n'arrive à
expiration.</b></li>
<li><b>Cochez la case Validation des connexions requise pour activer la validation des
connexions.</b><p>La validation des connexions permet au serveur de se reconnecter en cas
d'échec.</p></li>
<li><b>Dans la liste déroulante Méthode de validation, sélectionnez une méthode de validation.</b><p>Le serveur d'application peut valider des connexions à la base de données
de trois manières : validation automatique, méta-données et table.</p><dl><dt>Validation automatique et métadonnées </dt>
<dd><p>Le serveur d'application valide une connexion en appelant les méthodes <tt>con.getAutoCommit</tt> et <tt>con.getMetaData</tt>. </p>
<hr><p><b>Remarque – </b>La plupart des pilotes JDBC mettent en cache le résultat de ces appels. Par conséquent, l'utilisation de ces appels ne donne pas toujours une validation fiable. Contactez votre fournisseur de pilotes pour savoir si ces appels sont mis ou non en cache.</p>
<hr>
</dd>
<dt>Table</dt>
<dd><p>L'application interroge la table de base de données spécifiée. La table doit exister et être accessible, mais ne requiert aucune ligne. N'utilisez pas une table existante comportant un nombre important de lignes ou une table déjà fréquemment consultée. </p></dd>
</dl>
</li>
<li><b>Si vous sélectionnez Table dans la liste déroulante Méthode de validation, entrez
ensuite le nom de la table de base de données dans le
champ Nom de la table.</b><p>Le nom de la table ne peut contenir que des caractères alphanumériques,
des caractères de soulignement, des tirets ou des points.</p></li>
<li><b>Cochez la case Fermer toutes les connexions sur tout échec pour que
le serveur ferme et rétablisse toutes les connexions du pool en cas
d'échec d'une connexion.</b><p>Si cette option est désactivée, les connexions individuelles ne sont rétablies que
lorsqu'elles sont utilisées.</p></li>
<li><b>Cochez la case Autoriser des programmes appelants non composant de sorte que
le pool puisse être utilisé par des appelants non-composant, tels que les
modules de filtres de servlet et de cycle de vie.</b></li>
<li><b>Cochez la case Connexions non transactionnelles pour revenir aux connexions non transactionnelles.</b></li>
<li><b>Dans la liste déroulante, sélectionnez le niveau d'isolement des transactions du pool
de connexions. </b><p>Si aucune valeur n'est spécifiée, les connexions sont établies au niveau d'isolement
par défaut indiqué par le pilote JDBC.</p></li>
<li><b>Cochez la case Niveau d'isolement garanti pour que toutes les connexions empruntées
au pool partagent le même niveau d'isolement.</b><p>Par exemple, si le niveau d'isolement de la connexion est modifié systématiquement
(avec <tt>con.setTransactionIsolation</tt>) lors de sa dernière utilisation, ce mécanisme rétablit l'état au
niveau d'isolement indiqué.</p><p>Ce paramètre ne s'applique que lorsqu'un niveau d'isolement de transaction a été
spécifié à l'étape 18.</p></li>
<li><b>Cliquez sur Enregistrer.</b></li></ol><h6>Voir aussi</h6>
<ul><li><p><a href="task-setdbaccess.html">Configurer l'accès à la base de données</a></p></li>
<li><p><a href="task-integratejdbcdriver.html">Intégrer un pilote JDBC</a></p></li>
<li><p><a href="task-jdbcresourcenew.html">Créer une ressource JDBC</a></p></li>
<li><p><a href="task-jdbcresourcesedit.html">Modifier une ressource JDBC</a></p></li>
<li><p><a href="task-jdbcresourcesdelete.html">Supprimer une ressource JDBC</a></p></li>
<li><p><a href="task-jdbcconnectionpoolnew.html">Créer un pool de connexions JDBC</a></p></li>
<li><p><a href="task-jdbcconnectionpooladvance.html">Modifier les attributs avancés d'un pool de connexions JDBC</a></p></li>
<li><p><a href="task-verifyconnpoolsettings.html">Vérifier les paramètres du pool de connexions</a></p></li>
<li><p><a href="task-jdbcconnectionpoolproperty.html">Modifier les propriétés du pool de connexions JDBC</a></p></li>
<li><p><a href="task-jdbcconnectionpooldelete.html">Supprimer un pool de connexions JDBC</a></p></li></ul>

<br/>

</body>
</html>
