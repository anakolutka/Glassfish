<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>

<!--

-->

<head>

  <meta http-equiv="Content-type" content="text/html; charset=utf-8">
  <!-- ident      "%Z%%M% %I%     %E% SMI" -->

  <title>Créer un domaine personnalisé - Aide en ligne de la console d'administration de Sun GlassFish Enterprise Server v3 Prelude
  </title>
  <script language="JavaScript1.2">
    linktag = window.parent.frames[0].document.getElementsByTagName('link');
    for (var i = 0; i < linktag.length; i++) {
        if (linktag[i].rel == "stylesheet") {
            var s = "<link rel=" + linktag[i].rel + " type='text/css' href=" + linktag[i].href + " />";
            document.write(s);
        }
    }
  </script>

</head>

<body class="HlpBdy">



<a name="task-createcustomrealm"></a><h4>Créer un domaine personnalisé</h4><p>En plus des trois domaines intégrés, vous pouvez également créer des domaines
personnalisés pour enregistrer les données utilisateur d'une autre manière, par exemple dans
une base de données relationnelle. La création d'un domaine personnalisé n'entre pas
dans le domaine d'application de ce document. Pour plus d'informations, reportez-vous au
<a href="http://docs.sun.com/doc/820-4496/beabg?a=view">Chapitre 4, Securing Applications du <i>Sun GlassFish Enterprise Server v3 Prelude Developer’s Guide</i></a>.</p><p>Pour une meilleure gestion, des domaines personnalisés sont implémentés par une classe
(appelée <tt>LoginModule</tt>) issue du package Java Authentication and Authorization Service (JAAS).</p><ol>
<li><b>Suivez la procédure <a href="task-realmnew.html">Créer un domaine</a>, en saisissant le nom du domaine personnalisé et
le nom de la classe <tt> LoginModule</tt>. </b><p>Utilisez un nom unique pour le domaine personnalisé, par exemple <tt>monDomainePersonnalisé</tt>.</p></li>
<li><b>Cliquez sur OK.</b></li>
<li><b>Modifiez le fichier de configuration de connexion du domaine, <i>rép-domaine</i><tt>/config/login.conf</tt>, et ajoutez
le nom de classe du module <tt>LoginModule</tt> JAAS à la fin du
fichier, comme suit :</b><pre><i>nomDomaine</i> {
    <i>nom-complet -classe-LoginModule</i> required;
};</pre><p>Par exemple,</p><pre>myCustomRealm {
    com.foo.bar.security.customrealm.simpleCustomLoginModule required;
};</pre></li>
<li><b>Copiez la classe du module <tt>LoginModule</tt> et toutes les classes qui en
dépendent dans le répertoire <i>rép-domaine</i><tt>/lib/classes</tt>.</b></li>
<li><b>Redémarrez le serveur si « Redémarrage requis » s'affiche dans la console.</b></li>
<li><b>Assurez-vous que le domaine a été correctement chargé.</b><p>Vérifiez <i>rép-domaine</i><tt>/logs/server.log</tt> pour vous assurer que le domaine a bien été chargé
par le serveur. Le serveur doit appeler la méthode <tt>init</tt> du domaine.</p></li></ol><h6>Voir aussi</h6>
<ul><li><p><a href="task-realmnew.html">Créer un domaine</a></p></li>
<li><p><a href="task-realmedit.html">Modifier un domaine</a></p></li>
<li><p><a href="task-todeleterealm.html">Supprimer un domaine</a></p></li>
<li><p><a href="task-tosetdefault.html">Définir le domaine par défaut</a></p></li></ul>

<br/>

</body>
</html>
