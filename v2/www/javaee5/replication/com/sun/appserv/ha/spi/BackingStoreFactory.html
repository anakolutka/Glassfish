<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_06) on Wed Mar 21 20:12:34 PDT 2007 -->
<TITLE>
BackingStoreFactory
</TITLE>

<META NAME="keywords" CONTENT="com.sun.appserv.ha.spi.BackingStoreFactory interface">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="BackingStoreFactory";
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../com/sun/appserv/ha/spi/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../com/sun/appserv/ha/spi/BackingStoreException.html" title="class in com.sun.appserv.ha.spi"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../com/sun/appserv/ha/spi/BackingStoreRegistry.html" title="class in com.sun.appserv.ha.spi"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/sun/appserv/ha/spi/BackingStoreFactory.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BackingStoreFactory.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.sun.appserv.ha.spi</FONT>
<BR>
Interface BackingStoreFactory</H2>
<HR>
<DL>
<DT><PRE>public interface <B>BackingStoreFactory</B></DL>
</PRE>

<P>
A factory for creating BackingStore(s). Every provider must provide an
 implementation of this interface.
 
 <p>
 The <code>createBackingStore(env)</code> method is called typically during
 container creation time. A store instance is typically used to store state
 for a single container whose id is passed (as appId) to
 <code>createStore()</code> method.
 
 <p>
 The <code>createBatchBackingStore()</code> method will be called whenever
 the container decides to save a set of states that belong different
 applications. Thus the store returned by createBatchBackingStore method is
 different from createBackingStore in that the data passed in the collection
 may potentially be from different containers/applications.
 
 <p>
 Any runtime exception thrown from createBackingStore and
 createBatchBackingStore method will cause the container to use a default
 persistence-type (typically no replication) and a log message will be logged
 at WARNING level.
 
 <p>
 Both <code>BackingStore</code> and <code>BatchBackingStore</code> must be
 thread safe.
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../com/sun/appserv/ha/spi/BackingStoreRegistry.html" title="class in com.sun.appserv.ha.spi"><CODE>BackingStoreRegistry</CODE></A></DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="0" SUMMARY="">
<TR ALIGN="right" VALIGN="">
<TD NOWRAP><FONT SIZE="-1">
<CODE>&lt;K extends <A HREF="../../../../../com/sun/appserv/ha/spi/Metadata.html" title="class in com.sun.appserv.ha.spi">Metadata</A>&gt; 
<BR>
<A HREF="../../../../../com/sun/appserv/ha/spi/BackingStore.html" title="class in com.sun.appserv.ha.spi">BackingStore</A>&lt;K&gt;</CODE></FONT></TD>
</TR>
</TABLE>
</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/appserv/ha/spi/BackingStoreFactory.html#createBackingStore(java.lang.Class, java.lang.String, java.util.Properties)">createBackingStore</A></B>(java.lang.Class&lt;K&gt;&nbsp;type,
                   java.lang.String&nbsp;appId,
                   java.util.Properties&nbsp;env)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is called to create a BackingStore that will store
 <code>SimpleMetadata</code> or <code>CompositeMetadata</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../com/sun/appserv/ha/spi/BatchBackingStore.html" title="interface in com.sun.appserv.ha.spi">BatchBackingStore</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../com/sun/appserv/ha/spi/BackingStoreFactory.html#createBatchBackingStore(java.util.Properties)">createBatchBackingStore</A></B>(java.util.Properties&nbsp;env)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is called to store a set of BatchMetadata objects atomically.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="createBackingStore(java.lang.Class, java.lang.String, java.util.Properties)"><!-- --></A><H3>
createBackingStore</H3>
<PRE>
&lt;K extends <A HREF="../../../../../com/sun/appserv/ha/spi/Metadata.html" title="class in com.sun.appserv.ha.spi">Metadata</A>&gt; <A HREF="../../../../../com/sun/appserv/ha/spi/BackingStore.html" title="class in com.sun.appserv.ha.spi">BackingStore</A>&lt;K&gt; <B>createBackingStore</B>(java.lang.Class&lt;K&gt;&nbsp;type,
                                                        java.lang.String&nbsp;appId,
                                                        java.util.Properties&nbsp;env)
                                                    throws <A HREF="../../../../../com/sun/appserv/ha/spi/BackingStoreException.html" title="class in com.sun.appserv.ha.spi">BackingStoreException</A></PRE>
<DL>
<DD>This method is called to create a BackingStore that will store
 <code>SimpleMetadata</code> or <code>CompositeMetadata</code>. This
 class must be thread safe.
 <p>
 The factory must return a fully initialized and operational BackingStore
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>type</CODE> - The type of data that will be saved (using the
            <code>save()</code> method in BackingStore) in the store.<DD><CODE>appId</CODE> - the application id for which this store is created<DD><CODE>env</CODE> - Properties that contain any additional configuration paramters
            to successfully initialize and use the store.
<DT><B>Returns:</B><DD>a BackingStore. The returned BackingStore will be used only to
         store data of type K. The returned BackingStore must be thread
         safe.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/appserv/ha/spi/BackingStoreException.html" title="class in com.sun.appserv.ha.spi">BackingStoreException</A></CODE> - If the store could not be created</DL>
</DD>
</DL>
<HR>

<A NAME="createBatchBackingStore(java.util.Properties)"><!-- --></A><H3>
createBatchBackingStore</H3>
<PRE>
<A HREF="../../../../../com/sun/appserv/ha/spi/BatchBackingStore.html" title="interface in com.sun.appserv.ha.spi">BatchBackingStore</A> <B>createBatchBackingStore</B>(java.util.Properties&nbsp;env)
                                          throws <A HREF="../../../../../com/sun/appserv/ha/spi/BackingStoreException.html" title="class in com.sun.appserv.ha.spi">BackingStoreException</A></PRE>
<DL>
<DD>This method is called to store a set of BatchMetadata objects atomically.
 The factory must return a fully initialized and operational
 BatchBackingStore
 <p>
 The factory must return a fully initialized and operational
 BatchBackingStore
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>env</CODE> - Properties that contain any additional configuration paramters
            to successfully initialize and use the store.
<DT><B>Returns:</B><DD>A BatchBackingStore
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../com/sun/appserv/ha/spi/BackingStoreException.html" title="class in com.sun.appserv.ha.spi">BackingStoreException</A></CODE> - If the store could not be created</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../com/sun/appserv/ha/spi/package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../com/sun/appserv/ha/spi/BackingStoreException.html" title="class in com.sun.appserv.ha.spi"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../com/sun/appserv/ha/spi/BackingStoreRegistry.html" title="class in com.sun.appserv.ha.spi"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?com/sun/appserv/ha/spi/BackingStoreFactory.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BackingStoreFactory.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
