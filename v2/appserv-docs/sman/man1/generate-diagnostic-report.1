<!DOCTYPE REFENTRY PUBLIC "-//Sun Microsystems//DTD DocBook V3.0-Based SolBook Subset V2.0//EN" [
<!--ArborText, Inc., 1988-1999, v.4002-->
<!ENTITY metainfo SYSTEM "metainfo.sgm">
<!ENTITY options-common SYSTEM "options-common.sgm">
<!ENTITY synopsis-common SYSTEM "synopsis-common.sgm">
<!ENTITY % commonents SYSTEM "smancommon.ent">
%commonents;
<!ENTITY % booktitles SYSTEM "booktitles.ent">
%booktitles;
<!ENTITY Dash "&ndash;">
]>
<?Pub UDT _bookmark _target>
<?Pub EntList brvbar bull cross dash diam diams frac12 frac13 frac14 hellip
 laquo lArr loz mdash nabla ndash para pound rArr raquo sect yen ne>
<?Pub Inc>
<refentry id="generate-diagnostic-report-1">
<refmeta><refentrytitle>generate-diagnostic-report</refentrytitle><manvolnum>
1</manvolnum>&metainfo;
</refmeta>
<refnamediv><indexterm><primary sortas="list-domains">generate-diagnostic-report &mdash;generates
reports that can help diagnose application server malfunctioning</primary>
</indexterm><indexterm><primary sortas="lists the domains in the specified domain directory">
generates reports that can help diagnose application server malfunctioning &mdash;
generate-diagnostic-report</primary></indexterm><refname>generate-diagnostic-report
</refname><refpurpose>generates reports that can help diagnose application
server malfunctioning</refpurpose></refnamediv>
<refsynopsisdiv><title>&synp-tt;</title>
<cmdsynopsis><command>generate-diagnostic-report </command><arg choice="plain">&Dash;&Dash;outputfile<replaceable>
jar<?Pub Caret>_file_name</replaceable></arg>&synopsis-common;
<arg><option role="nodash">&Dash;&Dash;local=</option><replaceable>false</replaceable></arg>
<arg>&Dash;&Dash;file <replaceable>filename</replaceable></arg><arg>&Dash;&Dash;bugids<replaceable>
 bugids</replaceable></arg><arg><option role="nodash">&Dash;&Dash;logstartdate
</option><replaceable> start-date</replaceable></arg><arg><option role="nodash">&Dash;&Dash;logenddate
</option><replaceable> end-date</replaceable></arg><arg><option role="nodash">&Dash;&Dash;targetdir
</option><replaceable> local_dir_path</replaceable></arg><arg choice="plain"><replaceable>
target</replaceable></arg>
</cmdsynopsis></refsynopsisdiv>
<refsect1><title>&desc-tt;</title>
<para>The <command>generate-diagnostic-report</command> command generates
an HTML report that contains pointers or navigational links to a application
server installation details such as configuration details, HADB information,
logging details, process specific information, for an application server instance.
If report generation is targeted for a domain, data is collected for all instances
belonging to the domain and is stored on DAS. Such data may help diagnose
application server malfunctioning such as exceptions, performance bottlenecks,
and unexpected results. This command is supported in remote and local mode.
In local mode, reports can be generated for a DAS, a server instance, or a
node agent. In remote mode, this command can generate reports for all the
targets supported by the local mode and for the entire domain or a cluster. 
</para>
</refsect1>
<refsect1><title>&opts-tt;</title>
<variablelist termlength="medium">
<varlistentry><term><option role="nodash">&Dash;&Dash;outputfile</option></term>
<listitem><para>Absolute path to the filename on the client machine. The filename
must end with a .jar extension. This option is mandatory in both the local
and remote mode.</para>
</listitem></varlistentry>&options-common;
<varlistentry><term><option role="nodash">&Dash;&Dash;file</option></term>
<listitem><para>A text file describing customer's information such as customer
name, customer point of contact, error description. Contents of this file
are appended to the diagnostic report. </para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;bugids</option></term>
<listitem><para>One or more IDs of known bugs similar to customer issue, separated
by comma. </para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;logstartdate</option></term>
<listitem><para>Use the mm/dd/yy format to specify the date from which <filename>
server.log</filename> files for server instances are captured (if log rotation
is enabled). If the date is not specified, number of entries from <filename>
server.log</filename> file as specified by <literal>max-no-of-entries</literal>
matching <literal>min-log-level</literal> in diagnostic service are collected.
</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;logenddate</option></term>
<listitem><para>Date in mm/dd/yy format. If specified, takes precedence over <literal>
max-no-of-entries</literal> from diagnostic-service configuration.If you specify
a <option role="nodash">&Dash;&Dash;logenddate</option>, you will need to
specify a <option role="nodash">&Dash;&Dash;logstartdate</option> also. If
specified, entries between <option role="nodash">&Dash;&Dash;logstartdate
</option> and <option role="nodash">&Dash;&Dash;logenddate</option> matching <literal>
min-log-level</literal> are captured. If this option is not specified, <literal>
max-no-of-entries</literal> from diagnostic-service is used to limit the <filename>
server.log</filename> content being captured.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;local</option></term>
<listitem><para>If set to true, the <command>generate-diagnostic-report</command>
command runs in local mode and collects a limited set of information. When
the command is run locally for a domain, data for the default server instance,
that is, the DAS for the domain, is collected. In local mode, this command
can generate report for a DAS, a server instance, or a node agent. </para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;targetdir</option></term>
<listitem><para>This option is required only if the command is run locally.
If target is a domain name, this value is parent directory of the domain upon
which the command will operate. This is a mandatory field in local mode.</para>
</listitem></varlistentry>
</variablelist></refsect1>
<refsect1><title>OPERANDS</title>
<variablelist termlength="medium">
<varlistentry><term>target: </term><listitem><para>allowed values are domain,
cluster, nodeagent and instance. </para>
</listitem></varlistentry>
<varlistentry><term>domain: </term><listitem><para>generates report for all
clustered and non clustered instances administered by the DAS, including default
admin server instance.  This command when executed locally, collects information
for default server instance only. </para>
</listitem></varlistentry>
<varlistentry><term>cluster: </term><listitem><para>generates report for every
server instance in the cluster.</para>
</listitem></varlistentry>
<varlistentry><term>nodeagent: </term><listitem><para>generates report for
a particular physical node; that is, for instances belonging to the node. 
</para>
</listitem></varlistentry>
<varlistentry><term>instance: </term><listitem><para>generates report for
a particular server instance.</para>
</listitem></varlistentry>
</variablelist></refsect1>
<refsect1><title>&exam-tt;</title>
<example>
<title>Using the generate-diagnostic-report command (remote mode)</title>
<screen>asadmin> <userinput>generate-diagnostic-report
 --user admin --port 4848 --outputfile /export/software/sjsas/diagnostic-reports/domain1.jar domain1

</userinput>
Please enter the admin password>
Following attributes from domain.xml are masked with **** in the generated report.
domain/configs/config=server-config/jms-service/jms-host=default_JMS_host/admin-password="admin"
If you want to mask additional properties, use create-password-alias and set com
mand before continuing the report generation.
Press 'y' to continue or 'n' to exit : y
Command generate-diagnostic-report executed successfully.

</screen>
</example>
<example>
<title>Using the generate-diagnostic-report command (local mode)</title>
<screen>asadmin> <userinput>asadmin generate-diagnostic-report --user admin --local=true --outputfile /export/software/sjsas/diagnostic-reports/domain1.jar --targetdir /export/software/sjsas/domains domain1

</userinput>
Following attributes from domain.xml are masked with **** in the generated repor
t.domain/configs/config=server-config/jms-service/jms-host=default_JMS_host/admin-
password="admin"
If you want to mask additional properties, use create-password-alias and set com
mand before continuing the report generation.
Press 'y' to continue or 'n' to exit : y
Report File : /export/software/sjsas/diagnostic-reports/domain1.jar
Command generate-diagnostic-report executed successfully.</screen>
</example>
</refsect1>
<refsect1><title>&exit-tt;</title>
<variablelist termlength="medium">
<varlistentry><term>0</term><listitem><para>command executed successfully
</para>
</listitem></varlistentry>
<varlistentry><term>1</term><listitem><para>error in executing the command
</para>
</listitem></varlistentry>
</variablelist></refsect1>
</refentry>
<?Pub *0000009068>
