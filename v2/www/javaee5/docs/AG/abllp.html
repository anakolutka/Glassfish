<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<html><!-- GenHTML@12751-->
<head>
<META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
<!-- ident	"%Z%%M%	%I%	%E% SMI" -->

    <title>7.&nbsp;&nbsp;Connectors
    </title>
</head>
<body>
<font style="color: red; font-family:arial,helvetica,sans-serif; font-size:12pt; font-weight:bold}">Not For Publication</font>&nbsp;&nbsp;&nbsp;<br>Glassfish Review Draft<br> </td>

<A href="toc.html">Sun Java System Application Server Platform Edition 9 Administration Guide</A>&nbsp;<br>
<A HREF="ablky.html">Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="ablms.html">Next</A><br>
            <!--startindex--><A NAME="abllp"></A><b>Chapter&nbsp;7</b><h1>Connectors</h1>
<p>This chapter explains how to configure connectors, which are used to access
enterprise information systems (EISs). This chapter contains the following sections:</p>
<ul><li><p><A HREF="abllp.html#abllq">Connectors</A></p>
</li>
<li><p><A HREF="abllp.html#ablls">Working with Connector Connection Pools</A></p>
</li>
<li><p><A HREF="abllp.html#abllx">Working with Connector Resources</A></p>
</li>
<li><p><A HREF="abllp.html#ablmc">Working with Administered Object Resources</A></p>
</li>
</ul>
<A NAME="abllq"></A><h2>Connectors</h2>
<p>Also called a resource adapter, a connector module is a Java component that
enables applications to interact with enterprise information systems (EISs). EIS software
includes various types of systems: enterprise resource planning (ERP), mainframe transaction
processing, and non-relational databases, among others. Like other Java modules, to
install a connector module you deploy it.</p>
<p>A connector connection pool is a group of reusable connections for a particular
EIS. To create a connector connection pool, specify the connector module (resource
adapter) that is associated with the pool.</p>
<p>A connector resource is a program object that provides an application with a
connection to an EIS. To create a connector resource, specify its JNDI name and its
associated connection pool. Multiple connector resources can specify a single connection
pool. The application locates the resource by looking up its JNDI name. (For more
information on JNDI, see the section JNDI Names and Resources.) The JNDI name of a
connector resource for an EIS is usually in the <tt>java:comp/env/</tt><i>eis-specific</i> subcontext.</p>
<p>The Application Server implements JMS by using a connector module (resource adapter).
See the section, The Relationship Between JMS Resources and Connector Resources.</p>
<p>Application Server 9 supports the development and deployment of resource adapters
that are compatible with Connector 1.5 specification (and, for backward compatibility,
the Connector 1.0 specification). For more about how to develop connectors, refer <A HREF="http://docs.sun.com/app/docs/doc/819-3659">Chapter 11, "Developing
Connectors," in <i>Sun Java System Application Server
Platform Edition 9.0 Developer's Guide</i></A></p>
<p>See Also:</p>
<ul><li><p>LINK REMOVED JNDI Names and Resources</p>
</li>
<li><p><A HREF="ablgw.html#ablhj">To deploy a connector module</A></p>
</li>
<li><p><A HREF="abllp.html#abllt">To set up EIS access</A></p>
</li>
</ul>
<A NAME="ablls"></A><h2>Working with Connector Connection Pools</h2>
<A NAME="abllt"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">To set up EIS access</h3>
<h5>Steps</h5><ol><li><p><b>Deploy (install) a connector. See <A HREF="ablgw.html#ablhj">To deploy a connector module</A>.</b></p></li>
<li><p><b>Create a connection pool for the connector. See <A HREF="abllp.html#abllu">To create a connector connection pool</A>.                   </b></p></li>
<li><p><b>Create a connector resource that is associated with the connection pool.
See <A HREF="abllp.html#ablly">To create a connector resource</A>.</b></p></li>
</ol><h5>See Also</h5><ul><li><p><A HREF="abllp.html#abllq">Connectors</A></p>
</li>
</ul>
<A NAME="abllu"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">To create a connector connection pool</h3>
<h5>Before You Begin</h5><p>Before creating the pool, deploy the connector module (resource adapter) associated
with the pool. The values that are specified for the new pool depend on the connector
module that is deployed.</p>
<h5>Steps</h5><ol><li><p><b>In the tree component, expand the Resource node and then the Connectors
node.</b></p></li>
<li><p><b>Select the Connector Connection Pools node.</b></p></li>
<li><p><b>On the Connector Connection Pools page, click New.</b></p></li>
<li><p><b>On the first Create Connector Connection Pool page, specify the following
settings:</b></p><ol Type="a"><li><p><b>In the Name field, enter a logical name for the pool.</b></p><p>Specify
this name when creating a connector resource.</p>
</li>
<li><p><b>Select an entry from the Resource Adapter combo box.</b></p><p>The combo
box displays a list of deployed resource adapters (connector modules).</p>
</li>
</ol>
</li>
<li><p><b>Select a value from the Connection Definition combo box.</b></p><p>The choices in the combo box depend on the resource adapter. Typically, a type of <tt>ConnectionFactory</tt> is specified, a factory instance to get a connection to
the EIS.</p>
</li>
<li><p><b>Click Next.</b></p></li>
<li><p><b>On the next Create Connector Connection Pool page, perform these tasks:</b></p><ol Type="a"><li><p><b>In the General Settings section verify that the values are correct.</b></p></li>
<li><p><b>For the fields in the Pool Settings section, the default values can be
retained.</b></p><p>These settings can be changed at a later time. See <A HREF="abllp.html#abllv">To edit a connector connection pool</A>.</p>
</li>
<li><p><b>In the Additional Properties table, add any required properties.</b></p><p>In the previous Create Connector Connection Pool page, you selected a class
in the Connection Definition combo box. If this class is in the server's classpath,
then the Additional Properties table displays default properties.</p>
</li>
</ol>
</li>
<li><p><b>Click Finish.</b></p></li>
</ol><h5>More Information<br>Equivalent asadmin command</h5>
<p><tt>create-connector-connection-pool</tt></p>
<h5>See Also</h5><ul><li><p><A HREF="abllp.html#abllq">Connectors</A></p>
</li>
<li><p><A HREF="abllp.html#abllt">To set up EIS access</A></p>
</li>
<li><p><A HREF="ablgw.html#ablhj">To deploy a connector module</A></p>
</li>
<li><p><A HREF="abllp.html#abllv">To edit a connector connection pool</A></p>
</li>
<li><p><A HREF="abllp.html#abllw">To delete a connector connection pool</A></p>
</li>
</ul>
<A NAME="abllv"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">To edit a connector connection pool</h3>
<h5>Steps</h5><ol><li><p><b>In the tree component, expand the Resources node and then the Connectors
node.</b></p></li>
<li><p><b>Expand the Connector Connection Pools node.</b></p></li>
<li><p><b>Select the connector connection pool you want to edit.</b></p></li>
<li><p><b>On the Edit Connector Connection Pool page, you can change the settings
of this connection pool. See the following table.</b></p>
<table cellspacing="5" border="1">
<tr><th scope="col"><p>Parameter</p></th><th scope="col"><p>Description</p></th></tr>
<tr><td><p>Initial and Minimum Pool Size</p></td><td><p>The minimum number of connections in the pool. This value also determines the
number of connections placed in the pool when the pool is first created or when application
server starts.</p></td></tr>
<tr><td><p>Maximum Pool Size</p></td><td><p>The maximum number of connections in the pool.</p></td></tr>
<tr><td><p>Pool Resize Quantity</p></td><td><p>When the pool shrinks toward the minimum pool size it is resized in batches.
This value determines the number of connections in the batch. Making this value too
large will delay connection recycling; making it too small will be less efficient.</p></td></tr>
<tr><td><p>Idle Timeout</p></td><td><p>The maximum time in seconds that a connection can remain idle in the pool. After
this time expires, the connection will be removed from the pool.</p></td></tr>
<tr><td><p>Max Wait Time</p></td><td><p>The amount of time the application that has requested a connection will wait
before getting a connection timeout. Because the default wait time is long, the application
might appear to hang indefinitely.</p></td></tr>
<tr><td><p>On Any Failure</p></td><td><p>If you select the checkbox labelled Close All Connections, if a single connection
fails, then the application server will close all connections in the pool and then
reestablish them. If you do not select the checkbox, then individual connections will
be reestablished only when they are used.</p></td></tr>
<tr><td><p>Transaction Support</p></td><td><p>Use the Transaction Support list to select the type of transaction support for
the connection pool. The chosen transaction support overrides the transaction support
attribute in the resource adapter associated with this connection pool in a downward
compatible way. In other words, it can support a lower transaction level than that
specified in the resource adapter or the same transaction level as that specified
in resource adapter, but it cannot specify a higher level.</p><p>The transaction support options include the following.</p><p>The None selection from the Transaction Support menu indicates that the resource
adapter does not support resource manager local or JTA transactions and does not implement <tt>XAResource</tt> or <tt>LocalTransaction</tt> interfaces. For JAXR resource
adapters, you need to choose None  from the Transaction Support menu. JAXR resource
adapters do not support local or JTA transactions. </p><p>Local transaction support means that the resource adapter supports local transactions
by implementing the <tt>LocalTransaction</tt> interface. Local transactions
are managed internal to a resource manager and involve no external transaction managers. </p><p>XA transaction support means that the resource adapter supports resource manager
local and JTA transactions by implementing the <tt>LocalTransaction</tt> and <tt>XAResource</tt> interfaces. XA transactions are controlled and coordinated by
a transaction manager external to a resource manager. Local transactions are managed
internal to a resource manager and involve no external transaction managers. </p></td></tr>
</table></li>
<li><p><b>In the Additional Properties table, specify name-value pairs. </b></p><p>The properties specified depend on the resource adapter used by this pool. The
name-value pairs specified by the deployer using this table can be used to override
the default values for the properties defined by the resource-adapter vendor.</p>
</li>
<li><p><b>On the Security Maps tabbed pane, create or modify a security map for
the connection pool. </b></p><p>See <A HREF="ablnk.html#ablqt">To create a security map</A> for information on how to create a security map.</p>
</li>
<li><p><b>Click Save.</b></p></li>
</ol><h5>See Also</h5><ul><li><p><A HREF="abllp.html#abllq">Connectors</A></p>
</li>
<li><p><A HREF="abllp.html#abllu">To create a connector connection pool</A></p>
</li>
<li><p><A HREF="abllp.html#abllw">To delete a connector connection pool</A></p>
</li>
</ul>
<A NAME="abllw"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">To delete a connector connection pool</h3>
<h5>Steps</h5><ol><li><p><b>In the tree component, expand the Resources node and then the Connectors
node.</b></p></li>
<li><p><b>Select the Connector Connection Pools node.</b></p></li>
<li><p><b>On the Connector Connection Pools page, select the checkbox for the pool
to be deleted.</b></p></li>
<li><p><b>Click Delete.</b></p></li>
</ol><h5>More Information<br>Equivalent asadmin command</h5>
<p><tt>delete-connector-connection-pool</tt></p>
<h5>See Also</h5><ul><li><p><A HREF="abllp.html#abllu">To create a connector connection pool</A></p>
</li>
<li><p><A HREF="abllp.html#abllv">To edit a connector connection pool</A></p>
</li>
</ul>
<A NAME="abllx"></A><h2>Working with Connector Resources</h2>
<A NAME="ablly"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">To create a connector resource</h3>
<p>A connector resource (data source) provides applications with a connection to
an EIS.</p>
<h5>Before You Begin</h5><p>Before creating a connector resource, first create a connector connection pool.</p>
<h5>Steps</h5><ol><li><p><b>In the tree component, expand the Resources node and then the Connectors
node.</b></p></li>
<li><p><b>Expand the Connector Resources node.</b></p></li>
<li><p><b>On the Connector Resources page, click New.</b></p></li>
<li><p><b>On the Create Connector Resources page, specify the resource's settings:</b></p><ol Type="a"><li><p><b>In the JNDI Name field, type a unique name, for example: <tt>eis/myERP</tt>. </b></p><p>Remember to use a forward slash.</p>
</li>
<li><p><b>From the Pool Name combo box, choose the connection pool to which the
new connector resource belongs.</b></p></li>
<li><p><b>To change the resource to be unavailable, deselect the Status checkbox.</b></p><p>By default, the resource is available (enabled) when it is created. </p>
</li>
</ol>
</li>
<li><p><b>Click OK.</b></p></li>
</ol><h5>More Information<br>Equivalent asadmin command</h5>
<p><tt>create-connector-resource</tt></p>
<h5>See Also</h5><ul><li><p><A HREF="abllp.html#abllq">Connectors</A></p>
</li>
<li><p>LINK REMOVED JNDI Names and Resources</p>
</li>
<li><p><A HREF="abllp.html#abllt">To set up EIS access</A></p>
</li>
<li><p><A HREF="abllp.html#abllz">To edit a connector resource</A></p>
</li>
<li><p><A HREF="abllp.html#ablma">To delete a connector resource</A></p>
</li>
<li><p><A HREF="abllp.html#ablmb">To configure the connector service</A></p>
</li>
</ul>
<A NAME="abllz"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">To edit a connector resource</h3>
<h5>Steps</h5><ol><li><p><b>In the tree component, expand the Resources node and then the Connectors
node.</b></p></li>
<li><p><b>Expand the Connector Resources node.</b></p></li>
<li><p><b>Select the node for the connector resource that you want to edit.</b></p></li>
<li><p><b>On the Edit Connector Resources page, you can change the settings of this
connection.</b></p></li>
<li><p><b>Click Save to apply the edits.</b></p></li>
</ol><h5>See Also</h5><ul><li><p><A HREF="abllp.html#ablly">To create a connector resource</A></p>
</li>
<li><p><A HREF="abllp.html#ablma">To delete a connector resource</A></p>
</li>
<li><p><A HREF="abllp.html#ablmb">To configure the connector service</A></p>
</li>
</ul>
<A NAME="ablma"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">To delete a connector resource</h3>
<h5>Steps</h5><ol><li><p><b>In the tree component, expand the Resources node and then the Connectors
node.</b></p></li>
<li><p><b>Select the Connector Resources node.</b></p></li>
<li><p><b>On the Connector Resources page, select the checkbox for the resource
to be deleted. </b></p></li>
<li><p><b>Click Delete.</b></p></li>
</ol><h5>More Information<br>Equivalent asadmin command</h5>
<p><tt>delete-connector-resource</tt></p>
<h5>See Also</h5><ul><li><p><A HREF="abllp.html#ablly">To create a connector resource</A></p>
</li>
<li><p><A HREF="abllp.html#abllz">To edit a connector resource</A></p>
</li>
<li><p><A HREF="abllp.html#ablmb">To configure the connector service</A></p>
</li>
</ul>
<A NAME="ablmb"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">To configure the connector service</h3>
<p>Use the Connector Service screen to configure the connector container for all
resource adapters deployed to this cluster or server instance.</p>
<h5>Steps</h5><ol><li><p><b>Select Configurations from the tree.</b></p></li>
<li><p><b>Select the Connector Service node.</b></p></li>
<li><p><b>Specify the shutdown timeout in seconds in the Shutdown Timeout field. </b></p><p>Enter an integer representing the number of seconds that the application
server waits to allow the <tt>ResourceAdapter.stop</tt> method of the connector
module's instance to complete. Resource adapters that take longer than the specified
shutdown timeout are ignored by the application server and the shutdown procedure
continues. The default shutdown timeout is 30 seconds. Click Load Defaults to select
the default shutdown timeout for the resource adapters deployed to this cluster or
server instance.</p>
</li>
</ol><h5>See Also</h5><ul><li><p><A HREF="abllp.html#ablly">To create a connector resource</A></p>
</li>
<li><p><A HREF="abllp.html#abllz">To edit a connector resource</A></p>
</li>
<li><p><A HREF="abllp.html#ablma">To delete a connector resource</A></p>
</li>
</ul>
<A NAME="ablmc"></A><h2>Working with Administered Object Resources</h2>
<A NAME="ablmd"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">To create an administered object resource</h3>
<p>Packaged within a resource adapter (connector module), an administered object
provides specialized functionality for an application. For example, an administered
object might provide access to a parser that is specific to the resource adapter and
its associated EIS. The object can be administered; that is, it can be configured
by an administrator. To configure the object, add name-value property pairs in the
Create or Edit Admin Object Resource pages. When creating an administered object resource,
associate the administered object to a JNDI name.</p>
<p>The Application Server implements JMS by using resource adapter. For each JMS destination
created, the Application Server automatically creates an administered object resource.</p>
<h5>Steps</h5><ol><li><p><b>In the tree component, expand the Resources node and then the Connectors
node.</b></p></li>
<li><p><b>Expand the Admin Object Resources node.</b></p></li>
<li><p><b>On the Admin Object Resources page, click New.</b></p></li>
<li><p><b>On the Admin Object Resources page, specify the following settings:</b></p><ol Type="a"><li><p><b>In the JNDI Name field, type a unique name that identifies the resource.</b></p></li>
<li><p><b>In the Resource Type field, enter the Java type for the resource.</b></p></li>
<li><p><b>From the Resource Adapter combo box, select the resource adapter that
contains the administered object.</b></p></li>
<li><p><b>Select or deselect the Status checkbox to enable or disable the resource.</b></p></li>
<li><p><b>To configure the administered object with name-value property pairs, click
Add Property.</b></p></li>
<li><p><b>Click Finish.</b></p></li>
</ol>
</li>
</ol><h5>More Information<br>Equivalent asadmin command</h5>
<p><tt>create-admin-object</tt></p>
<h5>See Also</h5><ul><li><p>LINK REMOVED JNDI Names and Resources</p>
</li>
<li><p><A HREF="ablgw.html#ablhj">To deploy a connector module</A></p>
</li>
<li><p><A HREF="abljw.html#ablka">The Relationship Between JMS Resources and Connector Resources</A></p>
</li>
<li><p><A HREF="abllp.html#ablme">To edit an administered object resource</A></p>
</li>
<li><p><A HREF="abllp.html#ablmf">To delete an administered object resource</A></p>
</li>
</ul>
<A NAME="ablme"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">To edit an administered object resource</h3>
<h5>Steps</h5><ol><li><p><b>In the tree component, expand the Resource node and then the Connectors
node.</b></p></li>
<li><p><b>Expand the Administered Object Resources node.</b></p></li>
<li><p><b>Select the node for the administered object resource to be edited.</b></p></li>
<li><p><b>On the Edit Administered Object Resources page, modify values specified
in Creating an Administered Object Resource.</b></p></li>
<li><p><b>Click Save to apply the edits.</b></p></li>
</ol><h5>See Also</h5><ul><li><p><A HREF="abllp.html#ablmd">To create an administered object resource</A></p>
</li>
<li><p><A HREF="abllp.html#ablmf">To delete an administered object resource</A></p>
</li>
</ul>
<A NAME="ablmf"></A><h3><IMG border="0" alt="Procedure" src="graphics/procedure.gif">To delete an administered object resource</h3>
<h5>Steps</h5><ol><li><p><b>In the tree component, expand the Resources node and then the Connectors
node.</b></p></li>
<li><p><b>Select the Administered Object Resources node.</b></p></li>
<li><p><b>On the Administered Object Resources page, select the checkbox for the
resource to be deleted.                   </b></p></li>
<li><p><b>Click Delete.</b></p></li>
</ol><h5>More Information<br>Equivalent asadmin command</h5>
<p><tt>delete-admin-object</tt></p>
<h5>See Also</h5><ul><li><p><A HREF="abllp.html#ablmd">To create an administered object resource</A></p>
</li>
<li><p><A HREF="abllp.html#ablme">To edit an administered object resource</A></p>
</li>
</ul>

            <!--stopindex-->
<br>
<A HREF="ablky.html">Previous</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="toc.html">Contents</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="idx.html">Index</A>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="ablms.html">Next</A>
</body>
</html>
