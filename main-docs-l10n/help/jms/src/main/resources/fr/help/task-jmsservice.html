<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2005, 2013 Oracle and/or its affiliates. All rights reserved.

Use is subject to License Terms  -->
<p><a id="task-jmsservice" name="task-jmsservice"></a><a id="GHJMS00026" name="GHJMS00026"></a></p>

<h4><a id="sthref20" name="sthref20"></a>Configuration du service JMS</h4>
<a name="BEGIN" id="BEGIN"></a>
<p>La page Service JMS permet de configurer les param&egrave;tres &agrave; utiliser par toutes les connexions JMS.</p>
<p>Pour plus d'informations sur la configuration du service JMS, reportez-vous au <a href="http://www.oracle.com/pls/topic/lookup?ctx=E26576_01&id=GSDVG00020">chapitre 19, <i>Using the Java Message Service,</i> du manuel <i>Oracle GlassFish Server Application Development Guide</i></a>.</p>
<ol>
<li>
<p>Dans l'arborescence de navigation, d&eacute;veloppez le noeud Configuration.</p>
</li>
<li>
<p>S&eacute;lectionnez l'instance &agrave; configurer :</p>
<ul>
<li>
<p>Pour configurer une instance sp&eacute;cifique, s&eacute;lectionnez le noeud de configuration de l'instance. Par exemple, pour l'instance par d&eacute;faut, <code>server</code>, s&eacute;lectionnez le noeud <code>server-config</code>.</p>
</li>
<li>
<p>Pour configurer les param&egrave;tres par d&eacute;faut des futures instances utilisant une copie de <code>default-config</code>, s&eacute;lectionnez le noeud <code>default-config</code>.</p>
</li>
</ul>
</li>
<li>
<p>Sous le noeud Configuration, s&eacute;lectionnez le noeud Service JMS.</p>
<p>La page Service JMS appara&icirc;t.</p>
</li>
<li>
<p>Dans la liste d&eacute;roulante Type :</p>
<ul>
<li>
<p>S&eacute;lectionnez EMBEDDED pour acc&eacute;der au service JMS sur l'h&ocirc;te local.</p>
<p>Le service JMS est d&eacute;marr&eacute; sur la m&ecirc;me JVM que GlassFish Server. L'initialisation en diff&eacute;r&eacute; d&eacute;marre le broker imbriqu&eacute; par d&eacute;faut au premier acc&egrave;s des services JMS et non au d&eacute;marrage de GlassFish Server. Il s'agit du type de service JMS par d&eacute;faut.</p>
</li>
<li>
<p>S&eacute;lectionnez LOCAL pour acc&eacute;der au service JMS sur l'h&ocirc;te local.</p>
<p>Le service JMS est d&eacute;marr&eacute; en m&ecirc;me temps que GlassFish Server.</p>
</li>
<li>
<p>S&eacute;lectionnez REMOTE pour acc&eacute;der au service JMS sur un autre syst&egrave;me ou sur un cluster.</p>
<p>Si vous choisissez REMOTE, le service JMS n'est pas d&eacute;marr&eacute; par GlassFish Server au prochain d&eacute;marrage du serveur. A la place, il est d&eacute;marr&eacute; et g&eacute;r&eacute; par Message Queue. Vous devez donc d&eacute;marrer le broker Message Queue s&eacute;par&eacute;ment. Pour plus d'informations sur le d&eacute;marrage du broker, reportez-vous &agrave; <a href="http://www.oracle.com/pls/topic/lookup?ctx=E26576_01&id=GMADG00227"><i>Starting Brokers</i> dans le manuel <i>Oracle GlassFish Server Message Queue Administration Guide</i></a>. Si vous choisissez cette valeur et que vous utilisez un h&ocirc;te distant, suivez les instructions indiqu&eacute;es dans <a href="task-jmshostedit.html">Modification d'un h&ocirc;te JMS</a> pour sp&eacute;cifier le nom de l'h&ocirc;te distant.</p>
</li>
</ul>
</li>
<li>
<p>Dans le champ D&eacute;lai de d&eacute;marrage, indiquez le d&eacute;lai d'attente, en secondes, du d&eacute;marrage du service JMS au-del&agrave; duquel GlassFish Server abandonne l'op&eacute;ration.</p>
<p>Sur un syst&egrave;me lent ou surcharg&eacute;, augmentez la valeur par d&eacute;faut. La valeur par d&eacute;faut est 60.</p>
</li>
<li>
<p>Dans le champ Arguments de d&eacute;marrage, indiquez des arguments permettant de personnaliser le d&eacute;marrage du service JMS.</p>
<p>Utilisez les arguments disponibles &agrave; l'aide de la commande as-install-parent<code>/mq/bin/imqbrokerd</code>.</p>
</li>
<li>
<p>S&eacute;lectionnez la case Activ&eacute; du champ Reconnecter pour que le service JMS tente de se reconnecter &agrave; un serveur de messagerie (ou &agrave; la liste d'adresses indiqu&eacute;e dans AddressList) en cas de perte de connexion.</p>
<p>Cette option est activ&eacute;e par d&eacute;faut.</p>
</li>
<li>
<p>Dans le champ Intervalle de reconnexion, d&eacute;finissez le d&eacute;lai, en secondes, entre les tentatives de reconnexion.</p>
<p>Cet intervalle s'applique aux tentatives sur chaque adresse indiqu&eacute;e dans AddressList, ainsi qu'aux adresses successives dans la liste. Si l'intervalle est trop court, le broker n'a pas le temps de r&eacute;cup&eacute;rer. S'il est trop long, le d&eacute;lai de reconnexion peut &ecirc;tre inacceptable. La valeur par d&eacute;faut est de 5 secondes.</p>
</li>
<li>
<p>Dans le champ Tentatives de reconnexion, indiquez le nombre de tentatives de connexion (ou de reconnexion) pour chaque adresse indiqu&eacute;e dans AddressList avant que le programme client ne passe &agrave; l'adresse suivante dans la liste.</p>
<p>La valeur -1 indique que le nombre de tentatives de reconnexion est illimit&eacute; (le programme client tentera de se connecter &agrave; la premi&egrave;re adresse jusqu'&agrave; ce qu'il y parvienne). La valeur par d&eacute;faut est 3.</p>
</li>
<li>
<p>Dans la liste d&eacute;roulante H&ocirc;te JMS par d&eacute;faut, s&eacute;lectionnez le nom de l'h&ocirc;te JMS par d&eacute;faut.</p>
<p>La valeur par d&eacute;faut est <code>default_JMS_host</code>.</p>
</li>
<li>
<p>Dans la liste d&eacute;roulante Comportement de la liste d'adresses, s&eacute;lectionnez l'ordre des tentatives de connexion.</p>
<ul>
<li>
<p><code>random</code> signifie qu'une adresse est s&eacute;lectionn&eacute;e au hasard dans AddressList.</p>
<p>Si un grand nombre de clients tentent de se connecter en utilisant la m&ecirc;me fabrique de connexions, choisissez <code>random</code> pour &eacute;viter qu'ils ne soient tous connect&eacute;s &agrave; la m&ecirc;me adresse. Il s'agit de l'option par d&eacute;faut.</p>
</li>
<li>
<p><code>priority</code> signifie que le processus de reconnexion tentera toujours de se connecter &agrave; la premi&egrave;re adresse de serveur dans AddressList et n'utilisera une autre adresse que si le premier broker n'est pas disponible.</p>
</li>
</ul>
</li>
<li>
<p>Dans le champ It&eacute;rations de la liste d'adresses, indiquez le nombre d'it&eacute;rations du service JMS dans AddressList en vue d'&eacute;tablir (ou de r&eacute;tablir) une connexion.</p>
<p>La valeur -1 indique que le nombre de tentatives est illimit&eacute;. La valeur par d&eacute;faut est 3.</p>
</li>
<li>
<p>Dans les champs Sch&eacute;ma MQ et Service MQ, saisissez le nom du sch&eacute;ma d'adresses et du service de connexion Message Queue si un sch&eacute;ma ou un service non d&eacute;fini par d&eacute;faut doit &ecirc;tre utilis&eacute;.</p>
<p>Pour plus d'informations sur la syntaxe, reportez-vous &agrave; <a href="ref-mqschemeservice.html">Syntaxe d'adresse du sch&eacute;ma MQ et du service MQ</a>.</p>
</li>
<li>
<p>Dans la zone Autres propri&eacute;t&eacute;s, sp&eacute;cifiez les propri&eacute;t&eacute;s suppl&eacute;mentaires du service JMS.</p>
<p>Pour plus d'informations sur les propri&eacute;t&eacute;s disponibles, reportez-vous &agrave; <a href="ref-jmsservice-additional-props.html">Propri&eacute;t&eacute;s propres au service JMS</a>.</p>
<ul>
<li>
<p>Pour ajouter une propri&eacute;t&eacute;, cliquez sur le bouton Ajouter une propri&eacute;t&eacute;. Sur la ligne vide qui appara&icirc;t, saisissez le nom de la propri&eacute;t&eacute; dans le champ Nom et la valeur de la propri&eacute;t&eacute; dans le champ Valeur.</p>
</li>
<li>
<p>Pour modifier une propri&eacute;t&eacute;, modifiez le champ Valeur de cette propri&eacute;t&eacute;.</p>
</li>
<li>
<p>Pour supprimer une propri&eacute;t&eacute;, s&eacute;lectionnez la case situ&eacute;e &agrave; gauche du champ Nom de la propri&eacute;t&eacute; &agrave; supprimer, puis cliquez sur le bouton Supprimer des propri&eacute;t&eacute;s.</p>
</li>
</ul>
</li>
<li>
<p>Cliquez sur Ping pour v&eacute;rifier que le service JMS est en cours d'ex&eacute;cution sur l'h&ocirc;te JMS par d&eacute;faut.</p>
<p>Si le service JMS est en fonctionnement, un message signale que la commande ping a abouti.</p>
</li>
<li>
<p>Cliquez sur Enregistrer.</p>

<hr>
<p><b>Conseil:</b></p>
Pour revenir aux param&egrave;tres par d&eacute;faut, cliquez sur le bouton Charger les valeurs par d&eacute;faut, puis sur Enregistrer.
<hr>

</li>
</ol>
<a id="sthref21" name="sthref21"></a>
<h5>Acc&egrave;s aux serveurs distants</h5>
<p>Si vous remplacez le fournisseur et l'h&ocirc;te par un syst&egrave;me distant, toutes les applications JMS utiliseront le serveur distant. Pour utiliser &agrave; la fois le serveur local et des serveurs distants, cr&eacute;ez une ressource de fabrique de connexions avec la propri&eacute;t&eacute; <code>AddressList</code> , afin de cr&eacute;er des connexions ayant acc&egrave;s aux serveurs distants. Reportez-vous &agrave; <a href="task-jmsconnectionnew.html">Cr&eacute;ation d'une ressource de fabrique de connexions JMS</a>.</p>
<a id="sthref22" name="sthref22"></a>
<h5>Commande asadmin &eacute;quivalente</h5>
<p><code>jms-ping</code></p>
<a id="sthref23" name="sthref23"></a>
<h5>Voir aussi</h5>
<ul>
<li>
<p><a href="task-jmshostnew.html">Cr&eacute;ation d'un h&ocirc;te JMS</a></p>
</li>
<li>
<p><a href="task-jmshostedit.html">Modification d'un h&ocirc;te JMS</a></p>
</li>
<li>
<p><a href="task-jmshostdelete.html">Suppression d'un h&ocirc;te JMS</a></p>
</li>
<li>
<p><a href="task-jmsphysicaldestnew.html">Cr&eacute;ation d'une destination physique JMS</a></p>
</li>
<li>
<p><a href="task-jmsphysicaldestedit.html">Modification d'une destination physique JMS</a></p>
</li>
<li>
<p><a href="task-jmsphysicaldestdelete.html">Suppression d'une destination physique JMS</a></p>
</li>
<li>
<p><a href="task-jmsflushmessages.html">Suppression des messages d'une destination physique JMS</a></p>
</li>
<li>
<p><a href="task-jmsphysicaldeststats.html">Visualisation des statistiques d'une destination physique JMS</a></p>
</li>
</ul>


<small>Copyright &#169; 2005, 2013, Oracle and/or its affiliates. All rights reserved. <a href="docinfo.html">Legal Notices</a></small>
