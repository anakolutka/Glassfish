<!--   DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.

Copyright 2005, 2013 Oracle and/or its affiliates. All rights reserved.

Use is subject to License Terms  -->
<p><a id="task-configtransrecovery" name="task-configtransrecovery"></a></p>

<h4><a id="sthref4" name="sthref4"></a>Configuration de la r&eacute;cup&eacute;ration des transactions par GlassFish Server</h4>
<a name="BEGIN" id="BEGIN"></a>
<p>Les transactions peuvent &ecirc;tre incompl&egrave;tes en raison d'une panne du serveur ou du gestionnaire de ressources entre les phases d'une validation (commit) &agrave; deux phases. Il est essentiel de terminer ces transactions laiss&eacute;es de c&ocirc;t&eacute; et de pouvoir les r&eacute;cup&eacute;rer en cas de panne. GlassFish Server est con&ccedil;u pour r&eacute;cup&eacute;rer en cas de panne et terminer les transactions au d&eacute;marrage du serveur.</p>
<p>Avant l'ex&eacute;cution de la r&eacute;cup&eacute;ration, assurez-vous que toutes les ressources concern&eacute;es sont en fonctionnement.</p>
<p>Lorsque la transaction implique plusieurs serveurs, le serveur &agrave; l'origine de la transaction peut contacter les autres serveurs pour obtenir le r&eacute;sultat des transactions. Si les autres serveurs sont inaccessibles, la transaction utilise le champ D&eacute;cision heuristique pour d&eacute;terminer le r&eacute;sultat.</p>
<ol>
<li>
<p>Dans l'arborescence de navigation, d&eacute;veloppez le noeud Configuration.</p>
</li>
<li>
<p>S&eacute;lectionnez l'instance &agrave; configurer :</p>
<ul>
<li>
<p>Pour configurer une instance sp&eacute;cifique, s&eacute;lectionnez le noeud de configuration de l'instance. Par exemple, pour l'instance par d&eacute;faut, <code>server</code>, s&eacute;lectionnez le noeud <code>server-config</code>.</p>
</li>
<li>
<p>Pour configurer les param&egrave;tres par d&eacute;faut pour toutes les instances, s&eacute;lectionnez le noeud <code>default-config</code>.</p>
</li>
</ul>
</li>
<li>
<p>S&eacute;lectionnez le noeud Service de transaction.</p>
<p>La page Service de transaction appara&icirc;t.</p>
</li>
<li>
<p>Sur la page Service de transaction, cochez la case Activ&eacute; de l'option Au red&eacute;marrage pour activer la r&eacute;cup&eacute;ration des transactions incompl&egrave;tes.</p>
<p>Par d&eacute;faut, la case Activ&eacute; n'est pas coch&eacute;e.</p>
</li>
<li>
<p>Dans le champ Expiration des tentatives, saisissez le nombre de secondes pendant lesquelles GlassFish Server tente de se connecter &agrave; un serveur inaccessible.</p>
<p>La valeur par d&eacute;faut est 600 (10 minutes).</p>
</li>
<li>
<p>Dans la liste d&eacute;roulante D&eacute;cision heuristique, s&eacute;lectionnez la r&egrave;gle pour les serveurs inaccessibles dans une transaction.</p>
<p>A moins d'avoir une bonne raison de s&eacute;lectionner Valider, laissez l'option D&eacute;cision heuristique d&eacute;finie sur Annuler (par d&eacute;faut). La validation (commit) des transactions ind&eacute;termin&eacute;es risque de compromettre l'int&eacute;grit&eacute; des donn&eacute;es dans votre application.</p>
</li>
<li>
<p>Cliquez sur Enregistrer.</p>
</li>
<li>
<p>Red&eacute;marrez GlassFish Server.</p>
</li>
</ol>
<a id="sthref5" name="sthref5"></a>
<h5>Voir aussi</h5>
<ul>
<li>
<p><a href="task-configtransservice.html">Configuration du service de transaction</a></p>
</li>
<li>
<p><a href="task-settranstimeout.html">D&eacute;finition d'une valeur de temporisation de transaction</a></p>
</li>
<li>
<p><a href="task-settranslog.html">D&eacute;finition de l'emplacement des journaux des transactions</a></p>
</li>
<li>
<p><a href="task-setkeyptinterval.html">D&eacute;finition de l'intervalle entre points cl&eacute;s</a></p>
</li>
</ul>


<small>Copyright &#169; 2005, 2013, Oracle and/or its affiliates. All rights reserved. <a href="docinfo.html">Legal Notices</a></small>
