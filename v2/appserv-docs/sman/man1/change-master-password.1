<!DOCTYPE REFENTRY PUBLIC "-//Sun Microsystems//DTD DocBook V3.0-Based SolBook Subset V2.0//EN" [
<!--ArborText, Inc., 1988-1999, v.4002-->
<!ENTITY metainfo SYSTEM "metainfo.sgm">
<!ENTITY options-common SYSTEM "options-common.sgm">
<!ENTITY synopsis-common SYSTEM "synopsis-common.sgm">
<!ENTITY % commonents SYSTEM "smancommon.ent">
%commonents;
<!ENTITY % booktitles SYSTEM "booktitles.ent">
%booktitles;
<!ENTITY Dash "&ndash;">
]>
<?Pub UDT _bookmark _target>
<?Pub EntList brvbar bull cross dash diam diams frac12 frac13 frac14 hellip
 laquo lArr loz mdash nabla ndash para pound rArr raquo sect yen ne>
<?Pub Inc>
<refentry id="change-master-password-1">
<refmeta><refentrytitle>change-master-password</refentrytitle><manvolnum>
1</manvolnum>&metainfo;
</refmeta>
<refnamediv><indexterm><primary sortas="change-master-password">change-master-password &mdash;
changes the master password</primary></indexterm><indexterm><primary sortas="changes the master password">
changes the master password &mdash; change-master-password</primary></indexterm>
<refname>change-master-password</refname><refpurpose>changes the master password
</refpurpose></refnamediv>
<refsynopsisdiv><title>&synp-tt;</title>
<cmdsynopsis><command>change-master-password</command><arg choice="opt">&Dash;&Dash;domaindir <replaceable>
domain_path | </replaceable>&Dash;&Dash;agentdir <replaceable>node-agent_path
</replaceable></arg><arg choice="opt">&Dash;&Dash;savemasterpassword=<replaceable><?Pub Caret>
false</replaceable></arg><arg choice="opt"><replaceable>domain_name | node_agent_name
</replaceable></arg>
</cmdsynopsis></refsynopsisdiv>
<refsect1><title>&desc-tt;</title>
<para>This local command is used to modify the master password. <command>
change-master-password</command> is interactive in that the user is prompted
for the old master password, as well as the new master password. This command
will not work unless the server is stopped. In a distributed environment,
this command must run on each machine in the domain, with the node agent stopped.
</para>
</refsect1>
<refsect1><title>&opts-tt;</title>
<variablelist termlength="medium">
<varlistentry><term><option role="nodash">&Dash;&Dash;domaindir</option></term>
<listitem><para>This option specifies the directory used for this operation.
By default, the domaindir is $AS_DEF_DOMAINS_PATH, which is an environment
variable defined in asenv.bat/conf. Both the domaindir and the agentdir options
should not be passed together; use one or the other.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;agentdir</option></term>
<listitem><para>Like a DAS, each Node Agent resides in a top level directory
named &lt;agentdir>/&lt;nodeagent_name>. If the agentdir is not specified,
then $AS_DEF_DOMAINS_PATH/../nodeagents is used. Both the domaindir and the
agentdir options should not be passed together; use one or the other. </para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;savemasterpassword</option></term>
<listitem><para>This option indicates whether the master password should be
written to the file system. This is necessary so that start-domain can start
the server without having to prompt the user. WARNING: saving the master password
on disk is extremely dangerous and should be avoided. </para>
<para>NOTE: if <command>savemasterpassword</command> is not set, the master
password file, if it exists, will be deleted.</para>
</listitem></varlistentry>
</variablelist></refsect1>
<refsect1><title>&oper-tt;</title>
<variablelist termlength="medium">
<varlistentry><term><replaceable>domain_name</replaceable></term><listitem>
<para>This is the domain name whose password is to be changed. If there is
only a single domain, this is optional. </para>
</listitem></varlistentry>
<varlistentry><term><replaceable>node_agent_name</replaceable></term><listitem>
<para>This is the name of the node agent whose password is to be changed. 
</para>
</listitem></varlistentry>
</variablelist></refsect1>
<refsect1><title>&exam-tt;</title>
<example>
<title>Using the change-master-password command</title>
<para>Remember to use the <command>asadmin login</command> command before
you use the <command>change-master-password</command> command.</para>
<screen>asadmin><userinput>change-master-password domain44ps</userinput>
Please enter the new master password>
Please enter the new master password again>
Master password changed for domain44ps</screen>
</example>
</refsect1>
<refsect1><title>&exit-tt;</title>
<variablelist termlength="medium">
<varlistentry><term>0</term><listitem><para>command executed successfully
</para>
</listitem></varlistentry>
<varlistentry><term>1</term><listitem><para>error in executing the command
</para>
</listitem></varlistentry>
</variablelist></refsect1>
<refsect1><title>&also-tt;</title>
<para><link linkend="delete-password-alias-1"><citerefentry><refentrytitle>
delete-password-alias</refentrytitle><manvolnum>1</manvolnum></citerefentry></link>, <link
linkend="list-password-aliases-1"><citerefentry><refentrytitle>list-password-aliases
</refentrytitle><manvolnum>1</manvolnum></citerefentry></link>, <link linkend="update-password-alias-1"><citerefentry>
<refentrytitle>update-password-alias</refentrytitle><manvolnum>1</manvolnum>
</citerefentry></link></para>
</refsect1>
</refentry>
<?Pub *0000005370>
