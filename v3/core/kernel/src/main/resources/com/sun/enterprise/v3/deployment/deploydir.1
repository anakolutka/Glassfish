
Administration Commands                              deploydir(1)

NAME
     deploydir  -  deploys  an  exploded  format  of  application
     archive

SYNOPSIS
     deploydir
     [--terse={true|false}][ --echo={true|false} ]
     [ --interactive={true|false} ] [ --host  host]
     [--port port] [--secure| -s ] [ --user  admin_user]
     [--passwordfile filename] [--help]
     [ --virtualservers  virtual_servers]
     [--contextroot context_root] [--force=true]
     [ --verify =false] [ --precompilejsp =false]
     [ --name  component_name] [--uniquetablenames=true|false]
     [--dbvendorname dbvendorname] [--createtables=false |  --dropandcreatetables =false]
     [ --generatermistubs =false] [ --availabilityenabled =false]
     [ --libraries  jar_file[(path_separator)jar_file*]]
     [--target target] dirpath

DESCRIPTION
     Note -

       This command is  deprecated.  Use  the  deploy(1)  command
       instead.

     Use this command to deploy an application  directly  from  a
     development  directory.  The appropriate directory hierarchy
     and deployment descriptors conforming to the Java EE specif-
     ication must exist in the deployment directory.

     Directory deployment is for advanced developers only. Do not
     use  it  in  production environments. In production environ-
     ments, use the deploy command. Directory deployment is  only
     supported  on localhost, that is, the client and server must
     reside on the same machine. For this reason, the only values
     for the --host option are:

         o    localhost

         o    The value of the $HOSTNAME environment variable

         o    The IP address of the machine

     If   the   --uniquetablenames,   --createtables,   and    --
     dropandcreatetables  options  are not specified, the entries
     in the deployment descriptors are used.

Java EE 5           Last change: 28 Mar 2007                    1

Administration Commands                              deploydir(1)

     The --force option makes sure the  component  is  forcefully
     (re)deployed  even  if  the  specified component has already
     been deployed or already exists. Set --force to false for  a
     first  deployment. If the application with that name is run-
     ning and force is set to false, the command fails.

     This command is supported in remote mode only.

OPTIONS
     -t --terse

         Indicates that any output data  must  be  very  concise,
         typically avoiding human-friendly sentences and favoring
         well-formatted data for consumption by a script. Default
         is false.

     -e --echo
         If set to true, the command-line statement is echoed  on
         the standard output. Default is false.

     -I --interactive

         If set to true (default),  only  the  required  password
         options are prompted.

     -H --host
         The machine name where the domain administration  server
         is running. The default value is localhost.

     -p --port

         The HTTP port or HTTPS  port  for  administration.  This
         port is the port in the URL that you specify in your web
         browser   to   manage   the   domain,    for    example,
         http://localhost:8080/admin.

     -s --secure
         If set to true, uses SSL/TLS  to  communicate  with  the
         domain administration server.

     -u --user

         The user name of the authorized administrative  user  of
         the domain administration server.

         If you have authenticated  to  a  domain  by  using  the

Java EE 5           Last change: 28 Mar 2007                    2

Administration Commands                              deploydir(1)

         asadmin  login  command, you need not specify the --user
         option for subsequent operations on the domain.

     --passwordfile

         Specifies the name, including the full path, of  a  file
         that contains the password entries in a specific format.

         The entry for a password must have the AS_ADMIN_  prefix
         followed  by the password name in uppercase letters. For
         example, to specify the password for the domain adminis-
         tration server, use an entry with the following format:

           AS_ADMIN_PASSWORD=password

         In this example, password is  the  actual  administrator
         password.

         The following other passwords can also be specified:

             o    AS_ADMIN_MAPPEDPASSWORD

             o    AS_ADMIN_USERPASSWORD

             o    AS_ADMIN_ALIASPASSWORD
         All remote  commands  must  specify  the  administration
         password  to  authenticate  to the domain administration
         server. The password can be specified by one of the fol-
         lowing means:

             o    Through the --passwordfile option

             o    Through the asadmin login command

             o    Interactively at the command prompt
         The asadmin login command can be used  only  to  specify
         the  administration  password.  For other passwords that
         remote commands require, use the  --passwordfile  option
         or specify them at the command prompt.

         After authenticating to a domain by  using  the  asadmin
         login  command,  you need not specify the administration
         password through the --passwordfile  option  for  subse-
         quent  operations  on  the  domain.  However,  only  the
         AS_ADMIN_PASSWORD option is not required. You still must
         provide    the    other    passwords,    for    example,
         AS_ADMIN_USERPASSWORD, when required by individual  com-
         mands, such as update-file-user.

         For security reasons, a password that is specified as an
         environment variable is not read by the asadmin command.

Java EE 5           Last change: 28 Mar 2007                    3

Administration Commands                              deploydir(1)

         The  default  value   for   AS_ADMIN_MASTERPASSWORD   is
         changeit.

     --help

         Displays the help text for the command.

     --virtualservers
         Comma-separated list of virtual server IDs.

     --contextroot

         Valid only if the archive is a web module. It is ignored
         for  other  archive  types; defaults to filename without
         extension.

     --force
         Makes sure the component is forcefully (re)deployed even
         if  the specified component has already been deployed or
         already exists.

     --verify

         If set to true, the syntax and semantics of the  deploy-
         ment descriptor is verified.

     --precompilejsp
         By default, this option is set to false, which does  not
         allow the JSP to pre-compile during deployment. Instead,
         JSPs are compiled during runtime.

     --name

         Name of the deployable component.

     --uniquetablenames
         Guarantees unique table names  for  all  the  beans  and
         results  in a hashcode added to the table names. This is
         useful if you have an  application  with  case-sensitive
         bean names.

     --dbvendorname

         Specifies the name of  the  database  vendor  for  which

Java EE 5           Last change: 28 Mar 2007                    4

Administration Commands                              deploydir(1)

         tables are created. Supported values include db2, mssql,
         oracle, derby, javadb, postgresql, pointbase and sybase,
         case-insensitive.  If  not  specified,  the value of the
         database-vendor-name  attribute  in  sun-ejb-jar.xml  is
         used.  If no value is specified, a connection is made to
         the resource specifie by the jndi-name subelement of the
         cmp-resource  element  in  the sun-ejb-jar.xml file, and
         the database vendor name is read. If the connection can-
         not  be  established, or if the value is not recognized,
         SQL-92 compliance is presumed.

     --createtables

         Creates tables at  deployment  of  an  application  with
         unmapped  CMP  beans.  Default  is the create-tables-at-
         deploy entry in the cmp-resource  element  of  the  sun-
         ejb-jar.xml file.

     --dropandcreatetables
         Drops existing tables and creates tables during  deploy-
         ment  for  application  using unmapped CMP beans. If not
         specified, the tables are dropped  if  the  drop-tables-
         at-undeploy  entry  in  the  cmp-resource element of the
         sun-ejb-jar.xml file is set to true. The new tables  are
         created  if  the  create-tables-at-deploy  entry  in the
         cmp-resource element of the sun-ejb-jar.xml  is  set  to
         true.  When  the  component  is  redeployed,  the tables
         created by the previous deployment  are  dropped  before
         creating the new tables.

     --generatermistubs

         if set to true, static RMI-IIOP stubs are generated  and
         put  into  the client.jar. If set to false (default) the
         stubs are not generated.

     --availabilityenabled
         This option is valid only in domains that are configured
         to  support  clusters,  such as domains that are created
         with the cluster profile or the enterprise profile. This
         option controls whether high-availability is enabled for
         SFSB checkpointing and potentially passivation.  If  set
         to  false  (default)  all SFSB checkpointing is disabled
         for the specified application or EJB module. If  set  to
         true, the specified application or module is enabled for
         high-availability. Set this option to true only if  high
         availability is configured and enabled at higher levels,
         such as the server and container levels.

Java EE 5           Last change: 28 Mar 2007                    5

Administration Commands                              deploydir(1)

     --libraries

         Specify the library JAR files by their relative or abso-
         lute   paths.   Specify   relative   paths  relative  to
         instance-root/lib/applibs. The JAR files  are  separated
         by  a colon on Unix and Linux systems and by a semicolon
         on Windows systems.  The libraries are made available to
         the application in the order specified. Place the depen-
         dent JAR files in the domain-dir/lib directory.

     --target
         This option is valid only in domains that are configured
         to  support  clusters,  such as domains that are created
         with the cluster  profile  or  the  enterprise  profile.
         Specifies  the  target to which you are deploying. Valid
         values are:

         server

             Deploys the component to the default server instance
             server and is the default value.

         domain
             Deploys the component to the domain.

OPERANDS
     dirpath

         Path to the directory containing the exploded format  of
         the deployable archive.

EXAMPLES
     Example 1 Using the deploydir command

     The  exploded  application  to  be  deployed   is   in   the
     /home/temp/sampleApp  directory.  Since  the force option is
     set to true, if an application of that name already  exists,
     the application is redeployed.

       asadmin> deploydir --user admin --passwordfile passwords.txt
       --host localhost --port 4848 --force=true --precompilejsp=true /home/temp/sampleApp
       Command deploydir executed successfully

Java EE 5           Last change: 28 Mar 2007                    6

Administration Commands                              deploydir(1)

EXIT STATUS
     0                           command executed successfully

     1                           error in executing the command

SEE ALSO
     deploy(1), disable(1), enable(1), list-components(1),  rede-
     ploy(1), undeploy(1)

Java EE 5           Last change: 28 Mar 2007                    7

