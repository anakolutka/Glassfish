User Commands                              configure-lb-weight(1)

NAME
     configure-lb-weight  -  sets  load  balancing  weights   for
     clustered instances

SYNOPSIS
     configure-lb-weight   --user   admin_user    [--passwordfile
     filename]  [--host localhost] [--port 4849] [--secure|-s] [-
     -terse=false] [--echo=false]  [--interactive=true]  [--help]
     --cluster    cluster_name    instance-name=weight[:instance-
     name=weight]

DESCRIPTION
     The configure-lb-weight command assigns weight to the server
     instances  in  a  cluster.  Weights  can  be  used for HTTP,
     RMI/IIOP and JMS load balancing. For the HTTP load balancer,
     the  weights  are used only if the load balancer's policy is
     set to weighted-round-robin.  The load  balancer  policy  is
     set in the create-http-lb-ref command or set command.

     Use the weight to vary the load going to different instances
     in  the cluster. For example, if an instance is on a machine
     with more capacity, give it a higher  weight  so  that  more
     requests are sent to that instance by the load balancer. The
     default weight is 100. If all  instances  have  the  default
     weight,  the  load balancer performs simple round robin load
     balancing.

OPTIONS
     -u --user               The authorized domain administration
                             server administrative username.

     -w --password           The --password option is deprecated.
                             Use --passwordfile instead.

     --passwordfile          This option replaces the  --password
                             option.  Using the --password option
                             on the command line or  through  the
                             environment  is  deprecated.  The --
                             passwordfile  option  specifies  the
                             name of a file  containing the pass-
                             word entries in a specified  format.
                             The  entry  for  the  password  must
                             have the AS_ADMIN_  prefix  followed
                             by  the  password  name  in  capital
                             letters.  For  example,  to  specify
                             the   domain  administration  server
                             password, use  an  entry   with  the
                             following                    format:

                             AS_ADMIN_PASSWORD=password,    where
                             password is the actual administrator
                             password. Other passwords  that  can
                             be         specified         include
                             AS_ADMIN_MAPPEDPASSWORD,
                             AS_ADMIN_USERPASSWORD,
                             AS_ADMIN_MQPASSWORD, and so on.

     -H --host               The machine name  where  the  domain
                             administration  server  is  running.
                             The default value is localhost.

     -p --port               The  port  number  of   the   domain
                             administration  server listening for
                             administration requests. The default
                             port  number  for Enterprise Edition
                             is 4849.

     -s --secure             If set to true, uses SSL/TLS to com-
                             municate with the domain administra-
                             tion server.

     -t --terse              Indicates that any output data  must
                             be  very concise, typically avoiding
                             human-friendly sentences and  favor-
                             ing well-formatted data for consump-
                             tion by a script. Default is false.

     -e --echo               Setting to true will echo  the  com-
                             mand  line statement on the standard
                             output. Default is false.

     -I --interactive        If set to true (default),  only  the
                             required    password   options   are
                             prompted.

     -h --help               Displays the help text for the  com-
                             mand.

     --cluster               The name of the cluster.

OPERANDS
     instance-name=weight    The name of  the  instance  and  the
                             weight  you  are  assigning  it. The
                             weight must be an integer. The pairs
                             of   instances   and   weights   are
                             separated  by  colons.  For  example
                             instance1=1:instance2=4  means  that
                             for every five requests, one goes to
                             instance1  and four go to instance2.
                             A weight of 1 is the default.

EXAMPLES
     Example 1: Using the configure-lb-weight command

     The following command assigns weights of  1,  1,  and  2  to
     instances i1, i2, and i3 in the cluster1 cluster.

     asadmin> configure-lb-weight --user admin --passwordfile passwords.txt
     --cluster cluster1 i1=1:i2=1:i3=2
     Command configure-lb-weight executed successfully.

EXIT STATUS
     0                       command executed successfully

     1                       error in executing the command

SEE ALSO
     create-http-lb-ref(1)create-cluster(1)
