<!DOCTYPE REFENTRY PUBLIC "-//Sun Microsystems//DTD DocBook V3.0-Based SolBook Subset V2.0//EN" [
<!--ArborText, Inc., 1988-1999, v.4002-->
<!ENTITY ERROR-CODES "ERROR CODES">
<!ENTITY Date "22 Dec 2004">
<!ENTITY SectDesc "User Commands">
<!ENTITY Software "J2EE SDK 1.4">
<!ENTITY arch "generic">
<!ENTITY copyright "Copyright (c) 2004, Sun Microsystems, Inc. All Rights Reserved">
<!ENTITY exam-tt "EXAMPLES">
<!ENTITY options-common SYSTEM "options-common.sgm">
<!ENTITY synopsis-common SYSTEM "synopsis-common.sgm">
<!ENTITY metainfo SYSTEM "metainfo.sgm">
<!ENTITY sjsas "Sun Java System Application Server">
<!ENTITY attr-tt "ATTRIBUTES">
<!ENTITY opts-tt "OPTIONS">
<!ENTITY % commonents SYSTEM "smancommon.ent">
%commonents;
<!ENTITY % booktitles SYSTEM "booktitles.ent">
%booktitles;
<!ENTITY Dash "&ndash;">
]>
<?Pub UDT _bookmark _target>
<?Pub Inc>
<refentry id="recover-transactions-1">
<refmeta><refentrytitle>recover-transactions</refentrytitle><manvolnum>1</manvolnum>
<refmiscinfo class="date">&Date;</refmiscinfo>
<refmiscinfo class="sectdesc">&SectDesc;</refmiscinfo>
<refmiscinfo class="software">&Software;</refmiscinfo>
<refmiscinfo class="arch">&arch;</refmiscinfo>
<refmiscinfo class="copyright">&copyright;</refmiscinfo>
</refmeta>
<refnamediv><indexterm><primary sortas="recover transactions">recover transactions &mdash;
manually recovers pending transactions</primary></indexterm><indexterm><primary
sortas="manually recovers pending transactions">manually recovers pending
transactions &mdash; recover transactions</primary></indexterm><refname>recover
transactions</refname><refpurpose>manually recovers pending transactions</refpurpose>
</refnamediv>
<refsynopsisdiv><title>&synp-tt;</title>
<cmdsynopsis><command>recover-transactions</command><arg choice="opt">&Dash;&Dash;terse=<replaceable>
false</replaceable></arg><arg choice="opt">&Dash;&Dash;echo=<replaceable>
false</replaceable></arg><arg choice="opt">&Dash;&Dash;interactive=<replaceable>
true</replaceable></arg><arg choice="opt">&Dash;&Dash;host <replaceable>localhost
</replaceable></arg><arg choice="opt">&Dash;&Dash;port <replaceable>port_number
</replaceable></arg><arg choice="opt">&Dash;&Dash;user <replaceable>admin_user
</replaceable></arg><arg choice="opt">&Dash;&Dash;passwordfile <replaceable>
filename</replaceable></arg><arg choice="opt">&Dash;&Dash;secure=<replaceable>
false</replaceable></arg><arg>&Dash;&Dash;delegatedrecovery=<replaceable>
false</replaceable></arg><arg choice="opt">&Dash;&Dash;txlogdir <replaceable>
transaction_log_dir </replaceable></arg><arg choice="opt">&Dash;&Dash;destination <replaceable>
destination_server_name </replaceable></arg><arg choice="plain"><replaceable>
server_name</replaceable></arg>
</cmdsynopsis></refsynopsisdiv>
<refsect1><title>&desc-tt;</title>
<para>The function of this command is to manually recover pending transactions.
This is used in remote mode only.</para>
</refsect1>
<refsect1><title>&opts-tt;</title>
<variablelist termlength="medium">
<varlistentry><term><option role="nodash">&Dash;u</option> <option role="nodash">&Dash;&Dash;user 
</option></term><listitem><para>The authorized domain application server administrative
username.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;w</option> <option role="nodash">&Dash;&Dash;password 
</option></term><listitem><para>The <option role="nodash">&ndash;&ndash;password
</option> option is deprecated. Use <option role="nodash">&ndash;&ndash;passwordfile
</option> instead.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;passwordfile </option></term>
<listitem><para>The name of the file containing the domain application server
password. The passwordfile should contain either of the following entries:
AS_ADMIN_PASSWORD=<replaceable>password</replaceable> or AS_ADMIN_MAPPEDPASSWORD=<replaceable>
password</replaceable>. If this option is not called directly, you will be
prompted for it before the requested action is completed.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;H</option>.<option role="nodash">&Dash;&Dash;host 
</option></term><listitem><para>The machine name where the the domain application
server is running.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;p</option>.<option role="nodash">&Dash;&Dash;port 
</option></term><listitem><para>The port number of the domain application
server listening for administration requests.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;s</option>.<option role="nodash">&Dash;&Dash;secure 
</option></term><listitem><para>If set to true, this command uses SSL/TLS
to communicate with the domain application server.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;t</option>.<option role="nodash">&Dash;&Dash;terse 
</option></term><listitem><para>Indicates that any output data must be very
concise, typically avoiding human-friendly sentences and favoring well-formatted
data for consumption by a script. The default is false.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;e</option>.<option role="nodash">&Dash;&Dash;echo 
</option></term><listitem><para>Setting this option to true will echo the
command line statement on the standard output. The default is false.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;I</option>.<option role="nodash">&Dash;&Dash;interactive 
</option></term><listitem><para>If this option is set to true (default), only
the required password options are prompted.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;delegatedrecovery</option></term>
<listitem><para>When the delegated-recovery is set to false (the default),
transaction recovery is done at the running server. When the delegated-recovery
is set to true, another server performs the recovery for the failed server.
If the command is set to true and there is no server-related data, the DAS
does the delegated recovery.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;transactionlogdir</option></term>
<listitem><para>When a server fails it writes the location in its transaction
log. This option is required if the &ndash;delegetedrecovery option is set
to true. If the failed server's transaction logs are copied to some other
location to make it available to the surrogate recovery server, this option
should be used. If the failed server's transaction-service, tx-log-dir is
modified to reflect a new location, then this option is not required.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;recoveryserverid</option></term>
<listitem><para>This option is the server identification id or token for the
failed server. This option is required if the &ndash;delegaterecovery option
is set to true. This option is not necessary if the recovery_server_name operand
can giv a hint of the recovery_server_id. The recoveryserverid option is not
only used in recovery but it is also used in the creation of the XIDand later
used to recognize the XIDs that belong to this server. </para>
</listitem></varlistentry>
</variablelist></refsect1>
<refsect1><title>&oper-tt;</title>
<variablelist termlength="medium">
<varlistentry><term><replaceable>s<?Pub Caret1>erver_name</replaceable></term>
<listitem><para>This is the name of the server that failed. It is this server
that is losting the transaction that will be recovered.</para>
</listitem></varlistentry>
</variablelist></refsect1>
<refsect1><title>&exam-tt;</title>
<example>
<title>Using recover-transactions</title>
<para></para>
<screen>asadmin><userinput>recover-transactions serverid1</userinput>
Transaction recovered.


</screen>
</example>
</refsect1>
<refsect1><title>&exit-tt;</title>
<variablelist>
<varlistentry><term>0</term><listitem><para>command executed successfully
</para>
</listitem></varlistentry>
<varlistentry><term>1</term><listitem><para>error in executing the command
</para>
</listitem></varlistentry>
</variablelist></refsect1>
<refsect1><title>&also-tt;</title>
<para><link linkend="relatedCommand-1"><citerefentry><refentrytitle>none</refentrytitle>
</citerefentry></link></para>
</refsect1>
</refentry>
<?Pub *0000008376>
