User Commands                                   delete-cluster(1)

NAME
     delete-cluster - deletes a cluster

SYNOPSIS
     delete-cluster --user admin_user  [--passwordfile  filename]
     [--host   localhost]   [--port   4849]   [--secure|-s]   [--
     terse=false]  [--echo=false]  [--interactive=true]  [--help]
     [--autohadboverride true|false] cluster_name

DESCRIPTION
     The delete-cluster command deletes a cluster. A cluster  can
     be deleted only if it contains no server instances. Stop and
     delete all server instances in the cluster  before  deleting
     the cluster.

     If a standalone cluster is deleted (that is,  the  cluster's
     configuration name is cluster_name-config and no other clus-
     ters or unclustered instances refer to this  configuration),
     then  its standalone configuration is automatically deleted.
     In Sun Java System Application  Server  Enterprise  Edition,
     the  HADB  database  associated  with  a cluster can also be
     deleted when the cluster  is  deleted,  depending  upon  the
     cluster's autohadb setting and whether you override it using
     this command's autohadboverride option.

     This command is supported in remote mode only.

OPTIONS
     -u --user               The authorized domain administration
                             server administrative username.

     -w --password           The --password option is deprecated.
                             Use --passwordfile instead.

     --passwordfile          This option replaces the  --password
                             option.  Using the --password option
                             on the command line or  through  the
                             environment  is  deprecated.  The --
                             passwordfile  option  specifies  the
                             name of a file  containing the pass-
                             word entries in a specified  format.
                             The  entry  for  the  password  must
                             have the AS_ADMIN_  prefix  followed
                             by  the  password  name  in  capital
                             letters.  For  example,  to  specify
                             the   domain  administration  server
                             password, use  an  entry   with  the
                             following                    format:

                             AS_ADMIN_PASSWORD=password,    where
                             password is the actual administrator
                             password. Other passwords  that  can
                             be         specified         include
                             AS_ADMIN_MAPPEDPASSWORD,
                             AS_ADMIN_USERPASSWORD,
                             AS_ADMIN_MQPASSWORD, and so on.

     -H --host               The machine name  where  the  domain
                             administration  server  is  running.
                             The default value is localhost.

     -p --port               The  port  number  of   the   domain
                             administration  server listening for
                             administration requests. The default
                             port  number  for Enterprise Edition
                             is 4849.

     -s --secure             If set to true, uses SSL/TLS to com-
                             municate with the domain administra-
                             tion server.

     -t --terse              Indicates that any output data  must
                             be  very concise, typically avoiding
                             human-friendly sentences and  favor-
                             ing well-formatted data for consump-
                             tion by a script. Default is false.

     -e --echo               Setting to true will echo  the  com-
                             mand  line statement on the standard
                             output. Default is false.

     -I --interactive        If set to true (default),  only  the
                             required    password   options   are
                             prompted.

     -h --help               Displays the help text for the  com-
                             mand.

     --hadboverride          This option is available only in the
                             Sun  Java  System Application Server
                             Enterprise Edition. The hadboverride
                             option  determines  whether to over-
                             ride the cluster's setting  for  the
                             autohadb  option.   When the cluster
                             was created, the autohadb option was
                             set to signal whether the HADB data-
                             base  associated  with  the  cluster
                             would   be   started,   stopped,  or
                             deleted   when   the   cluster   was
                             started,  stopped,  or  deleted. You
                             can override this  value  using  the
                             hadboverride  option.   If hadbover-
                             ride is set to true, the HADB  data-
                             base  is deleted when the cluster is
                             deleted. If set to false,  the  HADB
                             database  is  not  deleted  when the
                             cluster is deleted. If the hadbover-
                             ride  option is not set, the default
                             is to  use  the  cluster's  autohadb
                             setting.

OPERANDS
     cluster_name            The  name  of  the  cluster  to   be
                             deleted.

EXAMPLES
     Example 1: Using the delete-cluster command

     The following command deletes the cluster  named  MyCluster.
     The  same  command also automatically deletes the configura-
     tion named MyCluster-config.

     asadmin> delete-cluster --user admin1
     --passwordfile passwords.txt MyCluster
     Command delete-cluster executed successfully.

EXIT STATUS
     0                       command executed successfully

     1                       error in executing the command

SEE ALSO
     create-cluster(1),    list-clusters(1),    start-cluster(1),
     stop-cluster(1), stop-instance(1)
