<!DOCTYPE REFENTRY PUBLIC "-//Sun Microsystems//DTD DocBook V3.0-Based SolBook Subset V2.0//EN" [
<!--ArborText, Inc., 1988-1999, v.4002-->
<!ENTITY metainfo SYSTEM "metainfo.sgm">
<!ENTITY options-common SYSTEM "options-common.sgm">
<!ENTITY synopsis-common SYSTEM "synopsis-common.sgm">
<!ENTITY % commonents SYSTEM "smancommon.ent">
%commonents;
<!ENTITY % booktitles SYSTEM "booktitles.ent">
%booktitles;
<!ENTITY Dash "&ndash;">
]>
<?Pub UDT _bookmark _target>
<?Pub EntList brvbar bull cross dash diam diams frac12 frac13 frac14 hellip
 laquo lArr loz mdash nabla ndash para pound rArr raquo sect yen ne>
<?Pub Inc>
<refentry id="configure-lb-weight-1">
<refmeta><refentrytitle>configure-lb-weight</refentrytitle><manvolnum>1</manvolnum>&metainfo;
</refmeta>
<refnamediv><indexterm><primary sortas="configure-lb-weight">configure-lb-weight &mdash;
sets load balancing weights for clustered instances</primary></indexterm>
<indexterm><primary sortas="sets load balancing weights for clustered instances">
sets load balancing weights for clustered instances &mdash; configure-lb-weight
</primary></indexterm><refname>configure-lb-weight</refname><refpurpose>sets
load balancing weights for clustered instances</refpurpose></refnamediv>
<refsynopsisdiv><title>&synp-tt;</title>
<cmdsynopsis><command>configure-lb-weight</command>&synopsis-common;
<arg choice="plain">&Dash;&Dash;cluster <replaceable>cluster_name</replaceable></arg>
<arg choice="plain"><replaceable>instance-name</replaceable>=<replaceable>
weight</replaceable>[:<replaceable>instance-name</replaceable>=<replaceable>
weight</replaceable>]</arg>
</cmdsynopsis></refsynopsisdiv>
<refsect1><title>&desc-tt;</title>
<para>The <command>configure-lb-weight</command> command assigns weight to
the server instances in a cluster. Weights can be used for HTTP, RMI/IIOP
and JMS load balancing. For the HTTP load balancer, the weights are used only
if the load balancer's policy is set to <literal>weighted-round-robin</literal>.
The load balancer policy is set in the <command>create-http-lb-ref</command>
command or <command>set</command> command<?Pub Caret>.</para>
<para>Use the weight to vary the load going to different instances in the
cluster. For example, if an instance is on a machine with more capacity, give
it a higher weight so that more requests are sent to that instance by the
load balancer. The default weight is 100. If all instances have the default
weight, the load balancer performs simple round robin load balancing. </para>
</refsect1>
<refsect1><title>&opts-tt;</title>
<variablelist termlength="medium">&options-common;
<varlistentry><term><option role="nodash">&Dash;&Dash;cluster</option></term>
<listitem><para>The name of the cluster.</para>
</listitem></varlistentry>
</variablelist></refsect1>
<refsect1><title>&oper-tt;</title>
<variablelist termlength="medium">
<varlistentry><term><option role="nodash">instance-name=weight</option></term>
<listitem><para>The name of the instance and the weight you are assigning
it. The weight must be an integer. The pairs of instances and weights are
separated by colons. For example <literal>instance1=1:instance2=4</literal>
means that for every five requests, one goes to instance1 and four go to instance2.
A weight of 1 is the default. </para>
</listitem></varlistentry>
</variablelist></refsect1>
<refsect1><title>&exam-tt;</title>
<example>
<title>Using the configure&ndash;lb&ndash;weight command</title>
<para>The following command assigns weights of 1, 1, and 2 to instances i1,
i2, and i3 in the cluster1 cluster.</para>
<screen>asadmin> <userinput>configure-lb-weight --user admin --passwordfile passwords.txt 
--cluster cluster1 i1=1:i2=1:i3=2</userinput>
Command configure-lb-weight executed successfully.

</screen>
</example>
</refsect1>
<refsect1><title>&exit-tt;</title>
<variablelist termlength="medium">
<varlistentry><term>0</term><listitem><para>command executed successfully
</para>
</listitem></varlistentry>
<varlistentry><term>1</term><listitem><para>error in executing the command
</para>
</listitem></varlistentry>
</variablelist></refsect1>
<refsect1><title>&also-tt;</title>
<para><link linkend="create-http-lb-ref-1"><citerefentry><refentrytitle>create-http-lb-ref
</refentrytitle><manvolnum>1</manvolnum></citerefentry></link><link linkend="create-cluster-1"><citerefentry>
<refentrytitle>create-cluster</refentrytitle><manvolnum>1</manvolnum></citerefentry></link></para>
</refsect1>
</refentry>
<?Pub *0000004847>
