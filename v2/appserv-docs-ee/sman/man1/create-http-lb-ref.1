<!DOCTYPE REFENTRY PUBLIC "-//Sun Microsystems//DTD DocBook V3.0-Based SolBook Subset V2.0//EN" [
<!--ArborText, Inc., 1988-1999, v.4002-->
<!ENTITY metainfo SYSTEM "metainfo.sgm">
<!ENTITY options-common SYSTEM "options-common.sgm">
<!ENTITY synopsis-common SYSTEM "synopsis-common.sgm">
<!ENTITY % commonents SYSTEM "smancommon.ent">
%commonents;
<!ENTITY % booktitles SYSTEM "booktitles.ent">
%booktitles;
<!ENTITY Dash "&ndash;">
]>
<?Pub UDT _bookmark _target>
<?Pub Inc>
<refentry id="create-http-lb-ref-1">
<refmeta><refentrytitle>create-http-lb-ref</refentrytitle><manvolnum>1</manvolnum>&metainfo;
</refmeta>
<refnamediv><indexterm><primary sortas="create-http-lb-ref">create-http-lb-ref &mdash;
add an existing cluster or server instance to an existing load balancer configuration
</primary></indexterm><indexterm><primary sortas="add an existing cluster or server instance to an existing load balancer configuration">
add an existing cluster or server instance to an existing load balancer configuration &mdash;
create-http-lb-ref</primary></indexterm><refname>create-http-lb-ref</refname>
<refpurpose>adds an existing cluster or server instance to an existing load
balancer configuration</refpurpose></refnamediv>
<refsynopsisdiv><title>&synp-tt;</title>
<cmdsynopsis><command>create-http-lb-ref</command>&synopsis-common;
<arg choice="plain">&Dash;&Dash;config <replaceable>config_name</replaceable></arg>
<arg choice="opt">&Dash;&Dash;lbpolicy <replaceable>round-robin</replaceable></arg>
<arg choice="opt">&Dash;&Dash;lbpolicymodule <replaceable>lb_policy_module
</replaceable></arg><arg choice="opt">&Dash;&Dash;healthcheckerurl <replaceable>
url</replaceable></arg><arg choice="opt">&Dash;&Dash;healthcheckerinterval <replaceable>
30</replaceable></arg><arg choice="opt">&Dash;&Dash;healthcheckertimeout <replaceable>
10</replaceable></arg><arg choice="opt">&Dash;&Dash;lbenableallinstances=<replaceable>
false</replaceable></arg><arg choice="opt">&Dash;&Dash;lbenableallapplications=<replaceable>
false</replaceable></arg><arg choice="plain"><replaceable>target</replaceable></arg>
</cmdsynopsis></refsynopsisdiv>
<refsect1><title>&desc-tt;</title>
<para>Use the <command>create-http-lb-ref</command> command to:</para>
<itemizedlist>
<listitem><para>Add an existing cluster or server instance to an existing
load balancer configuration The load balancer forwards the requests to the
clustered and stand-alone instances it references.</para></listitem>
<listitem><para>Set the load balancing policy to round-robin, weighted round-robin,
or to a user-defined policy.</para></listitem>
<listitem><para>Configure a health checker for the load balancer. Any health
checker settings defined here apply only to the target. If you do not create
a health checker with this command, use <command>create-http-health-checker
</command>.</para></listitem>
<listitem><para>Enable all instances in the target cluster for load balancing,
or use <command>enable-http-lb-server</command> to enable them individually.
</para></listitem>
<listitem><para>Enable all applications deployed to the target for load balancing,
or use <command>enable-http-lb-application</command> to enable them individually. 
</para></listitem>
</itemizedlist>
</refsect1>
<refsect1><title>&opts-tt;</title>
<variablelist termlength="wide">&options-common;
<varlistentry><term><option role="nodash">&Dash;&Dash;config</option> </term>
<listitem><para>Specifies which load balancer configuration to add clusters
and server instances to.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;lbpolicy</option> </term>
<listitem><para>The policy the load balancer follows. Valid values are <literal>
round-robin</literal>, <literal>weighted-round-robin</literal>, and <literal>
user-defined</literal>. If you choose user-defined, specify a load balancer
policy module with the <literal>lbpolicymodule</literal> option. If you choose <literal>
weighted-round-robin</literal> assign weights to the server instances using
the <command>configure-lb-weight</command> command. The default is <literal>
round-robin</literal>.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;lbpolicymodule</option> 
</term><listitem><para>If your load balancer policy is <literal>user-defined
</literal>, use this option to specify the full path and name of the shared
library of your load balancing policy module. The shared library needs to
be in a location accessible by the web server.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;healthcheckerurl</option> 
</term><listitem><para>The URL to ping to determine whether the instance is
healthy.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;healthcheckerinterval
</option> </term><listitem><para>The interval in seconds the health checker
waits between checks of an unhealthy instance to see whether it has become
healthy. The default value is 30 seconds. A value of 0 disables the health
checker.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;healthcheckertimeout
</option> </term><listitem><para>The interval in seconds the health checker
waits to receive a response from an instance. If the health checker has not
received a response in this interval, the instance is considered unhealthy.
The default is 10.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;lbenableallinstances
</option> </term><listitem><para>Enables all instances in the target cluster
for load balancing. If the target is a server instance, enables that instance
for load balancing.</para>
</listitem></varlistentry>
<varlistentry><term><option role="nodash">&Dash;&Dash;lbenableallapplications
</option> </term><listitem><para>Enables all applications deployed to the
target cluster or instance for load balancing. </para>
</listitem></varlistentry>
</variablelist></refsect1>
<refsect1><title>&oper-tt;</title>
<variablelist termlength="medium">
<varlistentry><term><replaceable>target</replaceable></term><listitem><para>
Specifies which cluster or instance to add to the load balancer. Valid values
are:<itemizedlist>
<listitem><para><replaceable>cluster_name</replaceable>, which specifies that
requests for this cluster will be handled by the load balancer.</para>
</listitem>
<listitem><para><replaceable>stand-alone_instance_name</replaceable>, which
specifies that requests for this stand-<?Pub Caret>alone instance will be
handled by the load balancer.</para>
</listitem>
</itemizedlist></para>
</listitem></varlistentry>
</variablelist></refsect1>
<refsect1><title>&exam-tt;</title>
<example>
<title>Using the create-http-lb-ref command to add a cluster to a load balancer
configuration</title>
<screen>asadmin> <userinput> create-http-lb-ref --user admin --passwordfile file 
--config mylbconfig cluster2 

</userinput>
Command create-http-lb-ref executed successfully.</screen>
</example>
<example>
<title>Using the create-http-lb-ref command to configure a health checker
and load balancing policy, and enable instances and applications</title>
<screen>asadmin> <userinput> create-http-lb-ref --user admin --passwordfile file 
--config mylbconfig --lbpolicy weighted-round-robin 
--healthcheckerinterval 40 --healthcheckertimeout 20 
--lbenableallinstances=true --lbenableallapplications=true cluster2 

</userinput>
Command create-http-lb-ref executed successfully.</screen>
</example>
<example>
<title>Using the create-http-lb-ref command to set a user-defined load balancing
policy</title>
<screen>asadmin> <userinput> create-http-lb-ref --user admin --passwordfile file 
--lbpolicy user-defined --lbpolicymodule /user/modules/module.so 
--config mylbconfig cluster2 

</userinput>
Command create-http-lb-ref executed successfully.</screen>
</example>
</refsect1>
<refsect1><title>&exit-tt;</title>
<variablelist termlength="medium">
<varlistentry><term>0</term><listitem><para>command executed successfully
</para>
</listitem></varlistentry>
<varlistentry><term>1</term><listitem><para>error in executing the command
</para>
</listitem></varlistentry>
</variablelist></refsect1>
<refsect1><title>&also-tt;</title>
<para><link linkend="delete-http-lb-ref-1"><citerefentry><refentrytitle>delete-http-lb-ref
</refentrytitle><manvolnum>1</manvolnum></citerefentry></link>, <link linkend="create-http-health-checker-1"><citerefentry>
<refentrytitle>create-http-health-checker</refentrytitle><manvolnum>1</manvolnum>
</citerefentry></link>, <link linkend="enable-http-lb-server-1"><citerefentry>
<refentrytitle>enable-http-lb-server</refentrytitle><manvolnum>1</manvolnum>
</citerefentry></link>, <link linkend="enable-http-lb-application-1"><citerefentry>
<refentrytitle>enable-http-lb-application</refentrytitle><manvolnum>1</manvolnum>
</citerefentry></link>, <link linkend="list-http-lb-configs-1"><citerefentry>
<refentrytitle>list-http-lb-configs</refentrytitle><manvolnum>1</manvolnum>
</citerefentry></link>, <link linkend="configure-lb-weight-1"><citerefentry>
<refentrytitle>configure-lb-weight</refentrytitle><manvolnum>1</manvolnum>
</citerefentry></link></para>
</refsect1>
</refentry>
<?Pub *0000009611>
