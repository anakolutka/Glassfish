<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- $Id: //release/solbook/online/man2html/man2html2r2/templates/magellan_template.html#1 $ -->
<html>
<head>
<META HTTP-EQUIV="Content-Type" content="text/html"; charset="iso-8879-1">
<title>Sun Java System Application Server Platform Edition 9.0 2006Q1 Reference Manual</title>

</head>
<!--stopindex-->
<body>

<a name="TOC"></a>


<p></p>
<!-- END TOC TITLE ONE LINE -->

<div style="text-align:center">
<a href="../index.html#a-place"><font color="#000000"><B>A</B></font></a> &nbsp;<font color="#aaaaff">B</font> &nbsp;<a href="../index.html#c-place"><font color="#000000"><B>C</B></font></a> &nbsp;<a href="../index.html#d-place"><font color="#000000"><B>D</B></font></a> &nbsp;<font color="#aaaaff">E</font> &nbsp;<font color="#aaaaff">F</font> &nbsp;<font color="#aaaaff">G</font> &nbsp;<font color="#aaaaff">H</font> &nbsp;<font color="#aaaaff">I</font> &nbsp;<a href="../index.html#j-place"><font color="#000000"><B>J</B></font></a> &nbsp;<font color="#aaaaff">K</font> &nbsp;<font color="#aaaaff">L</font> &nbsp;<font color="#aaaaff">M</font> &nbsp;<font color="#aaaaff">N</font> &nbsp;<font color="#aaaaff">O</font> &nbsp;<a href="../index.html#p-place"><font color="#000000"><B>P</B></font></a> &nbsp;<font color="#aaaaff">Q</font> &nbsp;<font color="#aaaaff">R</font> &nbsp;<a href="../index.html#s-place"><font color="#000000"><B>S</B></font></a> &nbsp;<font color="#aaaaff">T</font> &nbsp;<font color="#aaaaff">U</font> &nbsp;<a href="../index.html#v-place"><font color="#000000"><B>V</B></font></a> &nbsp;<a href="../index.html#w-place"><font color="#000000"><B>W</B></font></a> &nbsp;<a href="../index.html#x-place"><font color="#000000"><B>X</B></font></a> &nbsp;<font color="#aaaaff">Y</font> &nbsp;<font color="#aaaaff">Z</font> &nbsp;</div>


<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr valign="top">
<td><img src="../graphics/a.gif" width="10" height="1" border="0" alt="" /></td>
<td>
<!--ADD GIFS HERE-->

</td>
<td width="2%">&nbsp;</td>
<td width="99%">

<!-- BEGIN DOC LIST -->
<table border=0 cellpadding=2 cellspacing=0 width="100%">

<!-- $Change: 9523 $ -->
<Table border="0" width="99%">
<tr>
<td width="50%" align="left"><font class="header">User Commands</font></td><td width="20%" align="right"><font class="header">wsdeploy(1M)</font></td>
</tr>
</Table>

<ul type="disc">
<li class="m2hcolor">NAME</li>
<li class="m2hcolor">SYNOPSIS</li>
<li>
<a href="#428414940">DESCRIPTION</a>
</li>
<li>
<a href="#-531492226">OPTIONS</a>
</li>
<li>
<a href="#-435090550">INPUT WAR FILE</a>
</li>
<li>
<a href="#852382099">jaxrpc-ri.xml FILE</a>
</li>
<li>
<a href="#-1157751126">NAMESPACE MAPPINGS</a>
</li>
<li>
<a href="#784695913">HANDLERS</a>
</li>
<li>
<a href="#1739557780">SEE ALSO</a>
</li>
</ul>

<h2 class="m2hcolor">NAME</h2>
<Blockquote style="margin-left: 2%">&nbsp;wsdeploy - reads a <tt>WAR</tt> file and the <tt>jaxrpc-ri.xml</tt> file and generates another <tt>WAR</tt> file that
is ready for deployment</Blockquote>
<h2 class="m2hcolor">SYNOPSIS</h2>
<blockquote style="margin-left: 2%">&nbsp;<tt>wsdeploy -o <i>input_WAR_file</i> <i>options</i></tt>
<br>
</blockquote>
<h2>
<a class="m2hcolor" name="428414940" href="#TOC">DESCRIPTION</a>
</h2>
<Blockquote style="margin-left: 2%">
<p>Use the <tt>wsdeploy</tt> command to take a WAR file which
does not have implementation specific server side tie classes to generate
a deployable WAR file that can be deployed on the application server. <tt>wsdeploy</tt> internally runs <tt>wscompile</tt> with the -gen:server option. The <tt>wscompile</tt> command generates
classes and a WSDL file which <tt>wsdeploy</tt> includes in the
generated WAR file.</p>
<p>Generally, you don't have to run <tt>wsdeploy</tt> because
the functions it performs are done automatically when you deploy a WAR with <tt>deploytool</tt> or <tt>asadmin</tt>.</p>
</Blockquote>
<h2>
<a class="m2hcolor" name="-531492226" href="#TOC">OPTIONS</a>
</h2>
<Blockquote style="margin-left: 2%">
<dl compact="">
<dt>-classpath <i>path</i>
</dt>
<dd>
<p>location of the input class files.</p>
</dd>
<dt>-keep </dt>
<dd>
<p>keep temporary
files.</p>
</dd>
<dt>-tmpdir <i>directory</i>
</dt>
<dd>
<p>use the specified directory as a temporary directory</p>
</dd>
<dt>-o <i>output WAR file</i> </dt>
<dd>
<p>required; location of the generated WAR file.
This option is required.</p>
</dd>
<dt>-source <i>version</i>
</dt>
<dd>
<p>generates code for the specified JAX-RPC SI version. Supported
version are: 1.0.1, 1.0.3, 1.1, 1.1.1, and 1.1.2 (the default).</p>
</dd>
<dt>-verbose </dt>
<dd>
<p>outputs
messages about what the compiler is doing.</p>
</dd>
<dt>-version </dt>
<dd>
<p>prints
version information.</p>
</dd>
</dl>
</Blockquote>
<h2>
<a class="m2hcolor" name="-435090550" href="#TOC">INPUT WAR FILE</a>
</h2>
<Blockquote style="margin-left: 2%">
<p>The input WAR file for <tt>wsdeploy</tt> will typically have
the following structure:</p>
<p>
<Blockquote style="margin-left: 2%">
<pre>META-INF/MANIFEST.MF
WEB-INF/classes/hello/HelloIF.class
WEB-INF/classes/hello/HelloImpl.class
WEB-INF/jaxrpc-ri.xml
WEB-INF/web.xml</pre>
</Blockquote>
</p>
<p>Where: HelloIF is the service endpoint interface, and HelloImpl is the
class thatimplements the interface. The web.xml file is tghe deployment descriptor
of a web component.</p>
</Blockquote>
<h2>
<a class="m2hcolor" name="852382099" href="#TOC">jaxrpc-ri.xml FILE</a>
</h2>
<Blockquote style="margin-left: 2%">
<p>The following is a simple HelloWorld service.</p>
<p>
<Blockquote style="margin-left: 2%">
<pre>&lt;xml version="1.0" encoding="UTF-8"?&gt;
&lt;webServices&gt;
     xmlns="http://java.sun.com/xml/ns/jax-rpc/ri/dd"
     version="1.0"
     targetNamespaceBase="http://com.test/wsdl"
     typeNamespaceBase="http://com.test/types"
     urlPatternBase="/ws"&gt;
     &lt;endpoint
          name="MyHello"
          displayName="HelloWorld Service"
          description="A simple web service"
          wsdl="/WEB-INF/&lt;wsdlname&gt;
          interface="hello.HelloIF"
          implementation="hello.HelloImpl"/&gt;
     &lt;endpointMapping
          endpointName="MyHello"
          urlPattern="/hello"/&gt;
&lt;/webServices&gt;</pre>
</Blockquote>
</p>
<p>The webServices() element must contain one or more endpoint() elements. The interface and implementation attriutes of endpoint() specify the service's interface and iimplementation class.
The endpointMapping() element associates the service port
with the part of the endpoint URL path that follows the urlPatternBase().</p>
</Blockquote>
<h2>
<a class="m2hcolor" name="-1157751126" href="#TOC">NAMESPACE MAPPINGS</a>
</h2>
<Blockquote style="margin-left: 2%">
<p>Here is a schema type name example:</p>
<p>
<Blockquote style="margin-left: 2%">
<pre>schemaType="ns1:SampleType"
xmlns:ns1="http://echoservice.org/types"</pre>
</Blockquote>
</p>
<p>When generating a Java type from a schema type, wscompile gets the classname
from the local part of the schema type name. To specify the package name of
the generated Java classes, you define a mapping between the schema type namespace
and the package name. You define this mapping by adding a &lt;namespaceMappingRegistry&gt;
element to the config.xml file. For example:</p>
<p>
<Blockquote style="margin-left: 2%">
<pre>
&lt;service&gt;
     ...
     &lt;namespaceMappingRegistry&gt;
          &lt;namespaceMapping
          namespace="http://echoservice.org/types"
          packageName="echoservice.org.types"/&gt;
          &lt;/namespaceMappingRegistry&gt;
     .....
&lt;/service&gt;</pre>
</Blockquote>
</p>
<p>You can also map namespaces in the oppisite direction, from schema types
to Java types. In this case, the generated schema types are taken from the
package that the type comes from.</p>
</Blockquote>
<h2>
<a class="m2hcolor" name="784695913" href="#TOC">HANDLERS</a>
</h2>
<Blockquote style="margin-left: 2%">
<p>A handler accesses a SOAP message that represents an RPC request or
response. A handler class must implement the <tt>javax.xml.rpc.handler</tt> interface. Because it accesses a SOAP message, a handler can manipulate
the message with the APIs of the javax.xml.soap.package().</p>
<p>A handler chain is a list of handlers. You may specify one handler chain
for the client and one for the server. On the client, you include the handlerChains() element in the <tt>jaxrpc-ri.xml</tt>
file. On the server, you include this element in the <tt>config.xml</tt> file. Here is an example of the handlerChains()
element in the <tt>config.xml</tt>:</p>
<p>
<Blockquote style="margin-left: 2%">
<pre>
&lt;handlerChains&gt;
  &lt;chain runAt="server"
     roles=
       "http://acme.org/auditing
       "http://acme.org/morphing"
       xmlns:ns1="http://foo/foo-1"&gt;
     &lt;handler className="acme.MyHandler"
       headers ="ns1:foo ns1:bar"/&gt;
       &lt;property
          name="property" value="xyz"/&gt;
       &lt;/handler&gt;
     &lt;/chain&gt;
&lt;/handlerChains&gt;</pre>
</Blockquote>
</p>
<p>For more information on handlers, see the SOAP message Handlers chapter
of the JAX-PRC specifications.</p>
</Blockquote>
<h2>
<a class="m2hcolor" name="1739557780" href="#TOC">SEE ALSO</a>
</h2>
<Blockquote style="margin-left: 2%">
<p>
<a class="m2hlink" href="../hman1m/wscompile.1m.html"><tt>wscompile</tt>(1M)</a>
</p>
</Blockquote>





</table>




<!-- END GLOBAL FOOTER -->
</body>
</html>

