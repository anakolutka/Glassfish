
Administration Commands                    create-jms-resource(1)

NAME
     create-jms-resource - creates a JMS resource

SYNOPSIS
     create-jms-resource
     [--terse={true|false}][ --echo={true|false} ]
     [ --interactive={true|false} ] [ --host  host]
     [--port port] [--secure| -s ] [ --user  admin_user]
     [--passwordfile filename] [--help]
      [ --target  target]
      --restype type [--enabled={true|false}]
      [ --description  text] [--property (name=value)[:name=value]*]
      jndi_name

DESCRIPTION
     The create-jms-resource command creates a Java Message  Ser-
     vice  (JMS) connection factory resource or a JMS destination
     resource. This command is supported in remote mode only.

OPTIONS
     -t --terse

         Indicates that any output data  must  be  very  concise,
         typically avoiding human-friendly sentences and favoring
         well-formatted data for consumption by a script. Default
         is false.

     -e --echo
         If set to true, the command-line statement is echoed  on
         the standard output. Default is false.

     -I --interactive

         If set to true (default),  only  the  required  password
         options are prompted.

     -H --host
         The machine name where the domain administration  server
         is running. The default value is localhost.

     -p --port

         The HTTP port or HTTPS  port  for  administration.  This
         port is the port in the URL that you specify in your web
         browser   to   manage   the   domain,    for    example,
         http://localhost:4848.

         The default port number for administration is 4848.

Java EE 6           Last change: 15 Apr 2009                    1

Administration Commands                    create-jms-resource(1)

     -s --secure

         If set to true, uses SSL/TLS  to  communicate  with  the
         domain administration server.

         The default is false.

     -u --user
         The user name of the authorized administrative  user  of
         the domain administration server.

         If you have authenticated to a domain by using the asad-
         min  login  command,  you  need  not  specify the --user
         option for subsequent operations on the domain.

     --passwordfile

         Specifies the name, including the full path, of  a  file
         that contains the password entries in a specific format.

         The entry for a password must have the AS_ADMIN_  prefix
         followed  by the password name in uppercase letters. For
         example, to specify the password for the domain adminis-
         tration server, use an entry with the following format:

           AS_ADMIN_PASSWORD=password

         In this example, password is  the  actual  administrator
         password.

         The following other passwords can also be specified:

             o    AS_ADMIN_MAPPEDPASSWORD

             o    AS_ADMIN_USERPASSWORD

             o    AS_ADMIN_ALIASPASSWORD
         All remote  commands  must  specify  the  administration
         password  to  authenticate  to the domain administration
         server. The password can be specified by one of the fol-
         lowing means:

             o    Through the --passwordfile option

             o    Through the asadmin login command

             o    Interactively at the command prompt
         The asadmin login command can be used  only  to  specify
         the  administration  password.  For other passwords that
         remote commands require, use the  --passwordfile  option
         or specify them at the command prompt.

Java EE 6           Last change: 15 Apr 2009                    2

Administration Commands                    create-jms-resource(1)

         After authenticating to a domain by  using  the  asadmin
         login  command,  you need not specify the administration
         password through the --passwordfile  option  for  subse-
         quent  operations  on  the  domain.  However,  only  the
         AS_ADMIN_PASSWORD option is not required. You still must
         provide    the    other    passwords,    for    example,
         AS_ADMIN_USERPASSWORD, when required by individual  com-
         mands, such as update-file-user.

         For security reasons, a password that is specified as an
         environment variable is not read by the asadmin command.

         The  default  value   for   AS_ADMIN_MASTERPASSWORD   is
         changeit.

     --help

         Displays the help text for the command.

     --target
         Do not specify this option. This option is retained  for
         compatibility  with  other releases. If you specify this
         option, a syntax error does not occur. Instead, the com-
         mand  runs  successfully  and  the  option  is  silently
         ignored.

     --restype

         The JMS resource type,  which  can  be  javax.jms.Topic,
         javax.jms.Queue,javax.jms.TopicConnectionFactory,     or
         javax.jms.QueueConnectionFactory.

     --enabled
         If set to true (the default), the resource is enabled at
         runtime.

     --description

         Text providing details of the JMS resource.

     --property
         Optional attribute name/value pairs for configuring  the
         JMS resource.

         You can specify the following properties for  a  connec-
         tion factory resource:

Java EE 6           Last change: 15 Apr 2009                    3

Administration Commands                    create-jms-resource(1)

         ClientId                     Specifies a client ID for a
                                      connection   factory   that
                                      will be used by  a  durable
                                      subscriber.

         AddressList                  This is  a  comma-separated
                                      list   of   message   queue
                                      addresses. It specifies the
                                      names   (and,   optionally,
                                      port numbers) of a  message
                                      broker      instance     or
                                      instances with  which  your
                                      application  will  communi-
                                      cate. Each address  in  the
                                      list   specifies  the  host
                                      name (and, optionally, host
                                      port  and  connection  ser-
                                      vice) for  the  connection.
                                      For   example,   the  value
                                      could    be    earth     or
                                      earth:7677.   Specify   the
                                      port number if the  message
                                      broker is running on a port
                                      other  than   the   default
                                      (7676). If you specify mul-
                                      tiple hosts and ports in  a
                                      clustered  environment, the
                                      first available host on the
                                      list  is  used. Default: An
                                      address list composed  from
                                      the  jms-hosts  defined  in
                                      the  target's   jms-service
                                      configuration.  The default
                                      for PE is  local  host  and
                                      the  default port number is
                                      7676.   The   client   will
                                      attempt  a  connection to a
                                      broker on port 7676 of  the
                                      local host.

         MessageServiceAddressList    Same as  AddressList.  This
                                      property   name  is  depre-
                                      cated.   Use    AddressList
                                      instead.

         UserName                     The user name for the  con-
                                      nection  factory.  Default:
                                      guest.

Java EE 6           Last change: 15 Apr 2009                    4

Administration Commands                    create-jms-resource(1)

         Password                     The password for  the  con-
                                      nection  factory.  Default:
                                      guest.

         ReconnectEnabled             If enabled (value =  true),
                                      it   indicates   that   the
                                      client runtime attempts  to
                                      reconnect   to   a  message
                                      server  (or  the  list   of
                                      addresses       in      the
                                      AddressList) when a connec-
                                      tion   is   lost.  Default:
                                      false.

         ReconnectAttempts            Specifies  the  number   of
                                      attempts   to  connect  (or
                                      reconnect) for each address
                                      in  the  AddressList before
                                      the  client  runtime  tries
                                      the  next  address  in  the
                                      list. A value of  -1  indi-
                                      cates  that  the  number of
                                      reconnect    attempts    is
                                      unlimited  (the client run-
                                      time attempts to connect to
                                      the  first address until it
                                      succeeds). Default: 6.

         ReconnectInterval            Specifies the  interval  in
                                      milliseconds between recon-
                                      nect attempts. This applies
                                      to attempts on each address
                                      in the AddressList and  for
                                      successive addresses in the
                                      list. If  the  interval  is
                                      too  short, the broker does
                                      not have time  to  recover.
                                      If  it  is  too  long,  the
                                      reconnect  might  represent
                                      an    unacceptable   delay.
                                      Default:    30,000     mil-
                                      liseconds.

         AddressListBehavior          Specifies  whether  connec-
                                      tion  attempts  are  in the
                                      order of addresses  in  the
                                      AddressList       attribute
                                      (PRIORITY) or in  a  random

Java EE 6           Last change: 15 Apr 2009                    5

Administration Commands                    create-jms-resource(1)

                                      order   (RANDOM).  PRIORITY
                                      means  that  the  reconnect
                                      will  always try to connect
                                      to the first server address
                                      in the AddressList and will
                                      use another one only if the
                                      first  broker is not avail-
                                      able.  If  you  have   many
                                      clients  attempting  a con-
                                      nection using the same con-
                                      nection   factory,  specify
                                      RANDOM to prevent them from
                                      all  being connected to the
                                      same address. Default:  The
                                      AddressListBehavior   value
                                      of the target's jms-service
                                      configuration.

         AddressListIterations        Specifies  the  number   of
                                      times  the  client  runtime
                                      iterates    through     the
                                      AddressList in an effort to
                                      establish (or re-establish)
                                      a  connection).  A value of
                                      -1   indicates   that   the
                                      number   of   attempts   is
                                      unlimited. Default: -1.

         You can specify the following properties for a  destina-
         tion resource:

         Name

             (Required) This property specifies the name  of  the
             physical  destination  to  which  the  resource will
             refer. You create a physical  destination  with  the
             create-jmsdest command.

         Description
             This property provides a description of the physical
             destination.

OPERANDS
     jndi_name

         The JNDI name of the JMS resource to be created.

Java EE 6           Last change: 15 Apr 2009                    6

Administration Commands                    create-jms-resource(1)

EXAMPLES
     Example 1 Creating a JMS  connection  factory  resource  for
     durable subscriptions

     The following command creates a connection factory  resource
     of  type javax.jms.TopicConnectionFactory whose JNDI name is
     jms/DurableTopicConnectionFactory.  The  ClientId   property
     sets a client ID on the connection factory so that it can be
     used for durable subscriptions. The  JNDI  name  for  a  JMS
     resource customarily includes the jms/ naming subcontext.

       asadmin> create-jms-resource --user admin1
       --passwordfile passwords.txt --host pigeon --port 5001
       --restype javax.jms.TopicConnectionFactory --description
       "example of creating a JMS connection factory"
       --property ClientId=MyID jms/DurableTopicConnectionFactory
       Command create-jms-resource executed successfully.

     Example 2 Creating a JMS destination resource

     The following command creates a destination  resource  whose
     JNDI  name  is  jms/MyQueue. The Name property specifies the
     physical destination to which the resource refers.

       asadmin> create-jms-resource --user admin1
       --passwordfile passwords.txt --host pigeon --port 5001
       --restype javax.jms.Queue --property Name=PhysicalQueue jms/MyQueue
       Command create-jms-resource executed successfully.

EXIT STATUS
     0                           command executed successfully

     1                           error in executing the command

SEE ALSO
     delete-jms-resource(1),    list-jms-resources(1),    create-
     jmsdest(1)

Java EE 6           Last change: 15 Apr 2009                    7

