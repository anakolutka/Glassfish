<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><!-- GenHTML@16097-->
<head>
  <META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=iso-8859-1">
  <!-- ident      "%Z%%M% %I%     %E% SMI" -->

  <title><IMG border="0" alt="Procedure" src="graphics/procedure-toc.gif">To configure general properties for the JMS provider
  </title>
  <script type="text/javascript" src="/com_sun_web_ui/js/browserVersion.js"></script>
  <script type="text/javascript" src="/com_sun_web_ui/js/stylesheet.js"></script>
  <script type="text/javascript"><!-- Empty script so IE5.0 Windows will draw table and button borders --></script>
  <meta name="Copyright" content="Copyright &copy; 2006 by Sun Microsystems, Inc. All Rights Reserved." />
</head>

<body class="HlpBdy">

<A NAME="ablkn"></A><h4><IMG border="0" alt="Procedure" src="graphics/procedure.gif">To configure general properties for the JMS provider</h4>
<A NAME="indexterm-91"></A><p>Use the JMS Service page to configure properties to be used by all JMS
connections.</p>
<p>For more information about configuring the JMS service, see <A HREF="http://docs.sun.com/app/docs/doc/819-3672" target="_blank">Chapter 18, "Using the Java Message Service," in <i>Sun Java System Application Server Enterprise Edition 9.1 Developer's Guide</i></A>.</p>
<ol><li><p><b>In the tree component, select the Configurations node.</b></p></li>
<li><p><b>Select the instance to configure:</b></p><ul><li><p><b>To configure a particular instance, select the instance's
config node. For example, for the default instance, <tt>server</tt>,
select the <tt>server-config</tt> node.</b></p></li>
<li><p><b>To configure the default settings for future instances that use
a copy of <tt>default-config</tt>, select the <tt>default-config</tt> node.</b></p></li>
</ul>
</li>
<li><p><b>Select the Java Message Service node to open the JMS Service page.</b></p></li>
<li><p><b>Edit the value in the Startup Timeout field to change the time
the Application Server waits for the JMS service to start before aborting the startup. </b></p><p>On a slow or overloaded system, increase the value from the default
(60).</p>
</li>
<li><p><b>From the Type drop-down list:</b></p><ul><li><p>Choose <tt>EMBEDDED</tt> to access the JMS service
on the local host. The JMS service is started in-process and managed by the Application Server.
This is the default type of JMS Service for the Platform Edition. </p>
</li>
<li><p>Choose <tt>LOCAL</tt> (the default for
the <tt>server-config</tt> configuration) to access the JMS service
on the local host. The JMS service is started and managed by the Application Server.</p>
</li>
<li><p>Choose <tt>REMOTE</tt> (the default
for the <tt>default-config</tt> configuration) to access the
JMS service on another system or on a cluster. If you
choose <tt>REMOTE</tt>, the JMS service is not started by the Application Server the
next time the server starts. Instead, the JMS service is started and managed
via Message Queue, so you must start the Message Queue broker separately.
For information about starting the broker, see the <b>Message Queue
Administration Guide.</b> If you choose this value and are using a
remote host, follow the instructions in <A HREF="ablkp.html#ablkp">To edit a JMS host</A> to specify the name of the remote host.</p>
</li>
</ul>
</li>
<li><p><b>In the Startup Timeout field, enter the number of seconds to wait
for the JMS service to start.</b></p></li>
<li><p><b>In the Start Arguments field, type arguments to customize the
JMS service startup. </b></p><p>Use any arguments available through the <i>MQ-</i><i>install-dir</i><tt>/imq/bin/imqbrokerd</tt> command.</p>
</li>
<li><p><b>Select the Reconnect checkbox to make the JMS service attempt
to reconnect to a message server (or the list of addresses in the AddressList)
when a connection is lost.</b></p><p>By default, reconnection is enabled.</p>
</li>
<li><p><b>In the Reconnect Interval field, type the number of seconds between
reconnect attempts. </b></p><p>This applies for attempts on each address
in the AddressList and for successive addresses in the list. If it is too
short, this time interval does not give a broker time to recover. If it is
too long, the reconnect might represent an unacceptable delay.</p>
<p>The
default value is 60 seconds.</p>
</li>
<li><p><b>In the Reconnect Attempts field, type the number of attempts to
connect (or reconnect) for each address in the AddressList before the client
runtime tries the next address in the list. </b></p><p>A value of -1 indicates
that the number of reconnect attempts is unlimited (the client runtime attempts
to connect to the first address until it succeeds). The default value is 3.</p>
</li>
<li><p><b>Choose a host from the Default JMS Host drop-down list. The default
is <tt>default_JMS_host</tt>.</b></p></li>
<li><p><b>In the Address List Behavior drop-down list, choose the order
of connection attempts.</b></p><p><tt>priority</tt> means that
the reconnect always tries to connect to the first server address in the AddressList
and uses another one only if the first broker is not available.</p>
<p><tt>random</tt> (the default) means to select an address from the AddressList
randomly. If there are many clients attempting a connection using the same
connection factory, specify <tt>random</tt> to prevent them from
all being connected to the same address.</p>
</li>
<li><p><b>In the Address List Iterations field, type the number of times
the JMS service iterates through the AddressList in an effort to establish
(or reestablish) a connection). </b></p><p>A value of -1 indicates that
the number of attempts is unlimited.</p>
<p>The default value is 3.</p>
</li>
<li><p><b>In the MQ Scheme and MQ Service fields, type the Message Queue
address scheme name and the Message Queue connection service name if a non-default
scheme or service is to be used. </b></p><p>The full syntax for a message
service address is</p>
<table cellpadding="4" border="1" cols="1" width="100%"><td><pre><i>scheme</i>://<i>address-syntax</i></pre>
</td></table><br><p>where the <i>scheme</i> and <i>address-syntax</i> are described in the table below.</p>
<p>The MQ Scheme
and MQ Service are the values shown in the first two columns of the following
table.</p>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>Scheme Name                                  </p></th><th scope="col"><p>Connection Service                                  </p></th><th scope="col"><p>Description                                  </p></th><th scope="col"><p>Address Syntax                                  </p></th></tr>
<tr><td><p><tt>mq</tt></p></td><td><p><tt>jms</tt> and <tt>ssljms</tt></p></td><td><p>Message Queue client runtime makes a connection to the MQ Port Mapper
at the specified host and port. The Port Mapper returns a list of the dynamically
established connection service ports, and the Message Queue client runtime
then makes a connection to the port hosting the specified connection service.</p></td><td><p><tt>[</tt><i>hostName</i><tt>][:</tt><i>port</i><tt>][/</tt><i>serviceName</i><tt>]</tt></p><p>Defaults:   <i>hostName</i> = <tt>localhost</tt>,
  <i>port</i> = <tt>7676</tt>,   <i>serviceName</i> = <tt>jms</tt></p><p>Defaults only apply to the <tt>jms</tt> connection service.
For the <tt>ssljms</tt> connection service, all variables need to
be specified.</p><p>Example: <tt>mq:MyHost:7677/ssljms</tt></p></td></tr>
<tr><td><p><tt>mqtcp</tt></p></td><td><p><tt>jms</tt></p></td><td><p>Message Queue client runtime makes a TCP connection to the specified
host and port (bypassing the MQ Port Mapper) to establish a connection.</p></td><td><p><i>hostName</i><tt>:</tt><i>port</i><tt>/jms</tt></p><p>Example: <tt>mqtcp:localhost:7676/jms</tt></p></td></tr>
<tr><td><p><tt>mqssl</tt></p></td><td><p><tt>ssljms</tt></p></td><td><p>Message Queue client runtime makes a secure SSL connection to the specified
host and port (bypassing the MQ Port Mapper) to establish a connection.</p></td><td><p><i>hostName</i><tt>:</tt><i>port</i><tt>/ssljms</tt></p><p>Example: <tt>mqssl:localhost:7676/ssljms</tt></p></td></tr>
<tr><td><p><tt>http</tt></p></td><td><p><tt>httpjms</tt></p></td><td><p>Message Queue client runtime makes an HTTP connection to an Message
Queue tunnel servlet at the specified URL. (The broker must be configured
to access the HTTP tunnel servlet, as described in the Message Queue <b>Administrator's
Guide</b>.)</p></td><td><p><i>hostName</i><tt>:</tt><i>port</i><tt>/</tt><i>contextRoot</i><tt>/tunnel</tt></p><p>If multiple broker instances are using the same tunnel servlet, then
the syntax for connecting to a specific broker instance (rather than a randomly
selected one) is: <tt>http://</tt><i>hostName</i><tt>:</tt><i>port</i><tt>/</tt><i>contextRoot</i><tt>/tunnel?</tt><i>serverName</i><tt>=</tt><i>hostName</i><tt>:</tt><i>instanceName</i></p></td></tr>
<tr><td><p><tt>https</tt></p></td><td><p><tt>httpsjms</tt></p></td><td><p>Message Queue client runtime makes a secure HTTPS connection to the
specified Message Queue tunnel servlet URL. (The broker must be configured
to access the HTTPS tunnel servlet, as described in the Message Queue <b>Administrator's
Guide</b>.)</p></td><td><p><i>hostName</i><tt>:</tt><i>port</i><tt>/</tt><i>contextRoot</i><tt>/tunnel</tt></p><p>If multiple broker instances are using the same tunnel servlet, then
the syntax for connecting to a specific broker instance (rather than a randomly
selected one) is: <tt>http://</tt><i>hostName</i><tt>:</tt><i>port</i><tt>/</tt><i>contextRoot</i><tt>/tunnel?</tt><i>serverName</i><tt>=</tt><i>hostName</i><tt>:</tt><i>instanceName</i></p></td></tr>
</table></li>
<li><p><b>In the Additional Properties area, click Add Property to add a
property. </b></p><p>The following table lists the available Sun Java System Message
Queue broker configuration properties.</p>

<table cellspacing="5" border="1">
<tr><th scope="col"><p>Property Name                                  </p></th><th scope="col"><p>Description                                  </p></th></tr>
<tr><td><p><tt>instance-name</tt><A NAME="indexterm-92"></A><A NAME="indexterm-93"></A></p></td><td><p>Specifies the full Message Queue broker instance name. The default is <tt>imqbroker</tt>.</p></td></tr>
<tr><td><p><tt>instance-name-suffix</tt><A NAME="indexterm-94"></A><A NAME="indexterm-95"></A></p></td><td><p>Specifies a suffix to add to the full Message Queue broker instance
name. The suffix is separated from the instance name by an underscore character
(<tt>_</tt>). For example, if the instance name is <tt>imqbroker</tt>,
appending the suffix <tt>xyz</tt> changes the instance name to <tt>imqbroker_xyz</tt>.</p></td></tr>
<tr><td><p><tt>append-version</tt><A NAME="indexterm-96"></A><A NAME="indexterm-97"></A></p></td><td><p>If <tt>true</tt>, appends the major and minor version numbers,
preceded by underscore characters (<tt>_</tt>), to the full Message
Queue broker instance name. For example, if the instance name is <tt>imqbroker</tt>, appending the version numbers changes the instance name to <tt>imqbroker_8_0</tt>. The default is <tt>false</tt>.</p></td></tr>
</table></li>
<li><p><b>Click Save to save the changes, or click Load Defaults to restore
the default values for the service.</b></p></li>
</ol><h5>More Information<br>Accessing Remote Servers</h5>
<p>Changing the provider and host to a remote system causes all JMS applications
to run on the remote server. To use both the local server and one or more
remote servers, create a connection factory resource with the <tt>AddressList</tt> property to create connections that access remote servers. See <b>Broken Link (Target ID: ABLKC)</b>.</p>
<h5>See Also</h5><ul><li><p><A HREF="ablko.html#ablko">To create a JMS host</A></p>
</li>
<li><p><A HREF="ablkp.html#ablkp">To edit a JMS host</A></p>
</li>
<li><p><A HREF="ablkq.html#ablkq">To delete a JMS host</A></p>
</li>
<li><p><b>Broken Link (Target ID: ABLKC)</b></p>
</li>
</ul>

<br />

</body>
</html>
